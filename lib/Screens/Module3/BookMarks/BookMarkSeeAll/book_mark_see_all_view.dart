import 'dart:convert';

import 'package:another_flushbar/flushbar.dart';
import 'package:carousel_slider/carousel_slider.dart';
import 'package:firebase_dynamic_links/firebase_dynamic_links.dart';
import 'package:flutter/gestures.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_svg/svg.dart';
import 'package:get/get.dart';
import 'package:google_mobile_ads/google_mobile_ads.dart';
import 'package:http/http.dart' as http;
import 'package:lottie/lottie.dart';
import 'package:share_plus/share_plus.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:tradewatchfinal/Constants/API/API.dart';
import 'package:tradewatchfinal/Screens/Module1/NewsPage/Demo/demo_view.dart';
import 'package:tradewatchfinal/Screens/Module1/Settings/Settings/settings_skip_view.dart';
import 'package:tradewatchfinal/Screens/Module1/Settings/Settings/settings_view.dart';
import 'package:tradewatchfinal/Screens/Module1/Settings/Theme/theme_page.dart';
import 'package:tradewatchfinal/Screens/Module1/VideosPage/you_tube_player_landscape_screen.dart';
import 'package:tradewatchfinal/Screens/Module1/bottom_navigation.dart';
import 'package:tradewatchfinal/Screens/Module1/notifications_page.dart';
import 'package:tradewatchfinal/Screens/Module2/FeatureRequest/feature_request_page.dart';
import 'package:tradewatchfinal/Screens/Module2/Forum/forum_post_description_page.dart';
import 'package:tradewatchfinal/Screens/Module2/Forum/forum_post_edit_page.dart';
import 'package:tradewatchfinal/Screens/Module2/Survey/analytics_page.dart';
import 'package:tradewatchfinal/Screens/Module2/Survey/questionnaire_page.dart';
import 'package:tradewatchfinal/Screens/Module3/BookMarks/BookMarkWidget/DoubleOne/book_mark_widget_bloc.dart';
import 'package:tradewatchfinal/Screens/Module6/BillBoardScreens/Blog/blog_description_page.dart';
import 'package:tradewatchfinal/Screens/Module6/BillBoardScreens/Bytes/bytes_description_page.dart';
import 'package:tradewatchfinal/Screens/Module6/BillBoardScreens/UserProfile/user_bill_board_profile_page.dart';

import 'book_mark_see_all_bill_board_model.dart';
import 'book_mark_see_all_model.dart';

class BookMarkSeeAllView extends StatefulWidget {
  final String type;

  const BookMarkSeeAllView({super.key, required this.type});

  @override
  State<BookMarkSeeAllView> createState() => _BookMarkSeeAllViewState();
}

class _BookMarkSeeAllViewState extends State<BookMarkSeeAllView> {
  bool loader = false;
  bool searchLoader = false;
  bool emptyBool = false;
  int skipCount = 0;
  late BookMarkSeeAllModel _bookMarkSeeAll;
  final TextEditingController _searchController = TextEditingController();
  List<String> idList = [];
  List<String> descriptionList = [];
  List<String> snippetList = [];
  List<bool> isLikedList = [];
  List<bool> isDislikedList = [];
  List<int> likeCountList = [];
  List<int> dislikeCountList = [];
  List<bool> bookMarkList = [];
  List<String> exchangeList = [];
  late Uri newLink;
  final CarouselController _carController = CarouselController();
  int carouselIndexGlobal = 0;
  List<NativeAd> nativeAdList = <NativeAd>[];
  List<bool> nativeAdIsLoadedList = <bool>[];

  getNotifyCountAndImage() async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    await functionsMain.getNotifyCount();
    avatarMain.value = prefs.getString('newUserAvatar') ?? "https://tradewatch-s3.s3.ap-south-1.amazonaws.com/users/user.png";
  }

  @override
  void initState() {
    getAllDataMain(name: 'Bookmark_SeeAll_${widget.type}');
    getAllData();
    super.initState();
  }

  getAllData() async {
    context.read<BookMarkWidgetBloc>().add(const LoadingEvent());
    getNotifyCountAndImage();
    await bookMarkSeeAllFunction();
    if (widget.type != "billboard") {
      idList.clear();
      descriptionList.clear();
      snippetList.clear();
      isLikedList.clear();
      isDislikedList.clear();
      likeCountList.clear();
      dislikeCountList.clear();
      bookMarkList.clear();
      exchangeList.clear();
      if (_bookMarkSeeAll.response.isEmpty) {
        setState(() {
          emptyBool = true;
          searchLoader = false;
          loader = true;
        });
      } else {
        emptyBool = false;
        for (int i = 0; i < _bookMarkSeeAll.response.length; i++) {
          idList.add(_bookMarkSeeAll.response[i].postId);
          descriptionList.add(_bookMarkSeeAll.response[i].description);
          snippetList.add(_bookMarkSeeAll.response[i].snippet);
          isLikedList.add(_bookMarkSeeAll.response[i].likes);
          isDislikedList.add(_bookMarkSeeAll.response[i].dislikes);
          likeCountList.add(_bookMarkSeeAll.response[i].likesCount);
          dislikeCountList.add(_bookMarkSeeAll.response[i].disLikesCount);
          bookMarkList.add(_bookMarkSeeAll.response[i].bookmark);
          if (_bookMarkSeeAll.response[i].category.toLowerCase() == 'stocks') {
            if (_bookMarkSeeAll.response[i].exchange == "NSE" ||
                _bookMarkSeeAll.response[i].exchange == "BSE" ||
                _bookMarkSeeAll.response[i].exchange == "INDX") {
              exchangeList.add(_bookMarkSeeAll.response[i].exchange.toLowerCase());
            } else if (_bookMarkSeeAll.response[i].exchange == "") {
              exchangeList.add("");
            } else {
              exchangeList.add("usastocks");
            }
          } else if (_bookMarkSeeAll.response[i].category.toLowerCase() == 'crypto') {
            exchangeList.add(_bookMarkSeeAll.response[i].industry.isEmpty ? "coin" : _bookMarkSeeAll.response[i].industry[0].name);
          } else if (_bookMarkSeeAll.response[i].category.toLowerCase() == 'commodity') {
            exchangeList.add(_bookMarkSeeAll.response[i].country.toLowerCase());
          } else {
            exchangeList.add('inrusd');
          }
        }
        setState(() {
          searchLoader = false;
          loader = true;
        });
      }
    } else {
      setState(() {
        loader = true;
      });
    }
  }

  bookMarkSeeAllFunction() async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    String mainUserToken = prefs.getString('newUserToken') ?? "";
    var url = Uri.parse(baseurl + versionBookMark + seeAllList);
    var response = await http.post(url,
        headers: {'Authorization': mainUserToken}, body: {"type": widget.type, "search": _searchController.text, "skip": skipCount.toString()});
    var responseData = json.decode(response.body);
    nativeAdList.clear();
    nativeAdIsLoadedList.clear();
    if (widget.type == "billboard") {
      mainVariables.valueMapListProfilePage.clear();
      BookMarkSeeAllBillBoardModel bookMarkSeeAllBillBoard = BookMarkSeeAllBillBoardModel.fromJson(responseData);
      mainVariables.valueMapListProfilePage.addAll(bookMarkSeeAllBillBoard.response);
      for (int i = 0; i < bookMarkSeeAllBillBoard.response.length; i++) {
        nativeAdIsLoadedList.add(false);
        nativeAdList.add(NativeAd(
          adUnitId: adVariables.nativeAdUnitId,
          request: const AdRequest(),
          nativeTemplateStyle: NativeTemplateStyle(
              mainBackgroundColor: Theme.of(context).colorScheme.background,
              templateType: widget.type == 'news'
                  ? TemplateType.medium
                  : widget.type == 'videos'
                      ? TemplateType.medium
                      : widget.type == 'forums'
                          ? TemplateType.small
                          : widget.type == 'survey'
                              ? TemplateType.small
                              : widget.type == 'billboard'
                                  ? TemplateType.medium
                                  : TemplateType.medium),
          listener: NativeAdListener(
            onAdLoaded: (Ad ad) {
              debugPrint('$NativeAd loaded.');
              setState(() {
                nativeAdIsLoadedList[i] = true;
              });
            },
            onAdFailedToLoad: (Ad ad, LoadAdError error) {
              debugPrint('$NativeAd failedToLoad: $error');
              ad.dispose();
            },
            onAdOpened: (Ad ad) => debugPrint('$NativeAd onAdOpened.'),
            onAdClosed: (Ad ad) => debugPrint('$NativeAd onAdClosed.'),
          ),
        )..load());
      }
    } else {
      _bookMarkSeeAll = BookMarkSeeAllModel.fromJson(responseData);
      for (int i = 0; i < _bookMarkSeeAll.response.length; i++) {
        nativeAdIsLoadedList.add(false);
        nativeAdList.add(NativeAd(
          adUnitId: adVariables.nativeAdUnitId,
          request: const AdRequest(),
          nativeTemplateStyle: NativeTemplateStyle(
              mainBackgroundColor: Theme.of(context).colorScheme.background,
              templateType: widget.type == 'news'
                  ? TemplateType.medium
                  : widget.type == 'videos'
                      ? TemplateType.medium
                      : widget.type == 'forums'
                          ? TemplateType.small
                          : widget.type == 'survey'
                              ? TemplateType.small
                              : widget.type == 'billboard'
                                  ? TemplateType.medium
                                  : TemplateType.medium),
          listener: NativeAdListener(
            onAdLoaded: (Ad ad) {
              debugPrint('$NativeAd loaded.');
              setState(() {
                nativeAdIsLoadedList[i] = true;
              });
            },
            onAdFailedToLoad: (Ad ad, LoadAdError error) {
              debugPrint('$NativeAd failedToLoad: $error');
              ad.dispose();
            },
            onAdOpened: (Ad ad) => debugPrint('$NativeAd onAdOpened.'),
            onAdClosed: (Ad ad) => debugPrint('$NativeAd onAdClosed.'),
          ),
        )..load());
      }
    }
  }

  Future<bool> likeFunction({required String id, required String type}) async {
    var uri = Uri.parse(baseurl + versionLocker + likes);
    var response = await http.post(uri, headers: {
      "authorization": kToken,
    }, body: {
      "id": id,
      "type": type,
    });
    var responseData = jsonDecode(response.body);
    if (responseData['status'] == true) {
      if (!mounted) {
        return false;
      }
      Flushbar(
        message: responseData['message'],
        duration: const Duration(seconds: 2),
      ).show(context);
    } else {
      if (!mounted) {
        return false;
      }
      Flushbar(
        message: responseData['message'],
        duration: const Duration(seconds: 2),
      ).show(context);
    }
    return responseData['status'];
  }

  Future<bool> disLikeFunction({required String id, required String type}) async {
    var uri = Uri.parse(baseurl + versionLocker + dislikes);
    var response = await http.post(uri, headers: {
      "authorization": kToken,
    }, body: {
      "id": id,
      "type": type
    });
    var responseData = jsonDecode(response.body);
    if (responseData['status'] == true) {
      if (!mounted) {
        return false;
      }
      Flushbar(
        message: responseData['message'],
        duration: const Duration(seconds: 2),
      ).show(context);
    } else {
      if (!mounted) {
        return false;
      }
      Flushbar(
        message: responseData['message'],
        duration: const Duration(seconds: 2),
      ).show(context);
    }
    return responseData['status'];
  }

  Future<bool> shareFunction({required String id, required String type}) async {
    var uri = Uri.parse(baseurl + versionLocker + share);
    var response = await http.post(uri, headers: {
      "authorization": kToken,
    }, body: {
      "id": id,
      "type": type
    });
    var responseData = jsonDecode(response.body);
    if (responseData['status'] == true) {
    } else {
      if (!mounted) {
        return false;
      }
      Flushbar(
        message: responseData['message'],
        duration: const Duration(seconds: 2),
      ).show(context);
    }
    return responseData['status'];
  }

  Future<Uri> getLinkNews({
    required String id,
    required String type,
    required String imageUrl,
    required String title,
    required String description,
  }) async {
    final dynamicLinkParams = DynamicLinkParameters(
        uriPrefix: domainLink,
        link: Uri.parse('$domainLink/DemoPage/$id/$type'),
        androidParameters: const AndroidParameters(packageName: "com.tradewatch.tradewatch"),
        iosParameters: const IOSParameters(bundleId: "com.tradewatch.tradewatch", appStoreId: "1625656597"),
        socialMetaTagParameters: SocialMetaTagParameters(title: title, description: '', imageUrl: Uri.parse(imageUrl)));
    ShortDynamicLink dynamicLink = await FirebaseDynamicLinks.instance.buildShortLink(dynamicLinkParams, shortLinkType: ShortDynamicLinkType.short);
    return dynamicLink.shortUrl;
  }

  Future<Uri> getLinkVideos(
      {required String id, required String type, required String imageUrl, required String title, required String description}) async {
    final dynamicLinkParams = DynamicLinkParameters(
        uriPrefix: domainLink,
        link: Uri.parse('$domainLink/VideoDescriptionPage/$id/$type'),
        androidParameters: const AndroidParameters(packageName: "com.tradewatch.tradewatch"),
        iosParameters: const IOSParameters(bundleId: "com.tradewatch.tradewatch", appStoreId: "1625656597"),
        socialMetaTagParameters: SocialMetaTagParameters(title: title, description: '', imageUrl: Uri.parse(imageUrl)));
    final dynamicLink = await FirebaseDynamicLinks.instance.buildShortLink(dynamicLinkParams, shortLinkType: ShortDynamicLinkType.short);
    return dynamicLink.shortUrl;
  }

  Future<Uri> getLinkForums(
      {required String id,
      required String type,
      required String imageUrl,
      required String title,
      required String description,
      required String category,
      required String filterId}) async {
    final dynamicLinkParams = DynamicLinkParameters(
        uriPrefix: domainLink,
        link: Uri.parse('$domainLink/ForumPostDescriptionPage/$id/$type/$category/$filterId'),
        androidParameters: const AndroidParameters(packageName: "com.tradewatch.tradewatch"),
        iosParameters: const IOSParameters(bundleId: "com.tradewatch.tradewatch", appStoreId: "1625656597"),
        socialMetaTagParameters: SocialMetaTagParameters(title: title, description: '', imageUrl: Uri.parse(imageUrl)));
    final dynamicLink = await FirebaseDynamicLinks.instance.buildShortLink(dynamicLinkParams, shortLinkType: ShortDynamicLinkType.short);
    return dynamicLink.shortUrl;
  }

  Future<Uri> getLinKSurvey(
      {required String id, required String type, required String imageUrl, required String title, required String description}) async {
    final dynamicLinkParams = DynamicLinkParameters(
        uriPrefix: domainLink,
        link: Uri.parse('$domainLink/AnalyticsPage/$id/$type/$title'),
        androidParameters: const AndroidParameters(packageName: "com.tradewatch.tradewatch"),
        iosParameters: const IOSParameters(bundleId: "com.tradewatch.tradewatch", appStoreId: "1625656597"),
        socialMetaTagParameters: SocialMetaTagParameters(title: title, description: '', imageUrl: Uri.parse(imageUrl)));
    final dynamicLink = await FirebaseDynamicLinks.instance.buildShortLink(dynamicLinkParams, shortLinkType: ShortDynamicLinkType.short);
    return dynamicLink.shortUrl;
  }

  @override
  void dispose() {
    for (int i = 0; i < nativeAdList.length; i++) {
      nativeAdList[i].dispose();
    }
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    double width = MediaQuery.of(context).size.width;
    double height = MediaQuery.of(context).size.height;
    TextScaler text = MediaQuery.of(context).textScaler;
    return SafeArea(
        child: Scaffold(
      // backgroundColor: const Color(0XFFFFFFFF),
      backgroundColor: Theme.of(context).colorScheme.background,
      appBar: AppBar(
        // backgroundColor: const Color(0XFFFFFFFF),
        backgroundColor: Theme.of(context).colorScheme.background,
        automaticallyImplyLeading: false,
        elevation: 0.0,
        toolbarHeight: 63,
        leading: IconButton(
          onPressed: () {
            if (!mounted) {
              return;
            }
            Navigator.pop(context);
          },
          icon: const Icon(
            Icons.arrow_back,
          ),
        ),
        title: Row(
          mainAxisAlignment: MainAxisAlignment.spaceBetween,
          crossAxisAlignment: CrossAxisAlignment.center,
          children: [
            Text(
              "My Bookmarks",
              style: TextStyle(fontSize: text.scale(16), fontWeight: FontWeight.w600, fontFamily: "Poppins"),
            ),
            Row(
              crossAxisAlignment: CrossAxisAlignment.center,
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                GestureDetector(
                    onTap: () async {
                      bool response = await Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                        return const NotificationsPage();
                      }));
                      if (response) {
                        await functionsMain.getNotifyCount();
                        setState(() {});
                      }
                    },
                    child: widgetsMain.getNotifyBadge(context: context)),
                SizedBox(
                  width: width / 23.43,
                ),
                GestureDetector(
                    onTap: () {
                      Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                        return mainSkipValue ? const SettingsSkipView() : const SettingsView();
                      }));
                    },
                    child: widgetsMain.getProfileImage(context: context, isLogged: mainSkipValue)),
              ],
            )
          ],
        ),
      ),
      body: loader
          ? Container(
              width: width,
              padding: EdgeInsets.symmetric(horizontal: width / 27.4),
              decoration: BoxDecoration(
                borderRadius: const BorderRadius.only(topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                color: Theme.of(context).colorScheme.onBackground,
                boxShadow: [
                  BoxShadow(
                    blurRadius: 4.0,
                    spreadRadius: 0.0,
                    color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                  ),
                ],
              ),
              child: SingleChildScrollView(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    SizedBox(
                      height: height / 54.75,
                    ),
                    SizedBox(
                      height: height / 19.33,
                      child: TextFormField(
                        cursorColor: Colors.green,
                        onChanged: (value) async {
                          if (value.isNotEmpty) {
                            setState(() {
                              searchLoader = true;
                            });
                            getAllData();
                          }
                        },
                        style: Theme.of(context).textTheme.bodyMedium,
                        controller: _searchController,
                        keyboardType: TextInputType.emailAddress,
                        decoration: InputDecoration(
                          fillColor: Theme.of(context).colorScheme.tertiary,
                          filled: true,
                          contentPadding: const EdgeInsets.only(left: 15),
                          prefixIcon: Padding(
                            padding: EdgeInsets.symmetric(horizontal: width / 27.4, vertical: height / 57.73),
                            child: SvgPicture.asset("lib/Constants/Assets/SMLogos/HomeScreen/Icon Search.svg"),
                          ),
                          suffixIcon: _searchController.text.isNotEmpty
                              ? GestureDetector(
                                  onTap: () async {
                                    setState(() {
                                      _searchController.clear();
                                    });
                                    getAllData();
                                    FocusScope.of(context).unfocus();
                                  },
                                  child: const Icon(Icons.cancel, size: 22),
                                )
                              : const SizedBox(),
                          focusedErrorBorder: OutlineInputBorder(
                            borderSide: const BorderSide(color: Color(0xffD8D8D8), width: 0.1),
                            borderRadius: BorderRadius.circular(12),
                          ),
                          focusedBorder: OutlineInputBorder(
                            borderSide: const BorderSide(color: Color(0xffD8D8D8), width: 0.1),
                            borderRadius: BorderRadius.circular(12),
                          ),
                          enabledBorder: OutlineInputBorder(
                            borderSide: const BorderSide(color: Color(0xffD8D8D8), width: 0.1),
                            borderRadius: BorderRadius.circular(12),
                          ),
                          hintStyle: Theme.of(context).textTheme.bodyMedium!.copyWith(color: const Color(0XFFA5A5A5)),
                          hintText: 'Search here',
                          border: OutlineInputBorder(
                            borderSide: const BorderSide(color: Color(0xffD8D8D8), width: 0.1),
                            borderRadius: BorderRadius.circular(12),
                          ),
                        ),
                      ),
                    ),
                    SizedBox(
                      height: height / 54.75,
                    ),
                    Text(
                      widget.type.capitalizeFirst ?? "",
                      style: TextStyle(fontSize: text.scale(16), fontWeight: FontWeight.w600),
                    ),
                    SizedBox(
                      height: height / 54.75,
                    ),
                    Column(
                      children: [
                        SizedBox(height: height / 50.75),
                        searchLoader
                            ? SizedBox(
                                height: height / 1.5,
                                child: Center(
                                  child: Lottie.asset('lib/Constants/Assets/SMLogos/loading.json', height: 100, width: 100),
                                ))
                            : emptyBool
                                ? SizedBox(
                                    height: height / 1.2,
                                    width: width,
                                    child: Column(
                                      children: [
                                        SizedBox(
                                          height: height / 14,
                                        ),
                                        SizedBox(
                                            height: height / 3.2, width: width, child: Image.asset("lib/Constants/Assets/SMLogos/Illustrasi.png")),
                                        SizedBox(height: height / 33.83),
                                        Text(
                                          "Unfortunately, the content for the specified filters is not available.",
                                          textAlign: TextAlign.center,
                                          style: TextStyle(
                                            fontSize: text.scale(18),
                                            fontWeight: FontWeight.w600,
                                          ),
                                        ),
                                        SizedBox(
                                          height: height / 20.3,
                                        ),
                                        const Text(
                                          "We're doing everything we can to give all of the content that our customers desire, and we'll keep adding to it as soon as we can.",
                                          textAlign: TextAlign.center,
                                          style: TextStyle(fontSize: 12, fontWeight: FontWeight.w600),
                                        ),
                                        SizedBox(
                                          height: height / 54.13,
                                        ),
                                        RichText(
                                          textAlign: TextAlign.center,
                                          text: TextSpan(children: <TextSpan>[
                                            TextSpan(
                                                text: "You can try adjusting your filters or submit a new request for this item to be added on the ",
                                                style: TextStyle(fontSize: text.scale(12), fontWeight: FontWeight.w600, fontFamily: "Poppins")),
                                            TextSpan(
                                              recognizer: TapGestureRecognizer()
                                                ..onTap = () {
                                                  Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                    return const FeatureRequestPage();
                                                  }));
                                                },
                                              text: "Feature request page.",
                                              style: TextStyle(
                                                  fontSize: text.scale(12),
                                                  color: const Color(0XFF0EA102),
                                                  fontWeight: FontWeight.w600,
                                                  fontFamily: "Poppins"),
                                            ),
                                          ]),
                                        ),
                                      ],
                                    ),
                                  )
                                : ListView.builder(
                                    shrinkWrap: true,
                                    physics: const ScrollPhysics(),
                                    scrollDirection: Axis.vertical,
                                    itemCount: widget.type == "billboard" ? mainVariables.valueMapListProfilePage.length : idList.length,
                                    itemBuilder: (context, index) {
                                      if (index % 5 == 4 && nativeAdIsLoadedList[index]) {
                                        return Column(
                                          children: [
                                            Container(
                                                height: widget.type == 'forums' || widget.type == 'survey' ? height / 9.10 : height / 2.8,
                                                padding: const EdgeInsets.all(5),
                                                margin: const EdgeInsets.symmetric(horizontal: 10),
                                                decoration: BoxDecoration(
                                                  boxShadow: [
                                                    BoxShadow(spreadRadius: 1, blurRadius: 1, offset: const Offset(1, 2), color: Colors.grey.shade300)
                                                  ],
                                                  color: Colors.white,
                                                  borderRadius: BorderRadius.circular(15),
                                                ),
                                                foregroundDecoration: BoxDecoration(
                                                  borderRadius: BorderRadius.circular(15),
                                                ),
                                                clipBehavior: Clip.hardEdge,
                                                child: AdWidget(ad: nativeAdList[index])),
                                            SizedBox(height: height / 57.73),
                                            widget.type == 'news'
                                                ? Column(
                                                    children: [
                                                      Container(
                                                        height: height / 3.23,
                                                        margin: const EdgeInsets.symmetric(horizontal: 5),
                                                        child: Column(
                                                          children: [
                                                            GestureDetector(
                                                              onTap: () async {
                                                                /* if(descriptionList[index]==""&& snippetList[index]==""){
                                          Navigator.push(context,
                                              MaterialPageRoute(
                                                  builder: (context) {
                                                    return DemoPage(
                                                      url: _bookMarkSeeAll.response[index].newsUrl,
                                                      text: _bookMarkSeeAll.response[index].title,
                                                      image: "",
                                                      id: idList[index],
                                                      type: 'news',
                                                      activity: true,
                                                      checkMain: false,
                                                    );
                                                  }));
                                        }else{
                                          bool response= await Navigator.push(context, MaterialPageRoute(builder: (BuildContext context)=>
                                              NewsDescriptionPage(
                                                comeFrom: 'newsMain',
                                                id: idList[index],
                                                idList: idList,
                                                descriptionList: descriptionList,
                                                snippetList: snippetList,
                                              )));
                                          if(response){
                                            getAllData();
                                          }
                                        }*/

                                                                ///need to change it soon
                                                                /*Navigator.push(context, MaterialPageRoute(builder: (context) {
                                                                return DemoPage(
                                                                  url: _bookMarkSeeAll.response[index].newsUrl,
                                                                  text: _bookMarkSeeAll.response[index].title,
                                                                  image: "",
                                                                  id: idList[index],
                                                                  type: 'news',
                                                                  activity: true,
                                                                  checkMain: false,
                                                                );
                                                              }));*/
                                                                Get.to(const DemoView(), arguments: {
                                                                  "id": mainVariables
                                                                      .bookMarkOverViewAllMain!.value.response[0].billBoard[index].postId,
                                                                  "type": "news",
                                                                  "url": ""
                                                                });
                                                              },
                                                              child: Stack(
                                                                alignment: Alignment.bottomLeft,
                                                                children: [
                                                                  Container(
                                                                    height: height / 4.77,
                                                                    decoration: BoxDecoration(
                                                                      boxShadow: [
                                                                        BoxShadow(
                                                                            spreadRadius: 0.0,
                                                                            blurRadius: 4.0,
                                                                            color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3))
                                                                      ],
                                                                      image: DecorationImage(
                                                                        image: NetworkImage(_bookMarkSeeAll.response[index].imageUrl),
                                                                        fit: BoxFit.fill,
                                                                      ),
                                                                      color: Theme.of(context).colorScheme.background,
                                                                      borderRadius: const BorderRadius.only(
                                                                          topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                    ),
                                                                  ),
                                                                  Container(
                                                                    height: height / 10.97,
                                                                    width: width,
                                                                    padding: const EdgeInsets.all(10),
                                                                    decoration: BoxDecoration(
                                                                      color: Colors.black12.withOpacity(0.3),
                                                                    ),
                                                                    child: Text(
                                                                      _bookMarkSeeAll.response[index].title,
                                                                      style: TextStyle(
                                                                          fontSize: text.scale(14),
                                                                          color: Colors.white,
                                                                          fontWeight: FontWeight.w500,
                                                                          fontFamily: "Poppins"),
                                                                    ),
                                                                  ),
                                                                  Positioned(
                                                                    top: 0,
                                                                    left: 0,
                                                                    right: 0,
                                                                    child: Container(
                                                                      height: height / 20,
                                                                      width: width,
                                                                      padding: const EdgeInsets.all(10),
                                                                      decoration: const BoxDecoration(
                                                                        borderRadius: BorderRadius.only(
                                                                            topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                        //  color: Colors.black12.withOpacity(0.3),
                                                                      ),
                                                                      child: Row(
                                                                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                        children: [
                                                                          sentimentButton(
                                                                              context: context, text: _bookMarkSeeAll.response[index].sentiment),
                                                                          excLabelButton(text: exchangeList[index], context: context)
                                                                        ],
                                                                      ),
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            Container(
                                                              height: height / 10.02,
                                                              decoration: BoxDecoration(
                                                                  color: Theme.of(context).colorScheme.background,
                                                                  borderRadius: const BorderRadius.only(
                                                                      bottomLeft: Radius.circular(15), bottomRight: Radius.circular(15)),
                                                                  boxShadow: [
                                                                    BoxShadow(
                                                                        spreadRadius: 0.0,
                                                                        blurRadius: 4.0,
                                                                        color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3))
                                                                  ]),
                                                              child: Container(
                                                                margin: const EdgeInsets.symmetric(vertical: 5),
                                                                padding: const EdgeInsets.only(left: 15.0),
                                                                child: Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  children: [
                                                                    Expanded(
                                                                      child: Column(
                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                        mainAxisAlignment: MainAxisAlignment.center,
                                                                        children: [
                                                                          Text(
                                                                            _bookMarkSeeAll.response[index].sourceName.capitalizeFirst ?? "",
                                                                            style: TextStyle(
                                                                                fontSize: text.scale(12),
                                                                                color: const Color(0XFFF7931A),
                                                                                fontWeight: FontWeight.w500,
                                                                                fontFamily: "Poppins"),
                                                                          ),
                                                                          const SizedBox(
                                                                            height: 5,
                                                                          ),
                                                                          Row(
                                                                            children: [
                                                                              Text(
                                                                                _bookMarkSeeAll.response[index].date,
                                                                                style: TextStyle(
                                                                                    fontSize: text.scale(10),
                                                                                    color: const Color(0XFFB0B0B0),
                                                                                    fontWeight: FontWeight.w500,
                                                                                    fontFamily: "Poppins"),
                                                                              ),
                                                                              const SizedBox(
                                                                                width: 3,
                                                                              ),
                                                                              InkWell(
                                                                                onTap: mainSkipValue
                                                                                    ? () {
                                                                                        commonFlushBar(context: context, initFunction: initState);
                                                                                      }
                                                                                    : () async {
                                                                                        setState(() {
                                                                                          kUserSearchController.clear();
                                                                                          onTapType = "liked";
                                                                                          onTapId = idList[index];
                                                                                          onLike = true;
                                                                                          onDislike = false;
                                                                                          idKeyMain = "news_id";
                                                                                          apiMain = baseurl + versionLocker + newsLikeDislikeCount;
                                                                                          onTapIdMain = idList[index];
                                                                                          onTapTypeMain = "liked";
                                                                                          haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                          haveDisLikesMain =
                                                                                              dislikeCountList[index] > 0 ? true : false;
                                                                                          likesCountMain = likeCountList[index];
                                                                                          dislikesCountMain = dislikeCountList[index];
                                                                                          kToken = kToken;
                                                                                          loaderMain = false;
                                                                                        });
                                                                                        await customShowSheetNew3(
                                                                                          context: context,
                                                                                          responseCheck: 'feature',
                                                                                        );
                                                                                      },
                                                                                child: Text(
                                                                                  "${likeCountList[index]} Likes",
                                                                                  style: TextStyle(
                                                                                      fontSize: text.scale(10),
                                                                                      color: const Color(0XFFB0B0B0),
                                                                                      fontWeight: FontWeight.w900,
                                                                                      fontFamily: "Poppins"),
                                                                                ),
                                                                              ),
                                                                              const SizedBox(
                                                                                width: 3,
                                                                              ),
                                                                              InkWell(
                                                                                onTap: mainSkipValue
                                                                                    ? () {
                                                                                        commonFlushBar(context: context, initFunction: initState);
                                                                                      }
                                                                                    : () async {
                                                                                        setState(() {
                                                                                          kUserSearchController.clear();
                                                                                          onTapType = "disliked";
                                                                                          onTapId = idList[index];
                                                                                          onLike = false;
                                                                                          onDislike = true;
                                                                                          idKeyMain = "news_id";
                                                                                          apiMain = baseurl + versionLocker + newsLikeDislikeCount;
                                                                                          onTapIdMain = idList[index];
                                                                                          onTapTypeMain = "disliked";
                                                                                          haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                          haveDisLikesMain =
                                                                                              dislikeCountList[index] > 0 ? true : false;
                                                                                          likesCountMain = likeCountList[index];
                                                                                          dislikesCountMain = dislikeCountList[index];
                                                                                          kToken = kToken;
                                                                                          loaderMain = false;
                                                                                        });
                                                                                        await customShowSheetNew3(
                                                                                          context: context,
                                                                                          responseCheck: 'feature',
                                                                                        );
                                                                                      },
                                                                                child: Text(
                                                                                  "${dislikeCountList[index]} Dislikes",
                                                                                  style: TextStyle(
                                                                                      fontSize: text.scale(10),
                                                                                      color: const Color(0XFFB0B0B0),
                                                                                      fontWeight: FontWeight.w900,
                                                                                      fontFamily: "Poppins"),
                                                                                ),
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    Container(
                                                                      margin: const EdgeInsets.only(left: 8),
                                                                      width: width / 2.6,
                                                                      child: Row(
                                                                        children: [
                                                                          GestureDetector(
                                                                              onTap: mainSkipValue
                                                                                  ? () {
                                                                                      commonFlushBar(context: context, initFunction: initState);
                                                                                    }
                                                                                  : () async {
                                                                                      bool response1 =
                                                                                          await likeFunction(id: idList[index], type: "news");
                                                                                      if (response1) {
                                                                                        logEventFunc(name: "Likes", type: "News");
                                                                                        setState(() {
                                                                                          if (isLikedList[index] == true) {
                                                                                            if (isDislikedList[index] == true) {
                                                                                            } else {
                                                                                              likeCountList[index] -= 1;
                                                                                            }
                                                                                          } else {
                                                                                            if (isDislikedList[index] == true) {
                                                                                              dislikeCountList[index] -= 1;
                                                                                              likeCountList[index] += 1;
                                                                                            } else {
                                                                                              likeCountList[index] += 1;
                                                                                            }
                                                                                          }
                                                                                          isLikedList[index] = !isLikedList[index];
                                                                                          isDislikedList[index] = false;
                                                                                        });
                                                                                      } else {}
                                                                                    },
                                                                              child: Container(
                                                                                child: isLikedList[index]
                                                                                    ? SvgPicture.asset(
                                                                                        isDarkTheme.value
                                                                                            ? "assets/home_screen/like_filled_dark.svg"
                                                                                            : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                        height: 20,
                                                                                        width: 20)
                                                                                    : SvgPicture.asset(
                                                                                        isDarkTheme.value
                                                                                            ? "assets/home_screen/like_dark.svg"
                                                                                            : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                        height: 20,
                                                                                        width: 20,
                                                                                      ),
                                                                              )),
                                                                          SizedBox(width: width / 20),
                                                                          GestureDetector(
                                                                              onTap: () async {
                                                                                logEventFunc(name: 'Share', type: 'News');
                                                                                newLink = await getLinkNews(
                                                                                  id: idList[index],
                                                                                  type: "news",
                                                                                  description: '',
                                                                                  imageUrl: _bookMarkSeeAll.response[index].imageUrl,
                                                                                  title: _bookMarkSeeAll.response[index].title,
                                                                                );
                                                                                ShareResult result = await Share.share(
                                                                                  "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                                );
                                                                                if (result.status == ShareResultStatus.success) {
                                                                                  await shareFunction(id: idList[index], type: "news");
                                                                                }
                                                                              },
                                                                              child: SvgPicture.asset(
                                                                                isDarkTheme.value
                                                                                    ? "assets/home_screen/share_dark.svg"
                                                                                    : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                              )),
                                                                          SizedBox(width: width / 20),
                                                                          GestureDetector(
                                                                            onTap: mainSkipValue
                                                                                ? () {
                                                                                    commonFlushBar(context: context, initFunction: initState);
                                                                                  }
                                                                                : () async {
                                                                                    bool response3 =
                                                                                        await disLikeFunction(id: idList[index], type: "news");
                                                                                    if (response3) {
                                                                                      logEventFunc(name: "Dislikes", type: "News");
                                                                                      setState(() {
                                                                                        if (isDislikedList[index] == true) {
                                                                                          if (isLikedList[index] == true) {
                                                                                          } else {
                                                                                            dislikeCountList[index] -= 1;
                                                                                          }
                                                                                        } else {
                                                                                          if (isLikedList[index] == true) {
                                                                                            likeCountList[index] -= 1;
                                                                                            dislikeCountList[index] += 1;
                                                                                          } else {
                                                                                            dislikeCountList[index] += 1;
                                                                                          }
                                                                                        }
                                                                                        isDislikedList[index] = !isDislikedList[index];
                                                                                        isLikedList[index] = false;
                                                                                      });
                                                                                    } else {}
                                                                                  },
                                                                            child: isDislikedList[index]
                                                                                ? SvgPicture.asset(
                                                                                    isDarkTheme.value
                                                                                        ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                        : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                                    height: 20,
                                                                                    width: 20)
                                                                                : SvgPicture.asset(
                                                                                    isDarkTheme.value
                                                                                        ? "assets/home_screen/dislike_dark.svg"
                                                                                        : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                                    height: 20,
                                                                                    width: 20),
                                                                          ),
                                                                          SizedBox(width: width / 20),
                                                                          bookMarkWidget(
                                                                              bookMark: bookMarkList,
                                                                              context: context,
                                                                              scale: 3.2,
                                                                              id: idList[index],
                                                                              type: 'news',
                                                                              modelSetState: setState,
                                                                              index: index,
                                                                              initFunction: getAllData,
                                                                              notUse: true),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                  ],
                                                                ),
                                                              ),
                                                            )
                                                          ],
                                                        ),
                                                      ),
                                                      SizedBox(
                                                        height: height / 33.83,
                                                      )
                                                    ],
                                                  )
                                                : widget.type == 'videos'
                                                    ? Column(
                                                        children: [
                                                          Container(
                                                            height: height / 3.23,
                                                            margin: const EdgeInsets.symmetric(horizontal: 5),
                                                            child: Column(
                                                              children: [
                                                                GestureDetector(
                                                                  onTap: () async {
                                                                    Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                      return YoutubePlayerLandscapeScreen(
                                                                        id: idList[index],
                                                                        comeFrom: "bookmarkSeeAll",
                                                                      );
                                                                    }));
                                                                  },
                                                                  child: Stack(
                                                                    alignment: Alignment.bottomLeft,
                                                                    children: [
                                                                      Container(
                                                                        height: height / 4.77,
                                                                        decoration: BoxDecoration(
                                                                          boxShadow: [
                                                                            BoxShadow(
                                                                              spreadRadius: 0.0,
                                                                              blurRadius: 4.0,
                                                                              color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                            ),
                                                                          ],
                                                                          image: DecorationImage(
                                                                            image: NetworkImage(_bookMarkSeeAll.response[index].imageUrl),
                                                                            fit: BoxFit.fill,
                                                                          ),
                                                                          color: Theme.of(context).colorScheme.background,
                                                                          borderRadius: const BorderRadius.only(
                                                                              topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                        ),
                                                                      ),
                                                                      Column(
                                                                        children: [
                                                                          Row(
                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                            children: [
                                                                              Container(
                                                                                width: width / 7.5,
                                                                                height: height / 16.24,
                                                                                padding: const EdgeInsets.all(10),
                                                                                decoration: BoxDecoration(
                                                                                  shape: BoxShape.circle,
                                                                                  color: Colors.black12.withOpacity(0.3),
                                                                                ),
                                                                                child: const Center(
                                                                                    child: Icon(
                                                                                  Icons.play_arrow,
                                                                                  color: Colors.white,
                                                                                )),
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          const SizedBox(
                                                                            height: 5,
                                                                          ),
                                                                          Container(
                                                                            height: height / 10.97,
                                                                            width: width,
                                                                            padding: const EdgeInsets.all(10),
                                                                            decoration: BoxDecoration(
                                                                              color: Colors.black12.withOpacity(0.3),
                                                                            ),
                                                                            child: Text(
                                                                              _bookMarkSeeAll.response[index].title,
                                                                              style: TextStyle(
                                                                                  fontSize: text.scale(14),
                                                                                  color: Colors.white,
                                                                                  fontWeight: FontWeight.w500,
                                                                                  fontFamily: "Poppins"),
                                                                            ),
                                                                          ),
                                                                        ],
                                                                      ),
                                                                      Positioned(
                                                                        top: 0,
                                                                        left: 0,
                                                                        right: 0,
                                                                        child: Container(
                                                                          height: height / 20,
                                                                          width: width,
                                                                          padding: const EdgeInsets.all(10),
                                                                          decoration: const BoxDecoration(
                                                                            borderRadius: BorderRadius.only(
                                                                                topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                            // color: Colors.black12.withOpacity(0.3),
                                                                          ),
                                                                          child: Row(
                                                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                            children: [
                                                                              sentimentButton(
                                                                                  context: context, text: _bookMarkSeeAll.response[index].sentiment),
                                                                              excLabelButton(text: exchangeList[index], context: context)
                                                                            ],
                                                                          ),
                                                                        ),
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                Container(
                                                                  height: height / 10.02,
                                                                  decoration: BoxDecoration(
                                                                      color: Theme.of(context).colorScheme.background,
                                                                      borderRadius: const BorderRadius.only(
                                                                          bottomLeft: Radius.circular(15), bottomRight: Radius.circular(15)),
                                                                      boxShadow: [
                                                                        BoxShadow(
                                                                          spreadRadius: 0.0,
                                                                          blurRadius: 4.0,
                                                                          color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                        ),
                                                                      ]),
                                                                  child: Container(
                                                                    margin: const EdgeInsets.symmetric(vertical: 5),
                                                                    padding: const EdgeInsets.only(left: 15.0),
                                                                    child: Row(
                                                                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                      children: [
                                                                        Expanded(
                                                                          child: Column(
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                            children: [
                                                                              Text(
                                                                                _bookMarkSeeAll.response[index].sourceName.capitalizeFirst!,
                                                                                style: TextStyle(
                                                                                    fontSize: text.scale(12),
                                                                                    color: const Color(0XFFF7931A),
                                                                                    fontWeight: FontWeight.w500,
                                                                                    fontFamily: "Poppins"),
                                                                              ),
                                                                              const SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                              Row(
                                                                                children: [
                                                                                  Text(
                                                                                    _bookMarkSeeAll.response[index].date,
                                                                                    style: TextStyle(
                                                                                        fontSize: text.scale(10),
                                                                                        color: const Color(0XFFB0B0B0),
                                                                                        fontWeight: FontWeight.w500,
                                                                                        fontFamily: "Poppins"),
                                                                                  ),
                                                                                  const SizedBox(
                                                                                    width: 3,
                                                                                  ),
                                                                                  InkWell(
                                                                                    onTap: mainSkipValue
                                                                                        ? () {
                                                                                            commonFlushBar(context: context, initFunction: initState);
                                                                                          }
                                                                                        : () async {
                                                                                            setState(() {
                                                                                              kUserSearchController.clear();
                                                                                              onTapType = "Views";
                                                                                              onTapId = idList[index];
                                                                                              onLike = false;
                                                                                              onDislike = false;
                                                                                              onViews = true;
                                                                                              idKeyMain = "video_id";
                                                                                              apiMain = baseurl + versionLocker + videoViewCount;
                                                                                              onTapIdMain = idList[index];
                                                                                              onTapTypeMain = "Views";
                                                                                              haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                              haveDisLikesMain =
                                                                                                  dislikeCountList[index] > 0 ? true : false;
                                                                                              haveViewsMain =
                                                                                                  _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                                      ? true
                                                                                                      : false;
                                                                                              likesCountMain = likeCountList[index];
                                                                                              dislikesCountMain = dislikeCountList[index];
                                                                                              viewCountMain =
                                                                                                  _bookMarkSeeAll.response[index].viewsCount;
                                                                                              kToken = kToken;
                                                                                            });
                                                                                            //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionLocker + videoViewCount, idKey: 'video_id', setState: setState);
                                                                                            bool data = await likeCountFunc(
                                                                                                context: context, newSetState: setState);
                                                                                            if (data) {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              customShowSheet1(context: context);
                                                                                              setState(() {
                                                                                                loaderMain = true;
                                                                                              });
                                                                                            } else {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Flushbar(
                                                                                                message: "Still no one has viewed this post",
                                                                                                duration: const Duration(seconds: 2),
                                                                                              ).show(context);
                                                                                            }
                                                                                          },
                                                                                    child: Text(
                                                                                      "${_bookMarkSeeAll.response[index].viewsCount} Views",
                                                                                      style: TextStyle(
                                                                                          fontSize: text.scale(10),
                                                                                          color: const Color(0XFFB0B0B0),
                                                                                          fontWeight: FontWeight.w900,
                                                                                          fontFamily: "Poppins"),
                                                                                    ),
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        Container(
                                                                          margin: const EdgeInsets.only(left: 8),
                                                                          width: width / 2.6,
                                                                          child: Row(
                                                                            children: [
                                                                              GestureDetector(
                                                                                  onTap: mainSkipValue
                                                                                      ? () {
                                                                                          commonFlushBar(context: context, initFunction: initState);
                                                                                        }
                                                                                      : () async {
                                                                                          bool response1 =
                                                                                              await likeFunction(id: idList[index], type: "videos");
                                                                                          if (response1) {
                                                                                            logEventFunc(name: "Likes", type: "Videos");
                                                                                            setState(() {
                                                                                              if (isLikedList[index] == true) {
                                                                                                if (isDislikedList[index] == true) {
                                                                                                } else {
                                                                                                  likeCountList[index] -= 1;
                                                                                                }
                                                                                              } else {
                                                                                                if (isDislikedList[index] == true) {
                                                                                                  dislikeCountList[index] -= 1;
                                                                                                  likeCountList[index] += 1;
                                                                                                } else {
                                                                                                  likeCountList[index] += 1;
                                                                                                }
                                                                                              }
                                                                                              isLikedList[index] = !isLikedList[index];
                                                                                              isDislikedList[index] = false;
                                                                                            });
                                                                                          } else {}
                                                                                        },
                                                                                  child: Container(
                                                                                    child: isLikedList[index]
                                                                                        ? SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/like_filled_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                            height: 20,
                                                                                            width: 20)
                                                                                        : SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/like_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                            height: 20,
                                                                                            width: 20,
                                                                                          ),
                                                                                  )),
                                                                              SizedBox(width: width / 20),
                                                                              GestureDetector(
                                                                                  onTap: () async {
                                                                                    logEventFunc(name: "Share", type: "Videos");
                                                                                    newLink = await getLinkVideos(
                                                                                        id: idList[index],
                                                                                        type: "videos",
                                                                                        description: '',
                                                                                        imageUrl: _bookMarkSeeAll.response[index].imageUrl,
                                                                                        title: _bookMarkSeeAll.response[index].title);
                                                                                    ShareResult result = await Share.share(
                                                                                      "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                                    );
                                                                                    if (result.status == ShareResultStatus.success) {
                                                                                      await shareFunction(id: idList[index], type: "videos");
                                                                                    }
                                                                                  },
                                                                                  child: SvgPicture.asset(
                                                                                    isDarkTheme.value
                                                                                        ? "assets/home_screen/share_dark.svg"
                                                                                        : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                                  )),
                                                                              SizedBox(width: width / 20),
                                                                              GestureDetector(
                                                                                onTap: mainSkipValue
                                                                                    ? () {
                                                                                        commonFlushBar(context: context, initFunction: initState);
                                                                                      }
                                                                                    : () async {
                                                                                        bool response3 =
                                                                                            await disLikeFunction(id: idList[index], type: "videos");
                                                                                        if (response3) {
                                                                                          logEventFunc(name: "Dislikes", type: "Videos");
                                                                                          setState(() {
                                                                                            if (isDislikedList[index] == true) {
                                                                                              if (isLikedList[index] == true) {
                                                                                              } else {
                                                                                                dislikeCountList[index] -= 1;
                                                                                              }
                                                                                            } else {
                                                                                              if (isLikedList[index] == true) {
                                                                                                likeCountList[index] -= 1;
                                                                                                dislikeCountList[index] += 1;
                                                                                              } else {
                                                                                                dislikeCountList[index] += 1;
                                                                                              }
                                                                                            }
                                                                                            isDislikedList[index] = !isDislikedList[index];
                                                                                            isLikedList[index] = false;
                                                                                          });
                                                                                        } else {}
                                                                                      },
                                                                                child: isDislikedList[index]
                                                                                    ? SvgPicture.asset(
                                                                                        isDarkTheme.value
                                                                                            ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                            : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                                        height: 20,
                                                                                        width: 20)
                                                                                    : SvgPicture.asset(
                                                                                        isDarkTheme.value
                                                                                            ? "assets/home_screen/dislike_dark.svg"
                                                                                            : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                                        height: 20,
                                                                                        width: 20),
                                                                              ),
                                                                              SizedBox(width: width / 20),
                                                                              bookMarkWidget(
                                                                                  bookMark: bookMarkList,
                                                                                  context: context,
                                                                                  scale: 3.2,
                                                                                  id: idList[index],
                                                                                  type: 'videos',
                                                                                  modelSetState: setState,
                                                                                  index: index,
                                                                                  initFunction: getAllData,
                                                                                  notUse: true),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                )
                                                              ],
                                                            ),
                                                          ),
                                                          SizedBox(
                                                            height: height / 33.83,
                                                          )
                                                        ],
                                                      )
                                                    : widget.type == 'forums'
                                                        ? GestureDetector(
                                                            onTap: () async {
                                                              Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                return ForumPostDescriptionPage(
                                                                  forumId: idList[index],
                                                                  comeFrom: "bookmark",
                                                                  idList: idList,
                                                                );
                                                              }));
                                                            },
                                                            child: Container(
                                                              margin: EdgeInsets.only(bottom: height / 35),
                                                              padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 5),
                                                              decoration: BoxDecoration(
                                                                  color: Theme.of(context).colorScheme.background,
                                                                  borderRadius: BorderRadius.circular(20),
                                                                  boxShadow: [
                                                                    BoxShadow(
                                                                      spreadRadius: 0.0,
                                                                      blurRadius: 4.0,
                                                                      color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                    ),
                                                                  ]),
                                                              child: Column(
                                                                children: [
                                                                  const SizedBox(
                                                                    height: 10,
                                                                  ),
                                                                  Container(
                                                                    color: Theme.of(context).colorScheme.background,
                                                                    child: Row(
                                                                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: [
                                                                        Row(
                                                                          mainAxisAlignment: MainAxisAlignment.start,
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            GestureDetector(
                                                                              onTap: () async {
                                                                                bool refresh = await Navigator.push(context,
                                                                                    MaterialPageRoute(builder: (BuildContext context) {
                                                                                  return UserBillBoardProfilePage(
                                                                                      userId: _bookMarkSeeAll.response[index].user
                                                                                          .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'forums',index:0)*/;
                                                                                }));
                                                                                if (refresh) {
                                                                                  initState();
                                                                                }
                                                                              },
                                                                              child: Container(
                                                                                height: height / 13.53,
                                                                                width: width / 5.95,
                                                                                margin: EdgeInsets.fromLTRB(
                                                                                    width / 23.43, height / 203, width / 37.5, height / 27.06),
                                                                                decoration: BoxDecoration(
                                                                                    shape: BoxShape.circle,
                                                                                    color: Colors.grey,
                                                                                    image: DecorationImage(
                                                                                        image:
                                                                                            NetworkImage(_bookMarkSeeAll.response[index].user.avatar),
                                                                                        fit: BoxFit.fill)),
                                                                              ),
                                                                            ),
                                                                            Column(
                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                              children: [
                                                                                SizedBox(
                                                                                    width: width / 1.95,
                                                                                    child: Text(
                                                                                      _bookMarkSeeAll.response[index].title,
                                                                                      style: TextStyle(
                                                                                          fontSize: text.scale(14), fontWeight: FontWeight.w600),
                                                                                    )),
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    bool refresh = await Navigator.push(context,
                                                                                        MaterialPageRoute(builder: (BuildContext context) {
                                                                                      return UserBillBoardProfilePage(
                                                                                          userId: _bookMarkSeeAll.response[index].user
                                                                                              .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'forums',index:0)*/;
                                                                                    }));
                                                                                    if (refresh) {
                                                                                      initState();
                                                                                    }
                                                                                  },
                                                                                  child: SizedBox(
                                                                                      height: height / 54.13,
                                                                                      child: Text(
                                                                                        _bookMarkSeeAll
                                                                                            .response[index].user.username.capitalizeFirst!,
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(10), fontWeight: FontWeight.w500),
                                                                                      )),
                                                                                ),
                                                                                SizedBox(height: height / 54.13),
                                                                                SizedBox(
                                                                                  height: height / 45.11,
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.start,
                                                                                    children: [
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          bool response1 =
                                                                                              await likeFunction(id: idList[index], type: "forums");
                                                                                          if (response1) {
                                                                                            logEventFunc(name: "Likes", type: "Forum");
                                                                                            setState(() {
                                                                                              if (isLikedList[index] == true) {
                                                                                                if (isDislikedList[index] == true) {
                                                                                                } else {
                                                                                                  likeCountList[index] -= 1;
                                                                                                }
                                                                                              } else {
                                                                                                if (isDislikedList[index] == true) {
                                                                                                  dislikeCountList[index] -= 1;
                                                                                                  likeCountList[index] += 1;
                                                                                                } else {
                                                                                                  likeCountList[index] += 1;
                                                                                                }
                                                                                              }
                                                                                              isLikedList[index] = !isLikedList[index];
                                                                                              isDislikedList[index] = false;
                                                                                            });
                                                                                          } else {}
                                                                                        },
                                                                                        child: Container(
                                                                                          margin: EdgeInsets.only(right: width / 25),
                                                                                          height: height / 40.6,
                                                                                          width: width / 18.75,
                                                                                          child: isLikedList[index]
                                                                                              ? SvgPicture.asset(
                                                                                                  isDarkTheme.value
                                                                                                      ? "assets/home_screen/like_filled_dark.svg"
                                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                                )
                                                                                              : SvgPicture.asset(
                                                                                                  isDarkTheme.value
                                                                                                      ? "assets/home_screen/like_dark.svg"
                                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                                ),
                                                                                        ),
                                                                                      ),
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          logEventFunc(name: "Share", type: "Forum");
                                                                                          newLink = await getLinkForums(
                                                                                              id: idList[index],
                                                                                              type: "forums",
                                                                                              description: '',
                                                                                              imageUrl: "",
                                                                                              title: _bookMarkSeeAll.response[index].title,
                                                                                              category: _bookMarkSeeAll.response[index].category,
                                                                                              filterId: finalisedFilterId);
                                                                                          ShareResult result = await Share.share(
                                                                                            "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                                          );
                                                                                          if (result.status == ShareResultStatus.success) {
                                                                                            await shareFunction(id: idList[index], type: "forums");
                                                                                          }
                                                                                        },
                                                                                        child: Container(
                                                                                            height: height / 40.6,
                                                                                            width: width / 18.75,
                                                                                            margin: EdgeInsets.only(right: width / 25),
                                                                                            child: SvgPicture.asset(
                                                                                              isDarkTheme.value
                                                                                                  ? "assets/home_screen/share_dark.svg"
                                                                                                  : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                                            )),
                                                                                      ),
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          bool response3 = await disLikeFunction(
                                                                                              id: idList[index], type: "forums");
                                                                                          if (response3) {
                                                                                            logEventFunc(name: "Dislikes", type: "Forum");
                                                                                            setState(() {
                                                                                              if (isDislikedList[index] == true) {
                                                                                                if (isLikedList[index] == true) {
                                                                                                } else {
                                                                                                  dislikeCountList[index] -= 1;
                                                                                                }
                                                                                              } else {
                                                                                                if (isLikedList[index] == true) {
                                                                                                  likeCountList[index] -= 1;
                                                                                                  dislikeCountList[index] += 1;
                                                                                                } else {
                                                                                                  dislikeCountList[index] += 1;
                                                                                                }
                                                                                              }
                                                                                              isDislikedList[index] = !isDislikedList[index];
                                                                                              isLikedList[index] = false;
                                                                                            });
                                                                                          } else {}
                                                                                        },
                                                                                        child: Container(
                                                                                          height: height / 40.6,
                                                                                          width: width / 18.75,
                                                                                          margin: EdgeInsets.only(right: width / 25),
                                                                                          child: isDislikedList[index]
                                                                                              ? SvgPicture.asset(
                                                                                                  isDarkTheme.value
                                                                                                      ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                                                )
                                                                                              : SvgPicture.asset(
                                                                                                  isDarkTheme.value
                                                                                                      ? "assets/home_screen/dislike_dark.svg"
                                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                                                ),
                                                                                        ),
                                                                                      ),
                                                                                      Container(
                                                                                          height: height / 40.6,
                                                                                          width: width / 18.75,
                                                                                          margin: EdgeInsets.only(right: width / 25),
                                                                                          child: SvgPicture.asset(
                                                                                            "lib/Constants/Assets/SMLogos/messageCircle.svg",
                                                                                            colorFilter: ColorFilter.mode(
                                                                                                isDarkTheme.value
                                                                                                    ? const Color(0XFFD6D6D6)
                                                                                                    : const Color(0XFF0EA102),
                                                                                                BlendMode.srcIn),
                                                                                          )),
                                                                                      bookMarkWidget(
                                                                                          bookMark: bookMarkList,
                                                                                          context: context,
                                                                                          scale: 3.4,
                                                                                          id: idList[index],
                                                                                          type: 'forums',
                                                                                          modelSetState: setState,
                                                                                          index: index,
                                                                                          initFunction: getAllData,
                                                                                          notUse: true),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                SizedBox(height: height / 81.2),
                                                                                SizedBox(
                                                                                  height: height / 54.13,
                                                                                  child: Row(
                                                                                    children: [
                                                                                      SizedBox(
                                                                                          width: width / 7.5,
                                                                                          child: Text(_bookMarkSeeAll.response[index].companyName,
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w700,
                                                                                                  color: Colors.blue))),
                                                                                      SizedBox(width: width / 22.05),
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          setState(() {
                                                                                            kUserSearchController.clear();
                                                                                            onTapType = "Views";
                                                                                            onTapId = idList[index];
                                                                                            onLike = false;
                                                                                            onDislike = false;
                                                                                            onViews = true;
                                                                                            idKeyMain = "forum_id";
                                                                                            apiMain = baseurl + versionForum + viewsCount;
                                                                                            onTapIdMain = idList[index];
                                                                                            onTapTypeMain = "Views";
                                                                                            haveViewsMain =
                                                                                                _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                                    ? true
                                                                                                    : false;
                                                                                            viewCountMain =
                                                                                                _bookMarkSeeAll.response[index].viewsCount;
                                                                                            kToken = kToken;
                                                                                          });
                                                                                          //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionForum + viewsCount, idKey: 'forum_id', setState: setState);
                                                                                          bool data = await likeCountFunc(
                                                                                              context: context, newSetState: setState);
                                                                                          if (data) {
                                                                                            if (!mounted) {
                                                                                              return;
                                                                                            }
                                                                                            customShowSheet1(context: context);
                                                                                            setState(() {
                                                                                              loaderMain = true;
                                                                                            });
                                                                                          } else {
                                                                                            if (!mounted) {
                                                                                              return;
                                                                                            }
                                                                                            Flushbar(
                                                                                              message: "Still no one has viewed this post",
                                                                                              duration: const Duration(seconds: 2),
                                                                                            ).show(context);
                                                                                          }
                                                                                        },
                                                                                        child: Row(
                                                                                          children: [
                                                                                            Text(
                                                                                                _bookMarkSeeAll.response[index].viewsCount.toString(),
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(100),
                                                                                                    fontWeight: FontWeight.w700)),
                                                                                            Text(" views",
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10),
                                                                                                    fontWeight: FontWeight.w500)),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      SizedBox(width: width / 22.05),
                                                                                      Text(_bookMarkSeeAll.response[index].responseCount.toString(),
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(10), fontWeight: FontWeight.w700)),
                                                                                      Text(" Response",
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(10), fontWeight: FontWeight.w500)),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              ],
                                                                            )
                                                                          ],
                                                                        ),
                                                                        GestureDetector(
                                                                          onTap: () {
                                                                            showModalBottomSheet(
                                                                                shape: const RoundedRectangleBorder(
                                                                                  borderRadius: BorderRadius.vertical(
                                                                                    top: Radius.circular(30),
                                                                                  ),
                                                                                ),
                                                                                context: context,
                                                                                builder: (BuildContext context) {
                                                                                  return SingleChildScrollView(
                                                                                    child: Container(
                                                                                      margin: EdgeInsets.symmetric(horizontal: width / 18.75),
                                                                                      padding: EdgeInsets.only(
                                                                                          bottom: MediaQuery.of(context).viewInsets.bottom),
                                                                                      child: userIdMain == _bookMarkSeeAll.response[index].user.id
                                                                                          ? Column(
                                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                                              children: [
                                                                                                ListTile(
                                                                                                  onTap: () {
                                                                                                    if (!mounted) {
                                                                                                      return;
                                                                                                    }
                                                                                                    Navigator.pop(context);
                                                                                                    Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                      return ForumPostEditPage(
                                                                                                        text: finalisedCategory.capitalizeFirst ?? "",
                                                                                                        catIdList: mainCatIdList,
                                                                                                        filterId: finalisedFilterId,
                                                                                                        forumId: idList[index],
                                                                                                      );
                                                                                                    }));
                                                                                                  },
                                                                                                  minLeadingWidth: width / 25,
                                                                                                  leading: const Icon(
                                                                                                    Icons.edit,
                                                                                                    size: 20,
                                                                                                  ),
                                                                                                  title: Text(
                                                                                                    "Edit Post",
                                                                                                    style: TextStyle(
                                                                                                        fontWeight: FontWeight.w500,
                                                                                                        fontSize: text.scale(14)),
                                                                                                  ),
                                                                                                ),
                                                                                                ListTile(
                                                                                                  onTap: () {
                                                                                                    if (!mounted) {
                                                                                                      return;
                                                                                                    }
                                                                                                    Navigator.pop(context);
                                                                                                    showDialog(
                                                                                                        barrierDismissible: false,
                                                                                                        context: context,
                                                                                                        builder: (BuildContext context) {
                                                                                                          return Dialog(
                                                                                                            shape: RoundedRectangleBorder(
                                                                                                                borderRadius: BorderRadius.circular(
                                                                                                                    20.0)), //this right here
                                                                                                            child: Container(
                                                                                                              height: height / 6,
                                                                                                              margin: EdgeInsets.symmetric(
                                                                                                                  vertical: height / 54.13,
                                                                                                                  horizontal: width / 25),
                                                                                                              child: Column(
                                                                                                                mainAxisAlignment:
                                                                                                                    MainAxisAlignment.center,
                                                                                                                //crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                                children: [
                                                                                                                  const Center(
                                                                                                                      child: Text("Delete Post",
                                                                                                                          style: TextStyle(
                                                                                                                              color:
                                                                                                                                  Color(0XFF0EA102),
                                                                                                                              fontWeight:
                                                                                                                                  FontWeight.bold,
                                                                                                                              fontSize: 20,
                                                                                                                              fontFamily:
                                                                                                                                  "Poppins"))),
                                                                                                                  const Divider(),
                                                                                                                  const Center(
                                                                                                                      child: Text(
                                                                                                                          "Are you sure to Delete this Post")),
                                                                                                                  const Spacer(),
                                                                                                                  Padding(
                                                                                                                    padding: EdgeInsets.symmetric(
                                                                                                                        horizontal: width / 25),
                                                                                                                    child: Row(
                                                                                                                      mainAxisAlignment:
                                                                                                                          MainAxisAlignment
                                                                                                                              .spaceBetween,
                                                                                                                      children: [
                                                                                                                        TextButton(
                                                                                                                          onPressed: () {
                                                                                                                            if (!mounted) {
                                                                                                                              return;
                                                                                                                            }
                                                                                                                            Navigator.pop(context);
                                                                                                                          },
                                                                                                                          child: const Text(
                                                                                                                            "Cancel",
                                                                                                                            style: TextStyle(
                                                                                                                                color: Colors.grey,
                                                                                                                                fontWeight:
                                                                                                                                    FontWeight.w600,
                                                                                                                                fontFamily: "Poppins",
                                                                                                                                fontSize: 15),
                                                                                                                          ),
                                                                                                                        ),
                                                                                                                        ElevatedButton(
                                                                                                                          style: ElevatedButton
                                                                                                                              .styleFrom(
                                                                                                                            shape:
                                                                                                                                RoundedRectangleBorder(
                                                                                                                              borderRadius:
                                                                                                                                  BorderRadius
                                                                                                                                      .circular(18.0),
                                                                                                                            ),
                                                                                                                            backgroundColor:
                                                                                                                                const Color(
                                                                                                                                    0XFF0EA102),
                                                                                                                          ),
                                                                                                                          onPressed: () async {
                                                                                                                            deletePostMain(
                                                                                                                              context: context,
                                                                                                                              id: idList[index],
                                                                                                                              locker: 'forum',
                                                                                                                            );
                                                                                                                            if (!mounted) {
                                                                                                                              return;
                                                                                                                            }
                                                                                                                            Navigator.pop(context);
                                                                                                                          },
                                                                                                                          child: const Text(
                                                                                                                            "Continue",
                                                                                                                            style: TextStyle(
                                                                                                                                color: Colors.white,
                                                                                                                                fontWeight:
                                                                                                                                    FontWeight.w600,
                                                                                                                                fontFamily: "Poppins",
                                                                                                                                fontSize: 15),
                                                                                                                          ),
                                                                                                                        ),
                                                                                                                      ],
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                  const Spacer(),
                                                                                                                ],
                                                                                                              ),
                                                                                                            ),
                                                                                                          );
                                                                                                        });
                                                                                                  },
                                                                                                  minLeadingWidth: width / 25,
                                                                                                  leading: const Icon(
                                                                                                    Icons.delete,
                                                                                                    size: 20,
                                                                                                  ),
                                                                                                  title: Text(
                                                                                                    "Delete Post",
                                                                                                    style: TextStyle(
                                                                                                        fontWeight: FontWeight.w500,
                                                                                                        fontSize: text.scale(14)),
                                                                                                  ),
                                                                                                ),
                                                                                              ],
                                                                                            )
                                                                                          : Column(
                                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                                              children: [
                                                                                                ListTile(
                                                                                                  onTap: () {
                                                                                                    if (!mounted) {
                                                                                                      return;
                                                                                                    }
                                                                                                    Navigator.pop(context);
                                                                                                    mainVariables.barController.clear();
                                                                                                    setState(() {
                                                                                                      mainVariables.actionValueMain = "Report";
                                                                                                    });
                                                                                                    showAlertDialogMain(
                                                                                                      context: context,
                                                                                                      initFunction: () {},
                                                                                                      modelSetState: (void Function() fn) {},
                                                                                                      locker: 'forum',
                                                                                                      id: idList[index],
                                                                                                      userId: _bookMarkSeeAll.response[index].user.id,
                                                                                                    );
                                                                                                  },
                                                                                                  minLeadingWidth: width / 25,
                                                                                                  leading: const Icon(
                                                                                                    Icons.shield,
                                                                                                    size: 20,
                                                                                                  ),
                                                                                                  title: Text(
                                                                                                    "Report Post",
                                                                                                    style: TextStyle(
                                                                                                        fontWeight: FontWeight.w500,
                                                                                                        fontSize: text.scale(14)),
                                                                                                  ),
                                                                                                ),
                                                                                                const Divider(
                                                                                                  thickness: 0.0,
                                                                                                  height: 0.0,
                                                                                                ),
                                                                                                ListTile(
                                                                                                  onTap: () {
                                                                                                    mainVariables.barController.clear();
                                                                                                    setState(() {
                                                                                                      mainVariables.actionValueMain = "Block";
                                                                                                    });
                                                                                                    if (!mounted) {
                                                                                                      return;
                                                                                                    }
                                                                                                    Navigator.pop(context);
                                                                                                    showAlertDialogMain(
                                                                                                      context: context,
                                                                                                      initFunction: () {},
                                                                                                      modelSetState: (void Function() fn) {},
                                                                                                      locker: 'forum',
                                                                                                      id: idList[index],
                                                                                                      userId: _bookMarkSeeAll.response[index].user.id,
                                                                                                    );
                                                                                                  },
                                                                                                  minLeadingWidth: width / 25,
                                                                                                  leading: const Icon(
                                                                                                    Icons.flag,
                                                                                                    size: 20,
                                                                                                  ),
                                                                                                  title: Text(
                                                                                                    "Block Post",
                                                                                                    style: TextStyle(
                                                                                                        fontWeight: FontWeight.w500,
                                                                                                        fontSize: text.scale(14)),
                                                                                                  ),
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                    ),
                                                                                  );
                                                                                });
                                                                          },
                                                                          child: Container(
                                                                              padding: EdgeInsets.only(right: width / 23.4375),
                                                                              child: const Icon(
                                                                                Icons.more_horiz,
                                                                                size: 20,
                                                                              )),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                  const SizedBox(
                                                                    height: 10,
                                                                  ),
                                                                ],
                                                              ),
                                                            ))
                                                        : widget.type == 'survey'
                                                            ? GestureDetector(
                                                                onTap: () async {
                                                                  String activeStatus = "";
                                                                  bool answerStatus = false;
                                                                  int answeredQuestion = 0;
                                                                  SharedPreferences prefs = await SharedPreferences.getInstance();
                                                                  String mainUserId = prefs.getString('newUserId') ?? "";
                                                                  String mainUserToken = prefs.getString('newUserToken') ?? "";
                                                                  var url = Uri.parse(baseurl + versionSurvey + surveyStatusCheck);
                                                                  var response = await http.post(url, headers: {
                                                                    'Authorization': mainUserToken
                                                                  }, body: {
                                                                    'survey_id': idList[index],
                                                                  });
                                                                  var responseData = json.decode(response.body);
                                                                  if (responseData["status"]) {
                                                                    activeStatus = responseData["response"]["status"];

                                                                    if (activeStatus == "active") {
                                                                      var url = Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                      var response = await http.post(url, headers: {
                                                                        'Authorization': mainUserToken
                                                                      }, body: {
                                                                        'survey_id': idList[index],
                                                                      });
                                                                      var responseData = json.decode(response.body);
                                                                      if (responseData["status"]) {
                                                                        answerStatus = responseData["response"][0]["final_question"];
                                                                        answeredQuestion = responseData["response"][0]["question_number"];
                                                                      } else {
                                                                        answerStatus = false;
                                                                        answeredQuestion = 0;
                                                                      }
                                                                    }
                                                                  }
                                                                  if (!mounted) {
                                                                    return;
                                                                  }
                                                                  mainUserId == _bookMarkSeeAll.response[index].user.id
                                                                      ? Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                          return AnalyticsPage(
                                                                            surveyId: idList[index],
                                                                            activity: true,
                                                                            surveyTitle: _bookMarkSeeAll.response[index].title,
                                                                            navBool: false,
                                                                            fromWhere: 'bookmark',
                                                                          );
                                                                        }))
                                                                      : activeStatus == 'active'
                                                                          ? answerStatus
                                                                              ? Navigator.push(context,
                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                  return AnalyticsPage(
                                                                                      surveyId: idList[index],
                                                                                      activity: true,
                                                                                      navBool: false,
                                                                                      fromWhere: 'bookmark',
                                                                                      surveyTitle: _bookMarkSeeAll.response[index].title);
                                                                                }))
                                                                              : Navigator.push(context,
                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                  return QuestionnairePage(
                                                                                    surveyId: idList[index],
                                                                                    defaultIndex: answeredQuestion,
                                                                                  );
                                                                                }))
                                                                          : Navigator.push(context,
                                                                              MaterialPageRoute(builder: (BuildContext context) {
                                                                              return AnalyticsPage(
                                                                                surveyId: idList[index],
                                                                                activity: true,
                                                                                surveyTitle: _bookMarkSeeAll.response[index].title,
                                                                                navBool: false,
                                                                                fromWhere: 'bookmark',
                                                                              );
                                                                            }));
                                                                },
                                                                child: Container(
                                                                  margin: EdgeInsets.only(bottom: height / 35),
                                                                  padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 5),
                                                                  decoration: BoxDecoration(
                                                                      color: Theme.of(context).colorScheme.background,
                                                                      borderRadius: BorderRadius.circular(20),
                                                                      boxShadow: [
                                                                        BoxShadow(
                                                                          spreadRadius: 0.0,
                                                                          blurRadius: 4.0,
                                                                          color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                        ),
                                                                      ]),
                                                                  child: Column(
                                                                    children: [
                                                                      const SizedBox(
                                                                        height: 10,
                                                                      ),
                                                                      Container(
                                                                        color: Theme.of(context).colorScheme.background,
                                                                        child: Row(
                                                                          mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                          children: [
                                                                            Row(
                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                              children: [
                                                                                GestureDetector(
                                                                                  onTap: () {
                                                                                    Navigator.push(context,
                                                                                        MaterialPageRoute(builder: (BuildContext context) {
                                                                                      return UserBillBoardProfilePage(
                                                                                          userId: _bookMarkSeeAll.response[index].user
                                                                                              .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'survey',index:1)*/;
                                                                                    }));
                                                                                  },
                                                                                  child: Container(
                                                                                    height: height / 13.53,
                                                                                    width: width / 5.95,
                                                                                    margin: EdgeInsets.fromLTRB(
                                                                                        width / 23.43, height / 203, width / 37.5, height / 27.06),
                                                                                    decoration: BoxDecoration(
                                                                                        shape: BoxShape.circle,
                                                                                        color: Colors.grey,
                                                                                        image: DecorationImage(
                                                                                            image: NetworkImage(
                                                                                                _bookMarkSeeAll.response[index].user.avatar),
                                                                                            fit: BoxFit.fill)),
                                                                                  ),
                                                                                ),
                                                                                Column(
                                                                                  mainAxisAlignment: MainAxisAlignment.start,
                                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                                  children: [
                                                                                    SizedBox(
                                                                                        width: width / 1.95,
                                                                                        child: Text(
                                                                                          _bookMarkSeeAll.response[index].title,
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(14), fontWeight: FontWeight.w600),
                                                                                        )),
                                                                                    /*Container(
                                                        width: _width/1.95,
                                                        child: Text(surveySourceNameList[index].toString().capitalizeFirst!,style: TextStyle(fontSize: _text*10,fontWeight: FontWeight.w500),)
                                                    ),*/
                                                                                    SizedBox(
                                                                                        height: height / 54.13,
                                                                                        child: Row(
                                                                                          mainAxisAlignment: MainAxisAlignment.start,
                                                                                          children: [
                                                                                            GestureDetector(
                                                                                                onTap: () {
                                                                                                  Navigator.push(context, MaterialPageRoute(
                                                                                                      builder: (BuildContext context) {
                                                                                                    return UserBillBoardProfilePage(
                                                                                                        userId: _bookMarkSeeAll.response[index].user
                                                                                                            .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'survey',index: 1,)*/;
                                                                                                  }));
                                                                                                },
                                                                                                child: Text(
                                                                                                  _bookMarkSeeAll.response[index].user.username
                                                                                                      .toString()
                                                                                                      .capitalizeFirst!,
                                                                                                  style: TextStyle(
                                                                                                      fontSize: text.scale(10),
                                                                                                      fontWeight: FontWeight.w500),
                                                                                                )),
                                                                                            const SizedBox(
                                                                                              width: 5,
                                                                                            ),
                                                                                            Container(
                                                                                              height: 5,
                                                                                              width: 5,
                                                                                              decoration: const BoxDecoration(
                                                                                                  shape: BoxShape.circle, color: Color(0xffA5A5A5)),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              width: 5,
                                                                                            ),
                                                                                            Text(
                                                                                              _bookMarkSeeAll.response[index].questionsCount
                                                                                                  .toString(),
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w500),
                                                                                            ),
                                                                                            Text(
                                                                                              " Questions",
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w500),
                                                                                            ),
                                                                                          ],
                                                                                        )),
                                                                                    SizedBox(
                                                                                      height: height / 87.6,
                                                                                    ),
                                                                                    bookMarkWidget(
                                                                                        bookMark: bookMarkList,
                                                                                        context: context,
                                                                                        scale: 3.2,
                                                                                        id: idList[index],
                                                                                        type: 'survey',
                                                                                        modelSetState: setState,
                                                                                        index: index,
                                                                                        initFunction: getAllData,
                                                                                        notUse: true),
                                                                                    SizedBox(
                                                                                      height: height / 87.6,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: height / 54.13,
                                                                                      child: Row(
                                                                                        children: [
                                                                                          SizedBox(
                                                                                              width: width / 7.5,
                                                                                              child: Text(_bookMarkSeeAll.response[index].companyName,
                                                                                                  style: TextStyle(
                                                                                                      fontSize: text.scale(10),
                                                                                                      fontWeight: FontWeight.w700,
                                                                                                      color: Colors.blue))),
                                                                                          /*Container(
                                                              height:_height/162,width: _width/75,decoration: BoxDecoration(shape: BoxShape.circle,color: Color(0xffC4C4C4),)),*/
                                                                                          SizedBox(width: width / 22.05),
                                                                                          GestureDetector(
                                                                                            onTap: () async {
                                                                                              setState(() {
                                                                                                kUserSearchController.clear();
                                                                                                onTapType = "Views";
                                                                                                onTapId = idList[index];
                                                                                                onLike = false;
                                                                                                onDislike = false;
                                                                                                onViews = true;
                                                                                                idKeyMain = "survey_id";
                                                                                                apiMain = baseurl + versionSurvey + viewsCount;
                                                                                                onTapIdMain = idList[index];
                                                                                                onTapTypeMain = "Views";
                                                                                                haveViewsMain =
                                                                                                    _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                                        ? true
                                                                                                        : false;
                                                                                                viewCountMain =
                                                                                                    _bookMarkSeeAll.response[index].viewsCount;
                                                                                                kToken = kToken;
                                                                                              });
                                                                                              //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionSurvey + viewsCount, idKey: 'survey_id', setState: setState);
                                                                                              bool data = await likeCountFunc(
                                                                                                  context: context, newSetState: setState);
                                                                                              if (data) {
                                                                                                if (!mounted) {
                                                                                                  return;
                                                                                                }
                                                                                                customShowSheet1(context: context);
                                                                                                setState(() {
                                                                                                  loaderMain = true;
                                                                                                });
                                                                                              } else {
                                                                                                if (!mounted) {
                                                                                                  return;
                                                                                                }
                                                                                                Flushbar(
                                                                                                  message: "Still no one has viewed this post",
                                                                                                  duration: const Duration(seconds: 2),
                                                                                                ).show(context);
                                                                                              }
                                                                                            },
                                                                                            child: Row(
                                                                                              children: [
                                                                                                Text(
                                                                                                    _bookMarkSeeAll.response[index].viewsCount
                                                                                                        .toString(),
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        fontWeight: FontWeight.w700)),
                                                                                                Text(" Views",
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        fontWeight: FontWeight.w500)),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                          SizedBox(width: width / 22.05),
                                                                                          GestureDetector(
                                                                                            onTap: () {
                                                                                              Flushbar(
                                                                                                message: "Analytics not visible due to privacy",
                                                                                                duration: const Duration(seconds: 2),
                                                                                              ).show(context);
                                                                                            },
                                                                                            child: Row(
                                                                                              children: [
                                                                                                Text(
                                                                                                    _bookMarkSeeAll.response[index].responseCount
                                                                                                        .toString(),
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        fontWeight: FontWeight.w700)),
                                                                                                Text(" Responses",
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        fontWeight: FontWeight.w500)),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ],
                                                                                )
                                                                              ],
                                                                            ),
                                                                            GestureDetector(
                                                                              onTap: () {
                                                                                showModalBottomSheet(
                                                                                    shape: const RoundedRectangleBorder(
                                                                                      borderRadius: BorderRadius.vertical(
                                                                                        top: Radius.circular(30),
                                                                                      ),
                                                                                    ),
                                                                                    context: context,
                                                                                    builder: (BuildContext context) {
                                                                                      return SingleChildScrollView(
                                                                                        child: Container(
                                                                                          margin: EdgeInsets.symmetric(horizontal: width / 18.75),
                                                                                          padding: EdgeInsets.only(
                                                                                              bottom: MediaQuery.of(context).viewInsets.bottom),
                                                                                          child: userIdMain == _bookMarkSeeAll.response[index].user.id
                                                                                              ? ListTile(
                                                                                                  onTap: () {
                                                                                                    if (!mounted) {
                                                                                                      return;
                                                                                                    }
                                                                                                    Navigator.pop(context);
                                                                                                    showDialog(
                                                                                                        barrierDismissible: false,
                                                                                                        context: context,
                                                                                                        builder: (BuildContext context) {
                                                                                                          return Dialog(
                                                                                                            shape: RoundedRectangleBorder(
                                                                                                                borderRadius: BorderRadius.circular(
                                                                                                                    20.0)), //this right here
                                                                                                            child: Container(
                                                                                                              height: height / 6,
                                                                                                              margin: EdgeInsets.symmetric(
                                                                                                                  vertical: height / 54.13,
                                                                                                                  horizontal: width / 25),
                                                                                                              child: Column(
                                                                                                                mainAxisAlignment:
                                                                                                                    MainAxisAlignment.center,
                                                                                                                //crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                                children: [
                                                                                                                  const Center(
                                                                                                                      child: Text("Delete Post",
                                                                                                                          style: TextStyle(
                                                                                                                              color:
                                                                                                                                  Color(0XFF0EA102),
                                                                                                                              fontWeight:
                                                                                                                                  FontWeight.bold,
                                                                                                                              fontSize: 20,
                                                                                                                              fontFamily:
                                                                                                                                  "Poppins"))),
                                                                                                                  const Divider(),
                                                                                                                  const Center(
                                                                                                                      child: Text(
                                                                                                                          "Are you sure to Delete this Post")),
                                                                                                                  const Spacer(),
                                                                                                                  Padding(
                                                                                                                    padding: EdgeInsets.symmetric(
                                                                                                                        horizontal: width / 25),
                                                                                                                    child: Row(
                                                                                                                      mainAxisAlignment:
                                                                                                                          MainAxisAlignment
                                                                                                                              .spaceBetween,
                                                                                                                      children: [
                                                                                                                        TextButton(
                                                                                                                          onPressed: () {
                                                                                                                            if (!mounted) {
                                                                                                                              return;
                                                                                                                            }
                                                                                                                            Navigator.pop(context);
                                                                                                                          },
                                                                                                                          child: const Text(
                                                                                                                            "Cancel",
                                                                                                                            style: TextStyle(
                                                                                                                                color: Colors.grey,
                                                                                                                                fontWeight:
                                                                                                                                    FontWeight.w600,
                                                                                                                                fontFamily: "Poppins",
                                                                                                                                fontSize: 15),
                                                                                                                          ),
                                                                                                                        ),
                                                                                                                        ElevatedButton(
                                                                                                                          style: ElevatedButton
                                                                                                                              .styleFrom(
                                                                                                                            shape:
                                                                                                                                RoundedRectangleBorder(
                                                                                                                              borderRadius:
                                                                                                                                  BorderRadius
                                                                                                                                      .circular(18.0),
                                                                                                                            ),
                                                                                                                            backgroundColor:
                                                                                                                                const Color(
                                                                                                                                    0XFF0EA102),
                                                                                                                          ),
                                                                                                                          onPressed: () async {
                                                                                                                            deletePostMain(
                                                                                                                              context: context,
                                                                                                                              id: idList[index],
                                                                                                                              locker: 'survey',
                                                                                                                            );
                                                                                                                            if (!mounted) {
                                                                                                                              return;
                                                                                                                            }
                                                                                                                            Navigator.pop(context);
                                                                                                                          },
                                                                                                                          child: const Text(
                                                                                                                            "Continue",
                                                                                                                            style: TextStyle(
                                                                                                                                color: Colors.white,
                                                                                                                                fontWeight:
                                                                                                                                    FontWeight.w600,
                                                                                                                                fontFamily: "Poppins",
                                                                                                                                fontSize: 15),
                                                                                                                          ),
                                                                                                                        ),
                                                                                                                      ],
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                  const Spacer(),
                                                                                                                ],
                                                                                                              ),
                                                                                                            ),
                                                                                                          );
                                                                                                        });
                                                                                                  },
                                                                                                  minLeadingWidth: width / 25,
                                                                                                  leading: const Icon(
                                                                                                    Icons.delete,
                                                                                                    size: 20,
                                                                                                  ),
                                                                                                  title: Text(
                                                                                                    "Delete Post",
                                                                                                    style: TextStyle(
                                                                                                        fontWeight: FontWeight.w500,
                                                                                                        fontSize: text.scale(14)),
                                                                                                  ),
                                                                                                )
                                                                                              : Column(
                                                                                                  mainAxisAlignment: MainAxisAlignment.start,
                                                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                  children: [
                                                                                                    ListTile(
                                                                                                      onTap: () {
                                                                                                        if (!mounted) {
                                                                                                          return;
                                                                                                        }
                                                                                                        Navigator.pop(context);
                                                                                                        mainVariables.barController.clear();
                                                                                                        setState(() {
                                                                                                          mainVariables.actionValueMain = "Report";
                                                                                                        });
                                                                                                        showAlertDialogMain(
                                                                                                            context: context,
                                                                                                            id: idList[index],
                                                                                                            userId: _bookMarkSeeAll
                                                                                                                .response[index].user.id,
                                                                                                            initFunction: () {},
                                                                                                            modelSetState: (void Function() fn) {},
                                                                                                            locker: 'survey');
                                                                                                      },
                                                                                                      minLeadingWidth: width / 25,
                                                                                                      leading: const Icon(
                                                                                                        Icons.shield,
                                                                                                        size: 20,
                                                                                                      ),
                                                                                                      title: Text(
                                                                                                        "Report Post",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.w500,
                                                                                                            fontSize: text.scale(14)),
                                                                                                      ),
                                                                                                    ),
                                                                                                    const Divider(
                                                                                                      thickness: 0.0,
                                                                                                      height: 0.0,
                                                                                                    ),
                                                                                                    ListTile(
                                                                                                      onTap: () {
                                                                                                        mainVariables.barController.clear();
                                                                                                        setState(() {
                                                                                                          mainVariables.actionValueMain = "Block";
                                                                                                        });
                                                                                                        if (!mounted) {
                                                                                                          return;
                                                                                                        }
                                                                                                        Navigator.pop(context);
                                                                                                        showAlertDialogMain(
                                                                                                            context: context,
                                                                                                            id: idList[index],
                                                                                                            userId: _bookMarkSeeAll
                                                                                                                .response[index].user.id,
                                                                                                            initFunction: () {},
                                                                                                            modelSetState: (void Function() fn) {},
                                                                                                            locker: 'survey');
                                                                                                      },
                                                                                                      minLeadingWidth: width / 25,
                                                                                                      leading: const Icon(
                                                                                                        Icons.flag,
                                                                                                        size: 20,
                                                                                                      ),
                                                                                                      title: Text(
                                                                                                        "Block Post",
                                                                                                        style: TextStyle(
                                                                                                            fontWeight: FontWeight.w500,
                                                                                                            fontSize: text.scale(14)),
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                        ),
                                                                                      );
                                                                                    });
                                                                              },
                                                                              child: Container(
                                                                                  padding: EdgeInsets.only(right: width / 23.4375),
                                                                                  child: const Icon(
                                                                                    Icons.more_horiz,
                                                                                    size: 20,
                                                                                  )),
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ))
                                                            : widget.type == 'billboard'
                                                                ? Column(
                                                                    children: [
                                                                      mainVariables.valueMapListProfilePage[index].type == "byte"
                                                                          ? mainVariables.valueMapListProfilePage[index].files.isEmpty
                                                                              ? Container(
                                                                                  margin: EdgeInsets.only(bottom: height / 57.73),
                                                                                  decoration: BoxDecoration(
                                                                                      borderRadius: BorderRadius.circular(15),
                                                                                      boxShadow: [
                                                                                        BoxShadow(
                                                                                          spreadRadius: 0.0,
                                                                                          blurRadius: 4.0,
                                                                                          color: Theme.of(context)
                                                                                              .colorScheme
                                                                                              .onPrimary
                                                                                              .withOpacity(0.3),
                                                                                        ),
                                                                                      ]),
                                                                                  child: Column(
                                                                                    children: [
                                                                                      Container(
                                                                                        decoration: BoxDecoration(
                                                                                          color: Theme.of(context).colorScheme.background,
                                                                                          borderRadius: const BorderRadius.only(
                                                                                              topRight: Radius.circular(15),
                                                                                              topLeft: Radius.circular(15)),
                                                                                        ),
                                                                                        child: Column(
                                                                                          children: [
                                                                                            SizedBox(
                                                                                              height: height / 86.6,
                                                                                            ),
                                                                                            Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                              crossAxisAlignment: CrossAxisAlignment.center,
                                                                                              children: [
                                                                                                SizedBox(
                                                                                                  width: width / 41.1,
                                                                                                ),
                                                                                                billboardWidgetsMain.getProfile(
                                                                                                    context: context,
                                                                                                    heightValue: height / 17.32,
                                                                                                    widthValue: width / 8.22,
                                                                                                    myself: false,
                                                                                                    isProfile: mainVariables
                                                                                                        .valueMapListProfilePage[index].profileType,
                                                                                                    avatar: mainVariables
                                                                                                        .valueMapListProfilePage[index].avatar,
                                                                                                    userId: mainVariables
                                                                                                        .valueMapListProfilePage[index].userId),
                                                                                                SizedBox(
                                                                                                  width: width / 41.1,
                                                                                                ),
                                                                                                Expanded(
                                                                                                  child: Column(
                                                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                    children: [
                                                                                                      InkWell(
                                                                                                        onTap: () {
                                                                                                          /*Navigator.push(context, MaterialPageRoute(builder: (BuildContext context){
                                                      return UserProfilePage(
                                                        id:valueMapList[index].userId,type:'forums',index:0);}));*/
                                                                                                          Navigator.push(context, MaterialPageRoute(
                                                                                                              builder: (BuildContext context) {
                                                                                                            return UserBillBoardProfilePage(
                                                                                                                userId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId);
                                                                                                          }));
                                                                                                        },
                                                                                                        child: Text(
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].username
                                                                                                              .toString()
                                                                                                              .capitalizeFirst!,
                                                                                                          style: TextStyle(
                                                                                                              fontSize: text.scale(12),
                                                                                                              fontWeight: FontWeight.w700,
                                                                                                              fontFamily: "Poppins"),
                                                                                                        ),
                                                                                                      ),
                                                                                                      const SizedBox(
                                                                                                        height: 5,
                                                                                                      ),
                                                                                                      Row(
                                                                                                        children: [
                                                                                                          Text(
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .createdAt,
                                                                                                            style: TextStyle(
                                                                                                                fontSize: text.scale(10),
                                                                                                                color: const Color(0XFF737373),
                                                                                                                fontWeight: FontWeight.w400,
                                                                                                                fontFamily: "Poppins"),
                                                                                                          ),
                                                                                                          const SizedBox(
                                                                                                            width: 3,
                                                                                                          ),
                                                                                                          Text(
                                                                                                            " | ",
                                                                                                            style: TextStyle(
                                                                                                              fontSize: text.scale(11),
                                                                                                              color: const Color(0XFF737373),
                                                                                                              fontWeight: FontWeight.w400,
                                                                                                            ),
                                                                                                          ),
                                                                                                          const SizedBox(
                                                                                                            width: 3,
                                                                                                          ),
                                                                                                          InkWell(
                                                                                                            onTap: () {
                                                                                                              billboardWidgetsMain
                                                                                                                  .believersTabBottomSheet(
                                                                                                                context: context,
                                                                                                                id: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId,
                                                                                                                isBelieversList: true,
                                                                                                              );
                                                                                                            },
                                                                                                            child: Text(
                                                                                                              "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                              style: TextStyle(
                                                                                                                  fontSize: text.scale(10),
                                                                                                                  color: const Color(0XFF737373),
                                                                                                                  fontWeight: FontWeight.w400,
                                                                                                                  fontFamily: "Poppins"),
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                ),
                                                                                                userIdMain !=
                                                                                                        mainVariables
                                                                                                            .valueMapListProfilePage[index].userId
                                                                                                    ? billboardWidgetsMain.getHomeBelieveButton(
                                                                                                        heightValue: height / 33.76,
                                                                                                        isBelieved: List.generate(
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage.length,
                                                                                                            (ind) => mainVariables
                                                                                                                .valueMapListProfilePage[ind]
                                                                                                                .believed),
                                                                                                        billboardUserid: mainVariables
                                                                                                            .valueMapListProfilePage[index].userId,
                                                                                                        billboardUserName: mainVariables
                                                                                                            .valueMapListProfilePage[index].username,
                                                                                                        context: context,
                                                                                                        modelSetState: setState,
                                                                                                        index: index,
                                                                                                        background: false,
                                                                                                      )
                                                                                                    : const SizedBox(),

                                                                                                ///more_vert
                                                                                                IconButton(
                                                                                                    onPressed: () {
                                                                                                      billboardWidgetsMain.bottomSheet(
                                                                                                        context1: context,
                                                                                                        myself: userIdMain ==
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .userId,
                                                                                                        billboardId: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        billboardUserId: mainVariables
                                                                                                            .valueMapListProfilePage[index].userId,
                                                                                                        type: "billboard",
                                                                                                        responseId: "",
                                                                                                        responseUserId: "",
                                                                                                        commentId: "",
                                                                                                        commentUserId: "",
                                                                                                        callFunction: () {},
                                                                                                        contentType: mainVariables
                                                                                                            .valueMapListProfilePage[index].type,
                                                                                                        modelSetState: setState,
                                                                                                        responseDetail: {},
                                                                                                        category: mainVariables
                                                                                                            .valueMapListProfilePage[index].category,
                                                                                                        valueMapList:
                                                                                                            mainVariables.valueMapListProfilePage,
                                                                                                        index: index,
                                                                                                      );
                                                                                                    },
                                                                                                    icon: const Icon(
                                                                                                      Icons.more_vert,
                                                                                                      color: Colors.black,
                                                                                                      size: 25,
                                                                                                    ))
                                                                                              ],
                                                                                            ),
                                                                                            SizedBox(height: height / 64),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                            case "blog":
                                                                                              {
                                                                                                mainVariables.selectedBillboardIdMain.value =
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].postId;
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            const BlogDescriptionPage()));
                                                                                                break;
                                                                                              }
                                                                                            case "byte":
                                                                                              {
                                                                                                mainVariables.selectedBillboardIdMain.value =
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].postId;
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            const BytesDescriptionPage()));
                                                                                                break;
                                                                                              }
                                                                                            case "forums":
                                                                                              {
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            ForumPostDescriptionPage(
                                                                                                                idList: List.generate(
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage
                                                                                                                        .length,
                                                                                                                    (ind) => mainVariables
                                                                                                                        .valueMapListProfilePage[ind]
                                                                                                                        .postId),
                                                                                                                comeFrom: "billBoardHome",
                                                                                                                forumId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId)));
                                                                                                break;
                                                                                              }
                                                                                            case "survey":
                                                                                              {
                                                                                                String activeStatus = "";
                                                                                                bool answerStatus = false;
                                                                                                int answeredQuestion = 0;
                                                                                                SharedPreferences prefs =
                                                                                                    await SharedPreferences.getInstance();
                                                                                                String mainUserId =
                                                                                                    prefs.getString('newUserId') ?? "";
                                                                                                String mainUserToken =
                                                                                                    prefs.getString('newUserToken') ?? "";
                                                                                                var url = Uri.parse(
                                                                                                    baseurl + versionSurvey + surveyStatusCheck);
                                                                                                var response = await http.post(url, headers: {
                                                                                                  'Authorization': mainUserToken
                                                                                                }, body: {
                                                                                                  'survey_id': mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                });
                                                                                                var responseData = json.decode(response.body);
                                                                                                if (responseData["status"]) {
                                                                                                  activeStatus = responseData["response"]["status"];
                                                                                                  if (activeStatus == "active") {
                                                                                                    var url = Uri.parse(
                                                                                                        baseurl + versionSurvey + checkAnswer);
                                                                                                    var response = await http.post(url, headers: {
                                                                                                      'Authorization': mainUserToken
                                                                                                    }, body: {
                                                                                                      'survey_id': mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                    });
                                                                                                    var responseData = json.decode(response.body);
                                                                                                    if (responseData["status"]) {
                                                                                                      answerStatus = responseData["response"][0]
                                                                                                          ["final_question"];
                                                                                                      answeredQuestion = responseData["response"][0]
                                                                                                          ["question_number"];
                                                                                                    } else {
                                                                                                      answerStatus = false;
                                                                                                      answeredQuestion = 0;
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                                if (!mounted) {
                                                                                                  return;
                                                                                                }
                                                                                                mainUserId ==
                                                                                                        mainVariables
                                                                                                            .valueMapListProfilePage[index].userId
                                                                                                    ? Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                        return AnalyticsPage(
                                                                                                          surveyId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          activity: false,
                                                                                                          surveyTitle: mainVariables
                                                                                                              .valueMapListProfilePage[index].title,
                                                                                                          navBool: false,
                                                                                                          fromWhere: 'similar',
                                                                                                        );
                                                                                                      }))
                                                                                                    : activeStatus == 'active'
                                                                                                        ? answerStatus
                                                                                                            ? Navigator.push(context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                return AnalyticsPage(
                                                                                                                    surveyId: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .postId,
                                                                                                                    activity: false,
                                                                                                                    navBool: false,
                                                                                                                    fromWhere: 'similar',
                                                                                                                    surveyTitle: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .title);
                                                                                                              }))
                                                                                                            : Navigator.push(context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                return QuestionnairePage(
                                                                                                                  surveyId: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId,
                                                                                                                  defaultIndex: answeredQuestion,
                                                                                                                );
                                                                                                              }))
                                                                                                        : Navigator.push(context, MaterialPageRoute(
                                                                                                            builder: (BuildContext context) {
                                                                                                            return AnalyticsPage(
                                                                                                              surveyId: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                              activity: false,
                                                                                                              surveyTitle: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .title,
                                                                                                              navBool: false,
                                                                                                              fromWhere: 'similar',
                                                                                                            );
                                                                                                          }));
                                                                                                break;
                                                                                              }
                                                                                            default:
                                                                                              {
                                                                                                break;
                                                                                              }
                                                                                          }
                                                                                        },
                                                                                        child: Container(
                                                                                          height: height / 9,
                                                                                          color: Theme.of(context).colorScheme.onBackground,
                                                                                          alignment: Alignment.topLeft,
                                                                                          child: Padding(
                                                                                            padding: const EdgeInsets.all(12.0),
                                                                                            child: Text(
                                                                                              mainVariables.valueMapListProfilePage[index].title
                                                                                                  .toString()
                                                                                                  .capitalizeFirst!,
                                                                                              style: TextStyle(
                                                                                                fontSize: text.scale(14),
                                                                                                fontWeight: FontWeight.w400,
                                                                                              ),
                                                                                              textAlign: TextAlign.justify,
                                                                                              maxLines: 3,
                                                                                              overflow: TextOverflow.ellipsis,
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      Container(
                                                                                        decoration: BoxDecoration(
                                                                                          color: Theme.of(context).colorScheme.background,
                                                                                          borderRadius: const BorderRadius.only(
                                                                                              bottomLeft: Radius.circular(15),
                                                                                              bottomRight: Radius.circular(15)),
                                                                                        ),
                                                                                        child: Column(
                                                                                          children: [
                                                                                            SizedBox(
                                                                                              height: height / 86.6,
                                                                                            ),
                                                                                            Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                              crossAxisAlignment: CrossAxisAlignment.center,
                                                                                              children: [
                                                                                                Row(children: [
                                                                                                  SizedBox(
                                                                                                    width: width / 41.1,
                                                                                                  ),
                                                                                                  billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                                    likeList: List.generate(
                                                                                                        mainVariables.valueMapListProfilePage.length,
                                                                                                        (ind) => mainVariables
                                                                                                            .valueMapListProfilePage[ind].like),
                                                                                                    id: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    index: index,
                                                                                                    context: context,
                                                                                                    initFunction: () {},
                                                                                                    modelSetState: setState,
                                                                                                    notUse: true,
                                                                                                    dislikeList: List.generate(
                                                                                                        mainVariables.valueMapListProfilePage.length,
                                                                                                        (ind) => mainVariables
                                                                                                            .valueMapListProfilePage[ind].dislike),
                                                                                                    likeCountList: List.generate(
                                                                                                        mainVariables.valueMapListProfilePage.length,
                                                                                                        (ind) => mainVariables
                                                                                                            .valueMapListProfilePage[ind].likesCount),
                                                                                                    dislikeCountList: List.generate(
                                                                                                        mainVariables.valueMapListProfilePage.length,
                                                                                                        (ind) => mainVariables
                                                                                                            .valueMapListProfilePage[ind]
                                                                                                            .disLikesCount),
                                                                                                    type: mainVariables
                                                                                                        .valueMapListProfilePage[index].type,
                                                                                                    billBoardType: 'billboard',
                                                                                                    image: mainVariables
                                                                                                        .valueMapListProfilePage[index].avatar,
                                                                                                    title: mainVariables
                                                                                                        .valueMapListProfilePage[index].title,
                                                                                                    description: "",
                                                                                                    fromWhere: 'homePage',
                                                                                                    responseId: '',
                                                                                                    controller: TextEditingController(),
                                                                                                    commentId: '',
                                                                                                    postUserId: mainVariables
                                                                                                        .valueMapListProfilePage[index].userId,
                                                                                                    responseFocusList: [],
                                                                                                    responseUserId: '',
                                                                                                    valueMapList:
                                                                                                        mainVariables.valueMapListProfilePage,
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    width: width / 27.4,
                                                                                                  ),
                                                                                                  bookMarkWidget(
                                                                                                    bookMark: List.generate(
                                                                                                        mainVariables.valueMapListProfilePage.length,
                                                                                                        (ind) => mainVariables
                                                                                                            .valueMapListProfilePage[ind]
                                                                                                            .bookmarks
                                                                                                            .value),
                                                                                                    context: context,
                                                                                                    scale: 3.2,
                                                                                                    id: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    type: mainVariables.valueMapListProfilePage[index]
                                                                                                                    .type ==
                                                                                                                "byte" ||
                                                                                                            mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .type ==
                                                                                                                "blog"
                                                                                                        ? "billboard"
                                                                                                        : mainVariables
                                                                                                            .valueMapListProfilePage[index].type,
                                                                                                    modelSetState: setState,
                                                                                                    index: index,
                                                                                                    initFunction: () {},
                                                                                                    notUse: false,
                                                                                                  ),
                                                                                                ]),
                                                                                                Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment.end,
                                                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                  children: [
                                                                                                    billboardWidgetsMain.translationWidget(
                                                                                                        id: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        type: 'billboard',
                                                                                                        index: index,
                                                                                                        initFunction: () {},
                                                                                                        context: context,
                                                                                                        modelSetState: setState,
                                                                                                        notUse: false,
                                                                                                        valueMapList:
                                                                                                            mainVariables.valueMapListProfilePage),
                                                                                                    SizedBox(
                                                                                                      width: width / 27.4,
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                            SizedBox(height: height / 64),
                                                                                            Padding(
                                                                                              padding:
                                                                                                  EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                              child: Row(
                                                                                                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                                children: [
                                                                                                  Text(
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].companyName,
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        color: const Color(0xFF017FDB),
                                                                                                        fontWeight: FontWeight.bold),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "views",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 0,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: Colors.black54),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "likes",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 1,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: Colors.black54),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "dislikes",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 2,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: Colors.black54),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      switch (mainVariables
                                                                                                          .valueMapListProfilePage[index].type) {
                                                                                                        case "blog":
                                                                                                          {
                                                                                                            mainVariables
                                                                                                                    .selectedBillboardIdMain.value =
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId;
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        const BlogDescriptionPage()));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "byte":
                                                                                                          {
                                                                                                            mainVariables
                                                                                                                    .selectedBillboardIdMain.value =
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId;
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        const BytesDescriptionPage()));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "forums":
                                                                                                          {
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        ForumPostDescriptionPage(
                                                                                                                            idList: List.generate(
                                                                                                                                mainVariables
                                                                                                                                    .valueMapListProfilePage
                                                                                                                                    .length,
                                                                                                                                (ind) => mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        ind]
                                                                                                                                    .postId),
                                                                                                                            comeFrom: "billBoardHome",
                                                                                                                            forumId: mainVariables
                                                                                                                                .valueMapListProfilePage[
                                                                                                                                    index]
                                                                                                                                .postId)));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "survey":
                                                                                                          {
                                                                                                            String activeStatus = "";
                                                                                                            bool answerStatus = false;
                                                                                                            int answeredQuestion = 0;
                                                                                                            SharedPreferences prefs =
                                                                                                                await SharedPreferences.getInstance();
                                                                                                            String mainUserId =
                                                                                                                prefs.getString('newUserId') ?? "";
                                                                                                            String mainUserToken =
                                                                                                                prefs.getString('newUserToken') ?? "";
                                                                                                            var url = Uri.parse(baseurl +
                                                                                                                versionSurvey +
                                                                                                                surveyStatusCheck);
                                                                                                            var response =
                                                                                                                await http.post(url, headers: {
                                                                                                              'Authorization': mainUserToken
                                                                                                            }, body: {
                                                                                                              'survey_id': mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                            });
                                                                                                            var responseData =
                                                                                                                json.decode(response.body);
                                                                                                            if (responseData["status"]) {
                                                                                                              activeStatus =
                                                                                                                  responseData["response"]["status"];
                                                                                                              if (activeStatus == "active") {
                                                                                                                var url = Uri.parse(baseurl +
                                                                                                                    versionSurvey +
                                                                                                                    checkAnswer);
                                                                                                                var response =
                                                                                                                    await http.post(url, headers: {
                                                                                                                  'Authorization': mainUserToken
                                                                                                                }, body: {
                                                                                                                  'survey_id': mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId,
                                                                                                                });
                                                                                                                var responseData =
                                                                                                                    json.decode(response.body);
                                                                                                                if (responseData["status"]) {
                                                                                                                  answerStatus =
                                                                                                                      responseData["response"][0]
                                                                                                                          ["final_question"];
                                                                                                                  answeredQuestion =
                                                                                                                      responseData["response"][0]
                                                                                                                          ["question_number"];
                                                                                                                } else {
                                                                                                                  answerStatus = false;
                                                                                                                  answeredQuestion = 0;
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                            if (!mounted) {
                                                                                                              return;
                                                                                                            }
                                                                                                            mainUserId ==
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .userId
                                                                                                                ? Navigator.push(context, MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                    return AnalyticsPage(
                                                                                                                      surveyId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId,
                                                                                                                      activity: false,
                                                                                                                      surveyTitle: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .title,
                                                                                                                      navBool: false,
                                                                                                                      fromWhere: 'similar',
                                                                                                                    );
                                                                                                                  }))
                                                                                                                : activeStatus == 'active'
                                                                                                                    ? answerStatus
                                                                                                                        ? Navigator.push(context,
                                                                                                                            MaterialPageRoute(builder:
                                                                                                                                (BuildContext
                                                                                                                                    context) {
                                                                                                                            return AnalyticsPage(
                                                                                                                                surveyId: mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        index]
                                                                                                                                    .postId,
                                                                                                                                activity: false,
                                                                                                                                navBool: false,
                                                                                                                                fromWhere: 'similar',
                                                                                                                                surveyTitle: mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        index]
                                                                                                                                    .title);
                                                                                                                          }))
                                                                                                                        : Navigator.push(context,
                                                                                                                            MaterialPageRoute(builder:
                                                                                                                                (BuildContext
                                                                                                                                    context) {
                                                                                                                            return QuestionnairePage(
                                                                                                                              surveyId: mainVariables
                                                                                                                                  .valueMapListProfilePage[
                                                                                                                                      index]
                                                                                                                                  .postId,
                                                                                                                              defaultIndex:
                                                                                                                                  answeredQuestion,
                                                                                                                            );
                                                                                                                          }))
                                                                                                                    : Navigator.push(context,
                                                                                                                        MaterialPageRoute(builder:
                                                                                                                            (BuildContext context) {
                                                                                                                        return AnalyticsPage(
                                                                                                                          surveyId: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .postId,
                                                                                                                          activity: false,
                                                                                                                          surveyTitle: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .title,
                                                                                                                          navBool: false,
                                                                                                                          fromWhere: 'similar',
                                                                                                                        );
                                                                                                                      }));
                                                                                                            break;
                                                                                                          }
                                                                                                        default:
                                                                                                          {
                                                                                                            break;
                                                                                                          }
                                                                                                      }
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: Colors.black54),
                                                                                                    ),
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            SizedBox(height: height / 42.6),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                )
                                                                              : Container(
                                                                                  margin: EdgeInsets.only(bottom: height / 57.73),
                                                                                  decoration: BoxDecoration(
                                                                                      borderRadius: BorderRadius.circular(15),
                                                                                      boxShadow: [
                                                                                        BoxShadow(
                                                                                          spreadRadius: 0.0,
                                                                                          blurRadius: 4.0,
                                                                                          color: Theme.of(context)
                                                                                              .colorScheme
                                                                                              .onPrimary
                                                                                              .withOpacity(0.3),
                                                                                        ),
                                                                                      ]),
                                                                                  child: Column(
                                                                                    children: [
                                                                                      GestureDetector(
                                                                                        onTap: () async {
                                                                                          switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                            case "blog":
                                                                                              {
                                                                                                mainVariables.selectedBillboardIdMain.value =
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].postId;
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            const BlogDescriptionPage()));
                                                                                                break;
                                                                                              }
                                                                                            case "byte":
                                                                                              {
                                                                                                mainVariables.selectedBillboardIdMain.value =
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].postId;
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            const BytesDescriptionPage()));
                                                                                                break;
                                                                                              }
                                                                                            case "forums":
                                                                                              {
                                                                                                Navigator.push(
                                                                                                    context,
                                                                                                    MaterialPageRoute(
                                                                                                        builder: (BuildContext context) =>
                                                                                                            ForumPostDescriptionPage(
                                                                                                                idList: List.generate(
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage
                                                                                                                        .length,
                                                                                                                    (ind) => mainVariables
                                                                                                                        .valueMapListProfilePage[ind]
                                                                                                                        .postId),
                                                                                                                comeFrom: "billBoardHome",
                                                                                                                forumId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId)));
                                                                                                break;
                                                                                              }
                                                                                            case "survey":
                                                                                              {
                                                                                                String activeStatus = "";
                                                                                                bool answerStatus = false;
                                                                                                int answeredQuestion = 0;
                                                                                                SharedPreferences prefs =
                                                                                                    await SharedPreferences.getInstance();
                                                                                                String mainUserId =
                                                                                                    prefs.getString('newUserId') ?? "";
                                                                                                String mainUserToken =
                                                                                                    prefs.getString('newUserToken') ?? "";
                                                                                                var url = Uri.parse(
                                                                                                    baseurl + versionSurvey + surveyStatusCheck);
                                                                                                var response = await http.post(url, headers: {
                                                                                                  'Authorization': mainUserToken
                                                                                                }, body: {
                                                                                                  'survey_id': mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                });
                                                                                                var responseData = json.decode(response.body);
                                                                                                if (responseData["status"]) {
                                                                                                  activeStatus = responseData["response"]["status"];
                                                                                                  if (activeStatus == "active") {
                                                                                                    var url = Uri.parse(
                                                                                                        baseurl + versionSurvey + checkAnswer);
                                                                                                    var response = await http.post(url, headers: {
                                                                                                      'Authorization': mainUserToken
                                                                                                    }, body: {
                                                                                                      'survey_id': mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                    });
                                                                                                    var responseData = json.decode(response.body);
                                                                                                    if (responseData["status"]) {
                                                                                                      answerStatus = responseData["response"][0]
                                                                                                          ["final_question"];
                                                                                                      answeredQuestion = responseData["response"][0]
                                                                                                          ["question_number"];
                                                                                                    } else {
                                                                                                      answerStatus = false;
                                                                                                      answeredQuestion = 0;
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                                if (!mounted) {
                                                                                                  return;
                                                                                                }
                                                                                                mainUserId ==
                                                                                                        mainVariables
                                                                                                            .valueMapListProfilePage[index].userId
                                                                                                    ? Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                        return AnalyticsPage(
                                                                                                          surveyId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          activity: false,
                                                                                                          surveyTitle: mainVariables
                                                                                                              .valueMapListProfilePage[index].title,
                                                                                                          navBool: false,
                                                                                                          fromWhere: 'similar',
                                                                                                        );
                                                                                                      }))
                                                                                                    : activeStatus == 'active'
                                                                                                        ? answerStatus
                                                                                                            ? Navigator.push(context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                return AnalyticsPage(
                                                                                                                    surveyId: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .postId,
                                                                                                                    activity: false,
                                                                                                                    navBool: false,
                                                                                                                    fromWhere: 'similar',
                                                                                                                    surveyTitle: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .title);
                                                                                                              }))
                                                                                                            : Navigator.push(context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                return QuestionnairePage(
                                                                                                                  surveyId: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId,
                                                                                                                  defaultIndex: answeredQuestion,
                                                                                                                );
                                                                                                              }))
                                                                                                        : Navigator.push(context, MaterialPageRoute(
                                                                                                            builder: (BuildContext context) {
                                                                                                            return AnalyticsPage(
                                                                                                              surveyId: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                              activity: false,
                                                                                                              surveyTitle: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .title,
                                                                                                              navBool: false,
                                                                                                              fromWhere: 'similar',
                                                                                                            );
                                                                                                          }));
                                                                                                break;
                                                                                              }
                                                                                            default:
                                                                                              {
                                                                                                break;
                                                                                              }
                                                                                          }
                                                                                        },
                                                                                        child: Stack(
                                                                                          children: [
                                                                                            Container(
                                                                                                height: height / 3.97,
                                                                                                decoration: BoxDecoration(
                                                                                                  color: Theme.of(context).colorScheme.background,
                                                                                                  borderRadius: const BorderRadius.only(
                                                                                                      topLeft: Radius.circular(15),
                                                                                                      topRight: Radius.circular(15)),
                                                                                                ),
                                                                                                child: CarouselSlider.builder(
                                                                                                  carouselController: _carController,
                                                                                                  options: CarouselOptions(
                                                                                                      enableInfiniteScroll: false,
                                                                                                      enlargeCenterPage: false,
                                                                                                      onPageChanged: (int index,
                                                                                                          CarouselPageChangedReason reason) {
                                                                                                        setState(() {
                                                                                                          carouselIndexGlobal = index;
                                                                                                        });
                                                                                                      }),
                                                                                                  itemCount: mainVariables
                                                                                                      .valueMapListProfilePage[index].files.length,
                                                                                                  itemBuilder: (BuildContext context,
                                                                                                      int carouselIndex, int realIndex) {
                                                                                                    return mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .files[carouselIndex]
                                                                                                                .type ==
                                                                                                            "image"
                                                                                                        ? Image.network(
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .files[carouselIndex]
                                                                                                                .file,
                                                                                                            fit: BoxFit.fill,
                                                                                                          )
                                                                                                        : mainVariables.valueMapListProfilePage[index]
                                                                                                                    .files[carouselIndex].type ==
                                                                                                                "video"
                                                                                                            ? Stack(
                                                                                                                alignment: Alignment.center,
                                                                                                                children: [
                                                                                                                  Image.asset(
                                                                                                                    "lib/Constants/Assets/Settings/coverImage_default.png",
                                                                                                                    fit: BoxFit.fill,
                                                                                                                    height: height / 3.97,
                                                                                                                  ),
                                                                                                                  Container(
                                                                                                                      height: 50,
                                                                                                                      width: 50,
                                                                                                                      decoration: BoxDecoration(
                                                                                                                          shape: BoxShape.circle,
                                                                                                                          color: Colors.black26
                                                                                                                              .withOpacity(0.7)),
                                                                                                                      child: const Icon(
                                                                                                                        Icons.play_arrow_sharp,
                                                                                                                        color: Colors.white,
                                                                                                                        size: 40,
                                                                                                                      ))
                                                                                                                ],
                                                                                                              )
                                                                                                            : mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .files[carouselIndex]
                                                                                                                        .type ==
                                                                                                                    "document"
                                                                                                                ? Stack(
                                                                                                                    alignment: Alignment.center,
                                                                                                                    children: [
                                                                                                                      Image.asset(
                                                                                                                        "lib/Constants/Assets/Settings/coverImage.png",
                                                                                                                        fit: BoxFit.fill,
                                                                                                                        height: height / 3.97,
                                                                                                                      ),
                                                                                                                      Container(
                                                                                                                        height: 50,
                                                                                                                        width: 50,
                                                                                                                        decoration: BoxDecoration(
                                                                                                                          shape: BoxShape.circle,
                                                                                                                          color: Colors.black26
                                                                                                                              .withOpacity(0.3),
                                                                                                                        ),
                                                                                                                        child: Center(
                                                                                                                          child: Image.asset(
                                                                                                                            "lib/Constants/Assets/BillBoard/document.png",
                                                                                                                            color: Colors.white,
                                                                                                                            height: 25,
                                                                                                                            width: 25,
                                                                                                                          ),
                                                                                                                        ),
                                                                                                                      )
                                                                                                                    ],
                                                                                                                  )
                                                                                                                : const SizedBox();
                                                                                                  },
                                                                                                )),
                                                                                            Positioned(
                                                                                              top: 0,
                                                                                              left: 0,
                                                                                              child: Container(
                                                                                                height: height / 18,
                                                                                                width: width / 1.11,
                                                                                                padding: EdgeInsets.only(
                                                                                                  left: width / 27.4,
                                                                                                ),
                                                                                                decoration: BoxDecoration(
                                                                                                  color: Colors.black12.withOpacity(0.3),
                                                                                                  borderRadius: const BorderRadius.only(
                                                                                                    topLeft: Radius.circular(15),
                                                                                                    topRight: Radius.circular(15),
                                                                                                  ),
                                                                                                ),
                                                                                                child: Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                  children: [
                                                                                                    Row(
                                                                                                      mainAxisAlignment: MainAxisAlignment.start,
                                                                                                      crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                      children: [
                                                                                                        bookMarkWidget(
                                                                                                            bookMark: List.generate(
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage.length,
                                                                                                                (ind) => mainVariables
                                                                                                                    .valueMapListProfilePage[ind]
                                                                                                                    .bookmarks
                                                                                                                    .value),
                                                                                                            context: context,
                                                                                                            scale: 3,
                                                                                                            color: Colors.white,
                                                                                                            id: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            type: mainVariables
                                                                                                                            .valueMapListProfilePage[
                                                                                                                                index]
                                                                                                                            .type ==
                                                                                                                        "byte" ||
                                                                                                                    mainVariables
                                                                                                                            .valueMapListProfilePage[
                                                                                                                                index]
                                                                                                                            .type ==
                                                                                                                        "blog"
                                                                                                                ? "billboard"
                                                                                                                : mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .type,
                                                                                                            modelSetState: setState,
                                                                                                            index: index,
                                                                                                            initFunction: () {},
                                                                                                            notUse: false),
                                                                                                        const SizedBox(
                                                                                                          width: 15,
                                                                                                        ),
                                                                                                        billboardWidgetsMain.translationWidget(
                                                                                                            id: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            type: 'billboard',
                                                                                                            index: index,
                                                                                                            initFunction: () {},
                                                                                                            context: context,
                                                                                                            modelSetState: setState,
                                                                                                            notUse: false,
                                                                                                            valueMapList: mainVariables
                                                                                                                .valueMapListProfilePage),
                                                                                                      ],
                                                                                                    ),
                                                                                                    Row(
                                                                                                      mainAxisAlignment: MainAxisAlignment.end,
                                                                                                      crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                      children: [
                                                                                                        userIdMain !=
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId
                                                                                                            ? billboardWidgetsMain
                                                                                                                .getHomeBelieveButton(
                                                                                                                heightValue: height / 33.76,
                                                                                                                isBelieved: List.generate(
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage
                                                                                                                        .length,
                                                                                                                    (ind) => mainVariables
                                                                                                                        .valueMapListProfilePage[ind]
                                                                                                                        .believed),
                                                                                                                billboardUserid: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                billboardUserName: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId,
                                                                                                                context: context,
                                                                                                                modelSetState: setState,
                                                                                                                index: index,
                                                                                                                background: true,
                                                                                                              )
                                                                                                            : const SizedBox(),

                                                                                                        ///more_vert
                                                                                                        IconButton(
                                                                                                            onPressed: () {
                                                                                                              billboardWidgetsMain.bottomSheet(
                                                                                                                context1: context,
                                                                                                                myself: userIdMain ==
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .userId,
                                                                                                                billboardId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                billboardUserId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId,
                                                                                                                type: "billboard",
                                                                                                                responseId: "",
                                                                                                                responseUserId: "",
                                                                                                                commentId: "",
                                                                                                                commentUserId: "",
                                                                                                                callFunction: () {},
                                                                                                                contentType: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .type,
                                                                                                                modelSetState: setState,
                                                                                                                responseDetail: {},
                                                                                                                category: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .category,
                                                                                                                valueMapList: mainVariables
                                                                                                                    .valueMapListProfilePage,
                                                                                                                index: index,
                                                                                                              );
                                                                                                            },
                                                                                                            icon: const Icon(
                                                                                                              Icons.more_vert,
                                                                                                              color: Colors.white,
                                                                                                              size: 25,
                                                                                                            ))
                                                                                                      ],
                                                                                                    )
                                                                                                  ],
                                                                                                ),
                                                                                              ),
                                                                                            ),
                                                                                            mainVariables
                                                                                                        .valueMapListProfilePage[index].files.length >
                                                                                                    1
                                                                                                ? Positioned(
                                                                                                    bottom: 75,
                                                                                                    left: (width / 2) - 35,
                                                                                                    child: SizedBox(
                                                                                                      height: 5,
                                                                                                      child: ListView.builder(
                                                                                                          shrinkWrap: true,
                                                                                                          scrollDirection: Axis.horizontal,
                                                                                                          physics:
                                                                                                              const NeverScrollableScrollPhysics(),
                                                                                                          itemCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .files
                                                                                                              .length,
                                                                                                          itemBuilder:
                                                                                                              (BuildContext context, int index1) {
                                                                                                            return Container(
                                                                                                              height: 5,
                                                                                                              width: carouselIndexGlobal == index1
                                                                                                                  ? 20
                                                                                                                  : 5,
                                                                                                              margin: const EdgeInsets.symmetric(
                                                                                                                  horizontal: 3),
                                                                                                              decoration: BoxDecoration(
                                                                                                                  borderRadius:
                                                                                                                      BorderRadius.circular(8),
                                                                                                                  color: carouselIndexGlobal == index1
                                                                                                                      ? const Color(0XFF0EA102)
                                                                                                                      : Colors.white),
                                                                                                            );
                                                                                                          }),
                                                                                                    ))
                                                                                                : const SizedBox(),
                                                                                            Positioned(
                                                                                              bottom: 0,
                                                                                              left: 0,
                                                                                              child: Container(
                                                                                                height: height / 14,
                                                                                                width: width,
                                                                                                padding: EdgeInsets.only(
                                                                                                    top: height / 86.6,
                                                                                                    bottom: height / 86.6,
                                                                                                    right: width / 13.7,
                                                                                                    left: width / 41.1),
                                                                                                decoration: BoxDecoration(
                                                                                                  color: Colors.black12.withOpacity(0.3),
                                                                                                ),
                                                                                                child: Text(
                                                                                                  mainVariables.valueMapListProfilePage[index].title
                                                                                                      .toString()
                                                                                                      .capitalizeFirst!,
                                                                                                  maxLines: 2,
                                                                                                  style: TextStyle(
                                                                                                      fontSize: text.scale(14),
                                                                                                      color: Colors.white,
                                                                                                      fontWeight: FontWeight.w500,
                                                                                                      fontFamily: "Poppins",
                                                                                                      overflow: TextOverflow.ellipsis),
                                                                                                ),
                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      Container(
                                                                                        decoration: BoxDecoration(
                                                                                          color: Theme.of(context).colorScheme.background,
                                                                                          borderRadius: const BorderRadius.only(
                                                                                              bottomLeft: Radius.circular(15),
                                                                                              bottomRight: Radius.circular(15)),
                                                                                        ),
                                                                                        child: Column(
                                                                                          children: [
                                                                                            SizedBox(
                                                                                              height: height / 86.6,
                                                                                            ),
                                                                                            Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                              crossAxisAlignment: CrossAxisAlignment.center,
                                                                                              children: [
                                                                                                SizedBox(
                                                                                                  width: width / 41.1,
                                                                                                ),
                                                                                                billboardWidgetsMain.getProfile(
                                                                                                    context: context,
                                                                                                    heightValue: height / 17.32,
                                                                                                    widthValue: width / 8.22,
                                                                                                    myself: false,
                                                                                                    avatar: mainVariables
                                                                                                        .valueMapListProfilePage[index].avatar,
                                                                                                    isProfile: mainVariables
                                                                                                        .valueMapListProfilePage[index].profileType,
                                                                                                    userId: mainVariables
                                                                                                        .valueMapListProfilePage[index].userId),
                                                                                                SizedBox(
                                                                                                  width: width / 41.1,
                                                                                                ),
                                                                                                Expanded(
                                                                                                  child: Column(
                                                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                                    children: [
                                                                                                      InkWell(
                                                                                                        onTap: () {
                                                                                                          Navigator.push(context, MaterialPageRoute(
                                                                                                              builder: (BuildContext context) {
                                                                                                            return UserBillBoardProfilePage(
                                                                                                                userId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId);
                                                                                                          }));
                                                                                                        },
                                                                                                        child: Text(
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].username
                                                                                                              .toString()
                                                                                                              .capitalizeFirst!,
                                                                                                          style: TextStyle(
                                                                                                              fontSize: text.scale(12),
                                                                                                              fontWeight: FontWeight.w700,
                                                                                                              fontFamily: "Poppins"),
                                                                                                        ),
                                                                                                      ),
                                                                                                      const SizedBox(
                                                                                                        height: 5,
                                                                                                      ),
                                                                                                      Row(
                                                                                                        children: [
                                                                                                          Text(
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .createdAt,
                                                                                                            style: TextStyle(
                                                                                                                fontSize: text.scale(10),
                                                                                                                color: const Color(0XFF737373),
                                                                                                                fontWeight: FontWeight.w400,
                                                                                                                fontFamily: "Poppins"),
                                                                                                          ),
                                                                                                          const SizedBox(
                                                                                                            width: 3,
                                                                                                          ),
                                                                                                          Text(
                                                                                                            " | ",
                                                                                                            style: TextStyle(
                                                                                                              fontSize: text.scale(11),
                                                                                                              color: const Color(0XFF737373),
                                                                                                              fontWeight: FontWeight.w400,
                                                                                                            ),
                                                                                                          ),
                                                                                                          const SizedBox(
                                                                                                            width: 3,
                                                                                                          ),
                                                                                                          InkWell(
                                                                                                            onTap: () async {
                                                                                                              billboardWidgetsMain
                                                                                                                  .believersTabBottomSheet(
                                                                                                                context: context,
                                                                                                                id: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId,
                                                                                                                isBelieversList: true,
                                                                                                              );
                                                                                                            },
                                                                                                            child: Text(
                                                                                                              "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                              style: TextStyle(
                                                                                                                  fontSize: text.scale(10),
                                                                                                                  color: const Color(0XFF737373),
                                                                                                                  fontWeight: FontWeight.w400,
                                                                                                                  fontFamily: "Poppins"),
                                                                                                            ),
                                                                                                          ),
                                                                                                        ],
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                ),
                                                                                                billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                                  likeList: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind].like),
                                                                                                  id: mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                  index: index,
                                                                                                  context: context,
                                                                                                  initFunction: () {},
                                                                                                  modelSetState: setState,
                                                                                                  notUse: true,
                                                                                                  dislikeList: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind].dislike),
                                                                                                  likeCountList: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind].likesCount),
                                                                                                  dislikeCountList: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind]
                                                                                                          .disLikesCount),
                                                                                                  type: mainVariables
                                                                                                      .valueMapListProfilePage[index].type,
                                                                                                  billBoardType: mainVariables
                                                                                                              .valueMapListProfilePage[index].type ==
                                                                                                          'survey'
                                                                                                      ? 'survey'
                                                                                                      : 'billboard',
                                                                                                  image: mainVariables
                                                                                                      .valueMapListProfilePage[index].avatar,
                                                                                                  title: mainVariables
                                                                                                      .valueMapListProfilePage[index].title,
                                                                                                  description: "",
                                                                                                  fromWhere: 'homePage',
                                                                                                  responseId: '',
                                                                                                  controller: TextEditingController(),
                                                                                                  commentId: '',
                                                                                                  postUserId: mainVariables
                                                                                                      .valueMapListProfilePage[index].userId,
                                                                                                  responseFocusList: [],
                                                                                                  responseUserId: '',
                                                                                                  valueMapList: mainVariables.valueMapListProfilePage,
                                                                                                ),
                                                                                                SizedBox(
                                                                                                  width: width / 41.1,
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                            SizedBox(height: height / 64),
                                                                                            Padding(
                                                                                              padding:
                                                                                                  EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                              child: Row(
                                                                                                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                                children: [
                                                                                                  Text(
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].companyName,
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        color: const Color(0xFF017FDB),
                                                                                                        fontWeight: FontWeight.bold),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "views",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 0,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                                      style: TextStyle(fontSize: text.scale(10)),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "likes",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 1,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                                      style: TextStyle(fontSize: text.scale(10)),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                          context: context,
                                                                                                          billBoardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          responseId: "",
                                                                                                          commentId: "",
                                                                                                          billBoardType: "billboard",
                                                                                                          action: "dislikes",
                                                                                                          likeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .likesCount
                                                                                                              .toString(),
                                                                                                          disLikeCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .disLikesCount
                                                                                                              .toString(),
                                                                                                          index: 2,
                                                                                                          viewCount: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .viewsCount
                                                                                                              .toString(),
                                                                                                          isViewIncluded: true);
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                                      style: TextStyle(fontSize: text.scale(10)),
                                                                                                    ),
                                                                                                  ),
                                                                                                  InkWell(
                                                                                                    onTap: () async {
                                                                                                      switch (mainVariables
                                                                                                          .valueMapListProfilePage[index].type) {
                                                                                                        case "blog":
                                                                                                          {
                                                                                                            mainVariables
                                                                                                                    .selectedBillboardIdMain.value =
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId;
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        const BlogDescriptionPage()));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "byte":
                                                                                                          {
                                                                                                            mainVariables
                                                                                                                    .selectedBillboardIdMain.value =
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId;
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        const BytesDescriptionPage()));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "forums":
                                                                                                          {
                                                                                                            Navigator.push(
                                                                                                                context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) =>
                                                                                                                        ForumPostDescriptionPage(
                                                                                                                            idList: List.generate(
                                                                                                                                mainVariables
                                                                                                                                    .valueMapListProfilePage
                                                                                                                                    .length,
                                                                                                                                (ind) => mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        ind]
                                                                                                                                    .postId),
                                                                                                                            comeFrom: "billBoardHome",
                                                                                                                            forumId: mainVariables
                                                                                                                                .valueMapListProfilePage[
                                                                                                                                    index]
                                                                                                                                .postId)));
                                                                                                            break;
                                                                                                          }
                                                                                                        case "survey":
                                                                                                          {
                                                                                                            String activeStatus = "";
                                                                                                            bool answerStatus = false;
                                                                                                            int answeredQuestion = 0;
                                                                                                            SharedPreferences prefs =
                                                                                                                await SharedPreferences.getInstance();
                                                                                                            String mainUserId =
                                                                                                                prefs.getString('newUserId') ?? "";
                                                                                                            String mainUserToken =
                                                                                                                prefs.getString('newUserToken') ?? "";
                                                                                                            var url = Uri.parse(baseurl +
                                                                                                                versionSurvey +
                                                                                                                surveyStatusCheck);
                                                                                                            var response =
                                                                                                                await http.post(url, headers: {
                                                                                                              'Authorization': mainUserToken
                                                                                                            }, body: {
                                                                                                              'survey_id': mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                            });
                                                                                                            var responseData =
                                                                                                                json.decode(response.body);
                                                                                                            if (responseData["status"]) {
                                                                                                              activeStatus =
                                                                                                                  responseData["response"]["status"];
                                                                                                              if (activeStatus == "active") {
                                                                                                                var url = Uri.parse(baseurl +
                                                                                                                    versionSurvey +
                                                                                                                    checkAnswer);
                                                                                                                var response =
                                                                                                                    await http.post(url, headers: {
                                                                                                                  'Authorization': mainUserToken
                                                                                                                }, body: {
                                                                                                                  'survey_id': mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId,
                                                                                                                });
                                                                                                                var responseData =
                                                                                                                    json.decode(response.body);
                                                                                                                if (responseData["status"]) {
                                                                                                                  answerStatus =
                                                                                                                      responseData["response"][0]
                                                                                                                          ["final_question"];
                                                                                                                  answeredQuestion =
                                                                                                                      responseData["response"][0]
                                                                                                                          ["question_number"];
                                                                                                                } else {
                                                                                                                  answerStatus = false;
                                                                                                                  answeredQuestion = 0;
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                            if (!mounted) {
                                                                                                              return;
                                                                                                            }
                                                                                                            mainUserId ==
                                                                                                                    mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .userId
                                                                                                                ? Navigator.push(context, MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                    return AnalyticsPage(
                                                                                                                      surveyId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId,
                                                                                                                      activity: false,
                                                                                                                      surveyTitle: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .title,
                                                                                                                      navBool: false,
                                                                                                                      fromWhere: 'similar',
                                                                                                                    );
                                                                                                                  }))
                                                                                                                : activeStatus == 'active'
                                                                                                                    ? answerStatus
                                                                                                                        ? Navigator.push(context,
                                                                                                                            MaterialPageRoute(builder:
                                                                                                                                (BuildContext
                                                                                                                                    context) {
                                                                                                                            return AnalyticsPage(
                                                                                                                                surveyId: mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        index]
                                                                                                                                    .postId,
                                                                                                                                activity: false,
                                                                                                                                navBool: false,
                                                                                                                                fromWhere: 'similar',
                                                                                                                                surveyTitle: mainVariables
                                                                                                                                    .valueMapListProfilePage[
                                                                                                                                        index]
                                                                                                                                    .title);
                                                                                                                          }))
                                                                                                                        : Navigator.push(context,
                                                                                                                            MaterialPageRoute(builder:
                                                                                                                                (BuildContext
                                                                                                                                    context) {
                                                                                                                            return QuestionnairePage(
                                                                                                                              surveyId: mainVariables
                                                                                                                                  .valueMapListProfilePage[
                                                                                                                                      index]
                                                                                                                                  .postId,
                                                                                                                              defaultIndex:
                                                                                                                                  answeredQuestion,
                                                                                                                            );
                                                                                                                          }))
                                                                                                                    : Navigator.push(context,
                                                                                                                        MaterialPageRoute(builder:
                                                                                                                            (BuildContext context) {
                                                                                                                        return AnalyticsPage(
                                                                                                                          surveyId: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .postId,
                                                                                                                          activity: false,
                                                                                                                          surveyTitle: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .title,
                                                                                                                          navBool: false,
                                                                                                                          fromWhere: 'similar',
                                                                                                                        );
                                                                                                                      }));
                                                                                                            break;
                                                                                                          }
                                                                                                        default:
                                                                                                          {
                                                                                                            break;
                                                                                                          }
                                                                                                      }
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                                      style: TextStyle(fontSize: text.scale(10)),
                                                                                                    ),
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            SizedBox(height: height / 42.6),
                                                                                          ],
                                                                                        ),
                                                                                      )
                                                                                    ],
                                                                                  ),
                                                                                )
                                                                          : Container(
                                                                              margin: EdgeInsets.only(bottom: height / 57.73),
                                                                              decoration:
                                                                                  BoxDecoration(borderRadius: BorderRadius.circular(15), boxShadow: [
                                                                                BoxShadow(
                                                                                  spreadRadius: 0.0,
                                                                                  blurRadius: 4.0,
                                                                                  color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                                ),
                                                                              ]),
                                                                              child: Column(
                                                                                children: [
                                                                                  GestureDetector(
                                                                                    onTap: () async {
                                                                                      switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                        case "blog":
                                                                                          {
                                                                                            mainVariables.selectedBillboardIdMain.value =
                                                                                                mainVariables.valueMapListProfilePage[index].postId;
                                                                                            Navigator.push(
                                                                                                context,
                                                                                                MaterialPageRoute(
                                                                                                    builder: (BuildContext context) =>
                                                                                                        const BlogDescriptionPage()));
                                                                                            break;
                                                                                          }
                                                                                        case "byte":
                                                                                          {
                                                                                            mainVariables.selectedBillboardIdMain.value =
                                                                                                mainVariables.valueMapListProfilePage[index].postId;
                                                                                            Navigator.push(
                                                                                                context,
                                                                                                MaterialPageRoute(
                                                                                                    builder: (BuildContext context) =>
                                                                                                        const BytesDescriptionPage()));
                                                                                            break;
                                                                                          }
                                                                                        case "forums":
                                                                                          {
                                                                                            Navigator.push(
                                                                                                context,
                                                                                                MaterialPageRoute(
                                                                                                    builder: (BuildContext context) =>
                                                                                                        ForumPostDescriptionPage(
                                                                                                            idList: List.generate(
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage.length,
                                                                                                                (ind) => mainVariables
                                                                                                                    .valueMapListProfilePage[ind]
                                                                                                                    .postId),
                                                                                                            comeFrom: "billBoardHome",
                                                                                                            forumId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId)));
                                                                                            break;
                                                                                          }
                                                                                        case "survey":
                                                                                          {
                                                                                            String activeStatus = "";
                                                                                            bool answerStatus = false;
                                                                                            int answeredQuestion = 0;
                                                                                            SharedPreferences prefs =
                                                                                                await SharedPreferences.getInstance();
                                                                                            String mainUserId = prefs.getString('newUserId') ?? "";
                                                                                            String mainUserToken =
                                                                                                prefs.getString('newUserToken') ?? "";
                                                                                            var url = Uri.parse(
                                                                                                baseurl + versionSurvey + surveyStatusCheck);
                                                                                            var response = await http.post(url, headers: {
                                                                                              'Authorization': mainUserToken
                                                                                            }, body: {
                                                                                              'survey_id':
                                                                                                  mainVariables.valueMapListProfilePage[index].postId,
                                                                                            });
                                                                                            var responseData = json.decode(response.body);
                                                                                            if (responseData["status"]) {
                                                                                              activeStatus = responseData["response"]["status"];

                                                                                              if (activeStatus == "active") {
                                                                                                var url =
                                                                                                    Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                                                var response = await http.post(url, headers: {
                                                                                                  'Authorization': mainUserToken
                                                                                                }, body: {
                                                                                                  'survey_id': mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                });
                                                                                                var responseData = json.decode(response.body);
                                                                                                if (responseData["status"]) {
                                                                                                  answerStatus =
                                                                                                      responseData["response"][0]["final_question"];
                                                                                                  answeredQuestion =
                                                                                                      responseData["response"][0]["question_number"];
                                                                                                } else {
                                                                                                  answerStatus = false;
                                                                                                  answeredQuestion = 0;
                                                                                                }
                                                                                              }
                                                                                            }
                                                                                            if (!mounted) {
                                                                                              return;
                                                                                            }
                                                                                            mainUserId ==
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].userId
                                                                                                ? Navigator.push(context, MaterialPageRoute(
                                                                                                    builder: (BuildContext context) {
                                                                                                    return AnalyticsPage(
                                                                                                      surveyId: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      activity: false,
                                                                                                      surveyTitle: mainVariables
                                                                                                          .valueMapListProfilePage[index].title,
                                                                                                      navBool: false,
                                                                                                      fromWhere: 'similar',
                                                                                                    );
                                                                                                  }))
                                                                                                : activeStatus == 'active'
                                                                                                    ? answerStatus
                                                                                                        ? Navigator.push(context, MaterialPageRoute(
                                                                                                            builder: (BuildContext context) {
                                                                                                            return AnalyticsPage(
                                                                                                                surveyId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                activity: false,
                                                                                                                navBool: false,
                                                                                                                fromWhere: 'similar',
                                                                                                                surveyTitle: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .title);
                                                                                                          }))
                                                                                                        : Navigator.push(context, MaterialPageRoute(
                                                                                                            builder: (BuildContext context) {
                                                                                                            return QuestionnairePage(
                                                                                                              surveyId: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                              defaultIndex: answeredQuestion,
                                                                                                            );
                                                                                                          }))
                                                                                                    : Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                        return AnalyticsPage(
                                                                                                          surveyId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          activity: false,
                                                                                                          surveyTitle: mainVariables
                                                                                                              .valueMapListProfilePage[index].title,
                                                                                                          navBool: false,
                                                                                                          fromWhere: 'similar',
                                                                                                        );
                                                                                                      }));
                                                                                            break;
                                                                                          }
                                                                                        case "news":
                                                                                          {
                                                                                            /*Navigator.push(context, MaterialPageRoute(builder: (context) {
                                                                                      return DemoPage(
                                                                                        url: "",
                                                                                        text: "",
                                                                                        image: "",
                                                                                        id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                        type: 'news',
                                                                                        activity: true,
                                                                                        checkMain: false,
                                                                                      );
                                                                                    }));*/
                                                                                            Get.to(const DemoView(), arguments: {
                                                                                              "id":
                                                                                                  mainVariables.valueMapListProfilePage[index].postId,
                                                                                              "type": "news",
                                                                                              "url": ""
                                                                                            });
                                                                                            break;
                                                                                          }
                                                                                        default:
                                                                                          {
                                                                                            break;
                                                                                          }
                                                                                      }
                                                                                    },
                                                                                    child: Stack(
                                                                                      children: [
                                                                                        Container(
                                                                                          height: height / 3.97,
                                                                                          decoration: BoxDecoration(
                                                                                              borderRadius: const BorderRadius.only(
                                                                                                  topLeft: Radius.circular(15),
                                                                                                  topRight: Radius.circular(15)),
                                                                                              gradient:
                                                                                                  mainVariables.valueMapListProfilePage[index].type ==
                                                                                                          "blog"
                                                                                                      ? const RadialGradient(
                                                                                                          colors: [
                                                                                                            Color.fromRGBO(23, 25, 27, 0.90),
                                                                                                            Color.fromRGBO(85, 85, 85, 0.00)
                                                                                                          ],
                                                                                                          radius: 15.0,
                                                                                                        )
                                                                                                      : mainVariables.valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? const RadialGradient(
                                                                                                              colors: [
                                                                                                                Color.fromRGBO(0, 92, 175, 0.90),
                                                                                                                Color.fromRGBO(13, 155, 1, 0.00)
                                                                                                              ],
                                                                                                              radius: 15.0,
                                                                                                            )
                                                                                                          : mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "survey"
                                                                                                              ? const RadialGradient(
                                                                                                                  colors: [
                                                                                                                    Color.fromRGBO(10, 122, 1, 0.90),
                                                                                                                    Color.fromRGBO(13, 155, 1, 0.00)
                                                                                                                  ],
                                                                                                                  radius: 15.0,
                                                                                                                )
                                                                                                              : const RadialGradient(
                                                                                                                  colors: [
                                                                                                                    Color.fromRGBO(255, 255, 255, 1),
                                                                                                                    Color.fromRGBO(255, 255, 255, 1)
                                                                                                                  ],
                                                                                                                  radius: 15.0,
                                                                                                                ),
                                                                                              image: DecorationImage(
                                                                                                  image: NetworkImage(
                                                                                                    mainVariables.valueMapListProfilePage[index]
                                                                                                                .type ==
                                                                                                            "news"
                                                                                                        ? mainVariables
                                                                                                            .valueMapListProfilePage[index].newsImage
                                                                                                        : "",
                                                                                                  ),
                                                                                                  fit: BoxFit.fill)),
                                                                                          child: Center(
                                                                                            child: Text(
                                                                                              mainVariables.valueMapListProfilePage[index].type ==
                                                                                                      "news"
                                                                                                  ? ""
                                                                                                  : mainVariables
                                                                                                              .valueMapListProfilePage[index].type ==
                                                                                                          "forums"
                                                                                                      ? mainVariables
                                                                                                          .valueMapListProfilePage[index].type
                                                                                                          .toString()
                                                                                                          .capitalizeFirst!
                                                                                                          .substring(
                                                                                                              0,
                                                                                                              mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type
                                                                                                                      .length -
                                                                                                                  1)
                                                                                                      : mainVariables
                                                                                                          .valueMapListProfilePage[index].type
                                                                                                          .toString()
                                                                                                          .capitalizeFirst!,
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(40),
                                                                                                  fontWeight: FontWeight.w900,
                                                                                                  color: const Color(0XFFFFFFFF)),
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        Positioned(
                                                                                          top: 0,
                                                                                          left: 0,
                                                                                          child: Container(
                                                                                            height: height / 18,
                                                                                            width: width / 1.11,
                                                                                            padding: EdgeInsets.only(
                                                                                              left: width / 27.4,
                                                                                            ),
                                                                                            decoration: BoxDecoration(
                                                                                              color: Colors.black26.withOpacity(0.3),
                                                                                              borderRadius: const BorderRadius.only(
                                                                                                topLeft: Radius.circular(15),
                                                                                                topRight: Radius.circular(15),
                                                                                              ),
                                                                                            ),
                                                                                            child: Row(
                                                                                              mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                              crossAxisAlignment: CrossAxisAlignment.center,
                                                                                              children: [
                                                                                                Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment.start,
                                                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                  children: [
                                                                                                    bookMarkWidget(
                                                                                                        bookMark: List.generate(
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage.length,
                                                                                                            (ind) => mainVariables
                                                                                                                .valueMapListProfilePage[ind]
                                                                                                                .bookmarks
                                                                                                                .value),
                                                                                                        context: context,
                                                                                                        scale: 3,
                                                                                                        color: Colors.white,
                                                                                                        id: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        type: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .type ==
                                                                                                                    "byte" ||
                                                                                                                mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .type ==
                                                                                                                    "blog"
                                                                                                            ? "billboard"
                                                                                                            : mainVariables
                                                                                                                .valueMapListProfilePage[index].type,
                                                                                                        modelSetState: setState,
                                                                                                        index: index,
                                                                                                        initFunction: () {},
                                                                                                        notUse: false),
                                                                                                    const SizedBox(
                                                                                                      width: 15,
                                                                                                    ),
                                                                                                    billboardWidgetsMain.translationWidget(
                                                                                                        id: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        type: 'billboard',
                                                                                                        index: index,
                                                                                                        initFunction: () {},
                                                                                                        context: context,
                                                                                                        modelSetState: setState,
                                                                                                        notUse: false,
                                                                                                        valueMapList:
                                                                                                            mainVariables.valueMapListProfilePage),
                                                                                                  ],
                                                                                                ),
                                                                                                Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment.end,
                                                                                                  children: [
                                                                                                    userIdMain !=
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index].userId
                                                                                                        ? billboardWidgetsMain.getHomeBelieveButton(
                                                                                                            heightValue: height / 33.76,
                                                                                                            isBelieved: List.generate(
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage.length,
                                                                                                                (ind) => mainVariables
                                                                                                                    .valueMapListProfilePage[ind]
                                                                                                                    .believed),
                                                                                                            billboardUserid: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .userId,
                                                                                                            billboardUserName: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .username,
                                                                                                            context: context,
                                                                                                            modelSetState: setState,
                                                                                                            index: index,
                                                                                                            background: true,
                                                                                                          )
                                                                                                        : const SizedBox(),

                                                                                                    ///more_vert
                                                                                                    IconButton(
                                                                                                        onPressed: () {
                                                                                                          billboardWidgetsMain.bottomSheet(
                                                                                                            context1: context,
                                                                                                            myself: userIdMain ==
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId,
                                                                                                            billboardId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            billboardUserId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .userId,
                                                                                                            type: "billboard",
                                                                                                            responseId: "",
                                                                                                            responseUserId: "",
                                                                                                            commentId: "",
                                                                                                            commentUserId: "",
                                                                                                            callFunction: () {},
                                                                                                            contentType: mainVariables
                                                                                                                .valueMapListProfilePage[index].type,
                                                                                                            modelSetState: setState,
                                                                                                            responseDetail: {},
                                                                                                            category: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .category,
                                                                                                            valueMapList:
                                                                                                                mainVariables.valueMapListProfilePage,
                                                                                                            index: index,
                                                                                                          );
                                                                                                        },
                                                                                                        icon: const Icon(
                                                                                                          Icons.more_vert,
                                                                                                          color: Colors.white,
                                                                                                          size: 25,
                                                                                                        ))
                                                                                                  ],
                                                                                                )
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        Positioned(
                                                                                          bottom: 0,
                                                                                          left: 0,
                                                                                          child: Container(
                                                                                            height: height / 14,
                                                                                            width: width,
                                                                                            padding: EdgeInsets.only(
                                                                                                top: height / 86.6,
                                                                                                bottom: height / 86.6,
                                                                                                right: width / 13.7,
                                                                                                left: width / 41.1),
                                                                                            decoration: BoxDecoration(
                                                                                              color: Colors.black26.withOpacity(0.3),
                                                                                            ),
                                                                                            child: Text(
                                                                                              mainVariables.valueMapListProfilePage[index].title
                                                                                                  .toString()
                                                                                                  .capitalizeFirst!,
                                                                                              maxLines: 2,
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(14),
                                                                                                  color: Colors.white,
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontFamily: "Poppins",
                                                                                                  overflow: TextOverflow.ellipsis),
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  Container(
                                                                                    decoration: BoxDecoration(
                                                                                      color: Theme.of(context).colorScheme.background,
                                                                                      borderRadius: const BorderRadius.only(
                                                                                          bottomLeft: Radius.circular(15),
                                                                                          bottomRight: Radius.circular(15)),
                                                                                    ),
                                                                                    child: Column(
                                                                                      children: [
                                                                                        SizedBox(
                                                                                          height: height / 86.6,
                                                                                        ),
                                                                                        Row(
                                                                                          mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                          crossAxisAlignment: CrossAxisAlignment.center,
                                                                                          children: [
                                                                                            SizedBox(
                                                                                              width: width / 41.1,
                                                                                            ),
                                                                                            billboardWidgetsMain.getProfile(
                                                                                                context: context,
                                                                                                heightValue: height / 17.32,
                                                                                                widthValue: width / 8.22,
                                                                                                myself: false,
                                                                                                avatar: mainVariables
                                                                                                    .valueMapListProfilePage[index].avatar,
                                                                                                isProfile: mainVariables
                                                                                                    .valueMapListProfilePage[index].profileType,
                                                                                                userId: mainVariables
                                                                                                    .valueMapListProfilePage[index].userId),
                                                                                            SizedBox(
                                                                                              width: width / 41.1,
                                                                                            ),
                                                                                            Expanded(
                                                                                              child: Column(
                                                                                                crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                mainAxisAlignment: MainAxisAlignment.center,
                                                                                                children: [
                                                                                                  InkWell(
                                                                                                    onTap: () {
                                                                                                      Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                        return UserBillBoardProfilePage(
                                                                                                            userId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .userId);
                                                                                                      }));
                                                                                                    },
                                                                                                    child: Text(
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].username
                                                                                                          .toString()
                                                                                                          .capitalizeFirst!,
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(14),
                                                                                                          color: const Color(0XFF202020),
                                                                                                          fontWeight: FontWeight.w700,
                                                                                                          fontFamily: "Poppins"),
                                                                                                    ),
                                                                                                  ),
                                                                                                  const SizedBox(
                                                                                                    height: 5,
                                                                                                  ),
                                                                                                  Row(
                                                                                                    children: [
                                                                                                      Text(
                                                                                                        mainVariables
                                                                                                            .valueMapListProfilePage[index].createdAt,
                                                                                                        style: TextStyle(
                                                                                                            fontSize: text.scale(10),
                                                                                                            color: const Color(0XFF737373),
                                                                                                            fontWeight: FontWeight.w400,
                                                                                                            fontFamily: "Poppins"),
                                                                                                      ),
                                                                                                      const SizedBox(
                                                                                                        width: 3,
                                                                                                      ),
                                                                                                      Text(
                                                                                                        " | ",
                                                                                                        style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: const Color(0XFF737373),
                                                                                                          fontWeight: FontWeight.w400,
                                                                                                        ),
                                                                                                      ),
                                                                                                      const SizedBox(
                                                                                                        width: 3,
                                                                                                      ),
                                                                                                      InkWell(
                                                                                                        onTap: () async {
                                                                                                          billboardWidgetsMain
                                                                                                              .believersTabBottomSheet(
                                                                                                            context: context,
                                                                                                            id: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .userId,
                                                                                                            isBelieversList: true,
                                                                                                          );
                                                                                                        },
                                                                                                        child: Text(
                                                                                                          "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                          style: TextStyle(
                                                                                                              fontSize: text.scale(10),
                                                                                                              color: const Color(0XFF737373),
                                                                                                              fontWeight: FontWeight.w400,
                                                                                                              fontFamily: "Poppins"),
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                              likeList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].like),
                                                                                              id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                              index: index,
                                                                                              context: context,
                                                                                              initFunction: () {},
                                                                                              modelSetState: setState,
                                                                                              notUse: true,
                                                                                              dislikeList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].dislike),
                                                                                              likeCountList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].likesCount),
                                                                                              dislikeCountList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].disLikesCount),
                                                                                              type: mainVariables.valueMapListProfilePage[index].type,
                                                                                              billBoardType:
                                                                                                  mainVariables.valueMapListProfilePage[index].type ==
                                                                                                          'survey'
                                                                                                      ? 'survey'
                                                                                                      : 'billboard',
                                                                                              image:
                                                                                                  mainVariables.valueMapListProfilePage[index].avatar,
                                                                                              title:
                                                                                                  mainVariables.valueMapListProfilePage[index].title,
                                                                                              description: "",
                                                                                              fromWhere: 'homePage',
                                                                                              responseId: '',
                                                                                              controller: TextEditingController(),
                                                                                              commentId: '',
                                                                                              postUserId:
                                                                                                  mainVariables.valueMapListProfilePage[index].userId,
                                                                                              responseUserId: '',
                                                                                              responseFocusList: [],
                                                                                              valueMapList: mainVariables.valueMapListProfilePage,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              width: width / 41.1,
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                        SizedBox(height: height / 64),
                                                                                        Padding(
                                                                                          padding: EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                            children: [
                                                                                              Text(
                                                                                                mainVariables
                                                                                                    .valueMapListProfilePage[index].companyName,
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10),
                                                                                                    color: const Color(0xFF017FDB),
                                                                                                    fontWeight: FontWeight.bold),
                                                                                              ),
                                                                                              InkWell(
                                                                                                onTap: () async {
                                                                                                  billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                      context: context,
                                                                                                      billBoardId: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      responseId: "",
                                                                                                      commentId: "",
                                                                                                      billBoardType: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? "forums"
                                                                                                          : mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "survey"
                                                                                                              ? "survey"
                                                                                                              : "billboard",
                                                                                                      action: "views",
                                                                                                      likeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].likesCount
                                                                                                          .toString(),
                                                                                                      disLikeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index]
                                                                                                          .disLikesCount
                                                                                                          .toString(),
                                                                                                      index: 0,
                                                                                                      viewCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].viewsCount
                                                                                                          .toString(),
                                                                                                      isViewIncluded: true);
                                                                                                },
                                                                                                child: Text(
                                                                                                  " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                                  style: TextStyle(fontSize: text.scale(10)),
                                                                                                ),
                                                                                              ),
                                                                                              InkWell(
                                                                                                onTap: () async {
                                                                                                  billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                      context: context,
                                                                                                      billBoardId: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      responseId: "",
                                                                                                      commentId: "",
                                                                                                      billBoardType: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? "forums"
                                                                                                          : mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "survey"
                                                                                                              ? "survey"
                                                                                                              : "billboard",
                                                                                                      action: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? "liked"
                                                                                                          : "likes",
                                                                                                      likeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].likesCount
                                                                                                          .toString(),
                                                                                                      disLikeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index]
                                                                                                          .disLikesCount
                                                                                                          .toString(),
                                                                                                      index: 1,
                                                                                                      viewCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].viewsCount
                                                                                                          .toString(),
                                                                                                      isViewIncluded: true);
                                                                                                },
                                                                                                child: Text(
                                                                                                  " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                                  style: TextStyle(fontSize: text.scale(10)),
                                                                                                ),
                                                                                              ),
                                                                                              InkWell(
                                                                                                onTap: () async {
                                                                                                  billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                      context: context,
                                                                                                      billBoardId: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      responseId: "",
                                                                                                      commentId: "",
                                                                                                      billBoardType: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? "forums"
                                                                                                          : mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "survey"
                                                                                                              ? "survey"
                                                                                                              : "billboard",
                                                                                                      action: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "forums"
                                                                                                          ? "disliked"
                                                                                                          : "dislikes",
                                                                                                      likeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].likesCount
                                                                                                          .toString(),
                                                                                                      disLikeCount: mainVariables
                                                                                                          .valueMapListProfilePage[index]
                                                                                                          .disLikesCount
                                                                                                          .toString(),
                                                                                                      index: 2,
                                                                                                      viewCount: mainVariables
                                                                                                          .valueMapListProfilePage[index].viewsCount
                                                                                                          .toString(),
                                                                                                      isViewIncluded: true);
                                                                                                },
                                                                                                child: Text(
                                                                                                  " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                                  style: TextStyle(fontSize: text.scale(10)),
                                                                                                ),
                                                                                              ),
                                                                                              InkWell(
                                                                                                onTap: () async {
                                                                                                  switch (mainVariables
                                                                                                      .valueMapListProfilePage[index].type) {
                                                                                                    case "blog":
                                                                                                      {
                                                                                                        mainVariables.selectedBillboardIdMain.value =
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId;
                                                                                                        Navigator.push(
                                                                                                            context,
                                                                                                            MaterialPageRoute(
                                                                                                                builder: (BuildContext context) =>
                                                                                                                    const BlogDescriptionPage()));
                                                                                                        break;
                                                                                                      }
                                                                                                    case "byte":
                                                                                                      {
                                                                                                        mainVariables.selectedBillboardIdMain.value =
                                                                                                            mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId;
                                                                                                        Navigator.push(
                                                                                                            context,
                                                                                                            MaterialPageRoute(
                                                                                                                builder: (BuildContext context) =>
                                                                                                                    const BytesDescriptionPage()));
                                                                                                        break;
                                                                                                      }
                                                                                                    case "forums":
                                                                                                      {
                                                                                                        Navigator.push(
                                                                                                            context,
                                                                                                            MaterialPageRoute(
                                                                                                                builder: (BuildContext context) =>
                                                                                                                    ForumPostDescriptionPage(
                                                                                                                        idList: List.generate(
                                                                                                                            mainVariables
                                                                                                                                .valueMapListProfilePage
                                                                                                                                .length,
                                                                                                                            (ind) => mainVariables
                                                                                                                                .valueMapListProfilePage[
                                                                                                                                    ind]
                                                                                                                                .postId),
                                                                                                                        comeFrom: "billBoardHome",
                                                                                                                        forumId: mainVariables
                                                                                                                            .valueMapListProfilePage[
                                                                                                                                index]
                                                                                                                            .postId)));
                                                                                                        break;
                                                                                                      }
                                                                                                    case "survey":
                                                                                                      {
                                                                                                        String activeStatus = "";
                                                                                                        bool answerStatus = false;
                                                                                                        int answeredQuestion = 0;
                                                                                                        SharedPreferences prefs =
                                                                                                            await SharedPreferences.getInstance();
                                                                                                        String mainUserId =
                                                                                                            prefs.getString('newUserId') ?? "";
                                                                                                        String mainUserToken =
                                                                                                            prefs.getString('newUserToken') ?? "";
                                                                                                        var url = Uri.parse(baseurl +
                                                                                                            versionSurvey +
                                                                                                            surveyStatusCheck);
                                                                                                        var response = await http.post(url, headers: {
                                                                                                          'Authorization': mainUserToken
                                                                                                        }, body: {
                                                                                                          'survey_id': mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                        });
                                                                                                        var responseData = json.decode(response.body);
                                                                                                        if (responseData["status"]) {
                                                                                                          activeStatus =
                                                                                                              responseData["response"]["status"];
                                                                                                          if (activeStatus == "active") {
                                                                                                            var url = Uri.parse(baseurl +
                                                                                                                versionSurvey +
                                                                                                                checkAnswer);
                                                                                                            var response =
                                                                                                                await http.post(url, headers: {
                                                                                                              'Authorization': mainUserToken
                                                                                                            }, body: {
                                                                                                              'survey_id': mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                            });
                                                                                                            var responseData =
                                                                                                                json.decode(response.body);
                                                                                                            if (responseData["status"]) {
                                                                                                              answerStatus = responseData["response"]
                                                                                                                  [0]["final_question"];
                                                                                                              answeredQuestion =
                                                                                                                  responseData["response"][0]
                                                                                                                      ["question_number"];
                                                                                                            } else {
                                                                                                              answerStatus = false;
                                                                                                              answeredQuestion = 0;
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                        if (!mounted) {
                                                                                                          return;
                                                                                                        }
                                                                                                        mainUserId ==
                                                                                                                mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .userId
                                                                                                            ? Navigator.push(context,
                                                                                                                MaterialPageRoute(
                                                                                                                    builder: (BuildContext context) {
                                                                                                                return AnalyticsPage(
                                                                                                                  surveyId: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId,
                                                                                                                  activity: false,
                                                                                                                  surveyTitle: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .title,
                                                                                                                  navBool: false,
                                                                                                                  fromWhere: 'similar',
                                                                                                                );
                                                                                                              }))
                                                                                                            : activeStatus == 'active'
                                                                                                                ? answerStatus
                                                                                                                    ? Navigator.push(context,
                                                                                                                        MaterialPageRoute(builder:
                                                                                                                            (BuildContext context) {
                                                                                                                        return AnalyticsPage(
                                                                                                                            surveyId: mainVariables
                                                                                                                                .valueMapListProfilePage[
                                                                                                                                    index]
                                                                                                                                .postId,
                                                                                                                            activity: false,
                                                                                                                            navBool: false,
                                                                                                                            fromWhere: 'similar',
                                                                                                                            surveyTitle: mainVariables
                                                                                                                                .valueMapListProfilePage[
                                                                                                                                    index]
                                                                                                                                .title);
                                                                                                                      }))
                                                                                                                    : Navigator.push(context,
                                                                                                                        MaterialPageRoute(builder:
                                                                                                                            (BuildContext context) {
                                                                                                                        return QuestionnairePage(
                                                                                                                          surveyId: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .postId,
                                                                                                                          defaultIndex:
                                                                                                                              answeredQuestion,
                                                                                                                        );
                                                                                                                      }))
                                                                                                                : Navigator.push(context,
                                                                                                                    MaterialPageRoute(builder:
                                                                                                                        (BuildContext context) {
                                                                                                                    return AnalyticsPage(
                                                                                                                      surveyId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId,
                                                                                                                      activity: false,
                                                                                                                      surveyTitle: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .title,
                                                                                                                      navBool: false,
                                                                                                                      fromWhere: 'similar',
                                                                                                                    );
                                                                                                                  }));
                                                                                                        break;
                                                                                                      }
                                                                                                    default:
                                                                                                      {
                                                                                                        break;
                                                                                                      }
                                                                                                  }
                                                                                                },
                                                                                                child: Text(
                                                                                                  " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                                  style: TextStyle(fontSize: text.scale(10)),
                                                                                                ),
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        SizedBox(height: height / 42.6),
                                                                                      ],
                                                                                    ),
                                                                                  )
                                                                                ],
                                                                              ),
                                                                            ),
                                                                    ],
                                                                  )
                                                                : GestureDetector(
                                                                    onTap: () {
                                                                      Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                        return UserBillBoardProfilePage(userId: idList[index])
                                                                            /*UserProfilePage(
                                          id: idList[index],
                                          type: 'forums',
                                          index: 0)*/
                                                                            ;
                                                                      }));
                                                                    },
                                                                    child: Container(
                                                                      width: width / 1.67,
                                                                      margin: EdgeInsets.symmetric(vertical: height / 35, horizontal: width / 41.1),
                                                                      // margin: EdgeInsets.symmetric(horizontal: 5),
                                                                      padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 10),
                                                                      decoration: BoxDecoration(
                                                                          color: Theme.of(context).colorScheme.background,
                                                                          borderRadius: BorderRadius.circular(20),
                                                                          boxShadow: [
                                                                            BoxShadow(
                                                                              spreadRadius: 0.0,
                                                                              blurRadius: 4.0,
                                                                              color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                            ),
                                                                          ]),
                                                                      child: Row(
                                                                        mainAxisAlignment: MainAxisAlignment.start,
                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                        children: [
                                                                          GestureDetector(
                                                                            onTap: () async {
                                                                              Navigator.push(context,
                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                return UserBillBoardProfilePage(userId: idList[index])
                                                                                    /*UserProfilePage(
                                                  id: idList[index],
                                                  type: 'forums',
                                                  index: 0)*/
                                                                                    ;
                                                                              }));
                                                                            },
                                                                            child: Container(
                                                                              height: height / 13.53,
                                                                              width: width / 6.5,
                                                                              margin: const EdgeInsets.all(10),
                                                                              decoration: BoxDecoration(
                                                                                  shape: BoxShape.circle,
                                                                                  color: Colors.grey,
                                                                                  image: DecorationImage(
                                                                                      image: NetworkImage(
                                                                                        _bookMarkSeeAll.response[index]
                                                                                            .avatarOnlyUsers /*forumImagesList[index]*/,
                                                                                      ),
                                                                                      fit: BoxFit.fill)),
                                                                            ),
                                                                          ),
                                                                          Column(
                                                                            mainAxisAlignment: MainAxisAlignment.start,
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              SizedBox(
                                                                                width: width / 2.74,
                                                                                child: Text(
                                                                                  "${_bookMarkSeeAll.response[index].firstnameOnlyUsers} ${_bookMarkSeeAll.response[index].lastnameOnlyUsers}" /*forumTitlesList[index]*/,
                                                                                  style: TextStyle(
                                                                                      fontSize: text.scale(14),
                                                                                      color: const Color(0XFF1D1D1D),
                                                                                      fontWeight: FontWeight.w600),
                                                                                ),
                                                                              ),
                                                                              const SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                              Text(
                                                                                _bookMarkSeeAll.response[index].usernameOnlyUsers,
                                                                                //forumSourceNameList[index].toString().capitalizeFirst!,
                                                                                style: TextStyle(
                                                                                    fontSize: text.scale(9),
                                                                                    color: const Color(0XFFAFAFAF),
                                                                                    fontWeight: FontWeight.w500),
                                                                              ),
                                                                              const SizedBox(
                                                                                height: 5,
                                                                              ),
                                                                              SizedBox(
                                                                                width: width / 2.74,
                                                                                child: Row(
                                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                  children: [
                                                                                    GestureDetector(
                                                                                        onTap: () {
                                                                                          Navigator.push(context,
                                                                                              MaterialPageRoute(builder: (BuildContext context) {
                                                                                            return UserBillBoardProfilePage(userId: idList[index])
                                                                                                /*UserProfilePage(
                                                              id: idList[index],
                                                              type: 'forums',
                                                              index: 0)*/
                                                                                                ;
                                                                                          }));
                                                                                        },
                                                                                        child: Container(
                                                                                            height: height / 35.04,
                                                                                            width: width / 6.85,
                                                                                            decoration: BoxDecoration(
                                                                                                borderRadius: BorderRadius.circular(5),
                                                                                                color: const Color(0XFF0CA202)),
                                                                                            child: Center(
                                                                                                child: Text(
                                                                                              "Visit profile",
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(9),
                                                                                                  color: const Color(0XFFFFFFFF),
                                                                                                  fontWeight: FontWeight.w600),
                                                                                            )))),
                                                                                    Row(
                                                                                      children: [
                                                                                        bookMarkWidget(
                                                                                            bookMark: bookMarkList,
                                                                                            context: context,
                                                                                            scale: 3.2,
                                                                                            id: idList[index],
                                                                                            type: 'users',
                                                                                            modelSetState: setState,
                                                                                            index: index,
                                                                                            initFunction: getAllData,
                                                                                            notUse: true),
                                                                                        SizedBox(
                                                                                          width: width / 27.4,
                                                                                        )
                                                                                      ],
                                                                                    ),
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            ],
                                                                          )
                                                                        ],
                                                                      ),
                                                                    )),
                                          ],
                                        );
                                      }
                                      return widget.type == 'news'
                                          ? Column(
                                              children: [
                                                Container(
                                                  height: height / 3.23,
                                                  margin: const EdgeInsets.symmetric(horizontal: 5),
                                                  child: Column(
                                                    children: [
                                                      GestureDetector(
                                                        onTap: () async {
                                                          /* if(descriptionList[index]==""&& snippetList[index]==""){
                                          Navigator.push(context,
                                              MaterialPageRoute(
                                                  builder: (context) {
                                                    return DemoPage(
                                                      url: _bookMarkSeeAll.response[index].newsUrl,
                                                      text: _bookMarkSeeAll.response[index].title,
                                                      image: "",
                                                      id: idList[index],
                                                      type: 'news',
                                                      activity: true,
                                                      checkMain: false,
                                                    );
                                                  }));
                                        }else{
                                          bool response= await Navigator.push(context, MaterialPageRoute(builder: (BuildContext context)=>
                                              NewsDescriptionPage(
                                                comeFrom: 'newsMain',
                                                id: idList[index],
                                                idList: idList,
                                                descriptionList: descriptionList,
                                                snippetList: snippetList,
                                              )));
                                          if(response){
                                            getAllData();
                                          }
                                        }*/

                                                          ///need to change it soon
                                                          /*Navigator.push(context, MaterialPageRoute(builder: (context) {
                                                          return DemoPage(
                                                            url: _bookMarkSeeAll.response[index].newsUrl,
                                                            text: _bookMarkSeeAll.response[index].title,
                                                            image: "",
                                                            id: idList[index],
                                                            type: 'news',
                                                            activity: true,
                                                            checkMain: false,
                                                          );
                                                        }));*/
                                                          Get.to(const DemoView(), arguments: {
                                                            "id": idList[index],
                                                            "type": "news",
                                                            "url": _bookMarkSeeAll.response[index].newsUrl
                                                          });
                                                        },
                                                        child: Stack(
                                                          alignment: Alignment.bottomLeft,
                                                          children: [
                                                            Container(
                                                              height: height / 4.77,
                                                              decoration: BoxDecoration(
                                                                boxShadow: [
                                                                  BoxShadow(
                                                                      spreadRadius: 0.0,
                                                                      blurRadius: 4.0,
                                                                      color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3))
                                                                ],
                                                                image: DecorationImage(
                                                                  image: NetworkImage(_bookMarkSeeAll.response[index].imageUrl),
                                                                  fit: BoxFit.fill,
                                                                ),
                                                                color: Theme.of(context).colorScheme.background,
                                                                borderRadius: const BorderRadius.only(
                                                                    topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                              ),
                                                            ),
                                                            Container(
                                                              height: height / 10.97,
                                                              width: width,
                                                              padding: const EdgeInsets.all(10),
                                                              decoration: BoxDecoration(
                                                                color: Colors.black12.withOpacity(0.3),
                                                              ),
                                                              child: Text(
                                                                _bookMarkSeeAll.response[index].title,
                                                                style: TextStyle(
                                                                    fontSize: text.scale(14),
                                                                    color: Colors.white,
                                                                    fontWeight: FontWeight.w500,
                                                                    fontFamily: "Poppins"),
                                                              ),
                                                            ),
                                                            Positioned(
                                                              top: 0,
                                                              left: 0,
                                                              right: 0,
                                                              child: Container(
                                                                height: height / 20,
                                                                width: width,
                                                                padding: const EdgeInsets.all(10),
                                                                decoration: const BoxDecoration(
                                                                  borderRadius:
                                                                      BorderRadius.only(topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                  //  color: Colors.black12.withOpacity(0.3),
                                                                ),
                                                                child: Row(
                                                                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment.center,
                                                                  children: [
                                                                    sentimentButton(
                                                                        context: context, text: _bookMarkSeeAll.response[index].sentiment),
                                                                    excLabelButton(text: exchangeList[index], context: context)
                                                                  ],
                                                                ),
                                                              ),
                                                            ),
                                                          ],
                                                        ),
                                                      ),
                                                      Container(
                                                        height: height / 10.02,
                                                        decoration: BoxDecoration(
                                                            color: Theme.of(context).colorScheme.background,
                                                            borderRadius: const BorderRadius.only(
                                                                bottomLeft: Radius.circular(15), bottomRight: Radius.circular(15)),
                                                            boxShadow: [
                                                              BoxShadow(
                                                                spreadRadius: 0.0,
                                                                blurRadius: 4.0,
                                                                color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                              )
                                                            ]),
                                                        child: Container(
                                                          margin: const EdgeInsets.symmetric(vertical: 5),
                                                          padding: const EdgeInsets.only(left: 15.0),
                                                          child: Row(
                                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                            children: [
                                                              Expanded(
                                                                child: Column(
                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                  mainAxisAlignment: MainAxisAlignment.center,
                                                                  children: [
                                                                    Text(
                                                                      _bookMarkSeeAll.response[index].sourceName.capitalizeFirst ?? "",
                                                                      style: TextStyle(
                                                                          fontSize: text.scale(12),
                                                                          color: const Color(0XFFF7931A),
                                                                          fontWeight: FontWeight.w500,
                                                                          fontFamily: "Poppins"),
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    Row(
                                                                      children: [
                                                                        Text(
                                                                          _bookMarkSeeAll.response[index].date,
                                                                          style: TextStyle(
                                                                              fontSize: text.scale(10),
                                                                              color: const Color(0XFFB0B0B0),
                                                                              fontWeight: FontWeight.w500,
                                                                              fontFamily: "Poppins"),
                                                                        ),
                                                                        const SizedBox(
                                                                          width: 3,
                                                                        ),
                                                                        InkWell(
                                                                          onTap: mainSkipValue
                                                                              ? () {
                                                                                  commonFlushBar(context: context, initFunction: initState);
                                                                                }
                                                                              : () async {
                                                                                  setState(() {
                                                                                    kUserSearchController.clear();
                                                                                    onTapType = "liked";
                                                                                    onTapId = idList[index];
                                                                                    onLike = true;
                                                                                    onDislike = false;
                                                                                    idKeyMain = "news_id";
                                                                                    apiMain = baseurl + versionLocker + newsLikeDislikeCount;
                                                                                    onTapIdMain = idList[index];
                                                                                    onTapTypeMain = "liked";
                                                                                    haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                    haveDisLikesMain = dislikeCountList[index] > 0 ? true : false;
                                                                                    likesCountMain = likeCountList[index];
                                                                                    dislikesCountMain = dislikeCountList[index];
                                                                                    kToken = kToken;
                                                                                    loaderMain = false;
                                                                                  });
                                                                                  await customShowSheetNew3(
                                                                                    context: context,
                                                                                    responseCheck: 'feature',
                                                                                  );
                                                                                },
                                                                          child: Text(
                                                                            "${likeCountList[index]} Likes",
                                                                            style: TextStyle(
                                                                                fontSize: text.scale(10),
                                                                                color: const Color(0XFFB0B0B0),
                                                                                fontWeight: FontWeight.w900,
                                                                                fontFamily: "Poppins"),
                                                                          ),
                                                                        ),
                                                                        const SizedBox(
                                                                          width: 3,
                                                                        ),
                                                                        InkWell(
                                                                          onTap: mainSkipValue
                                                                              ? () {
                                                                                  commonFlushBar(context: context, initFunction: initState);
                                                                                }
                                                                              : () async {
                                                                                  setState(() {
                                                                                    kUserSearchController.clear();
                                                                                    onTapType = "disliked";
                                                                                    onTapId = idList[index];
                                                                                    onLike = false;
                                                                                    onDislike = true;
                                                                                    idKeyMain = "news_id";
                                                                                    apiMain = baseurl + versionLocker + newsLikeDislikeCount;
                                                                                    onTapIdMain = idList[index];
                                                                                    onTapTypeMain = "disliked";
                                                                                    haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                    haveDisLikesMain = dislikeCountList[index] > 0 ? true : false;
                                                                                    likesCountMain = likeCountList[index];
                                                                                    dislikesCountMain = dislikeCountList[index];
                                                                                    kToken = kToken;
                                                                                    loaderMain = false;
                                                                                  });
                                                                                  await customShowSheetNew3(
                                                                                    context: context,
                                                                                    responseCheck: 'feature',
                                                                                  );
                                                                                },
                                                                          child: Text(
                                                                            "${dislikeCountList[index]} Dislikes",
                                                                            style: TextStyle(
                                                                                fontSize: text.scale(10),
                                                                                color: const Color(0XFFB0B0B0),
                                                                                fontWeight: FontWeight.w900,
                                                                                fontFamily: "Poppins"),
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ],
                                                                ),
                                                              ),
                                                              Container(
                                                                margin: const EdgeInsets.only(left: 8),
                                                                width: width / 2.6,
                                                                child: Row(
                                                                  children: [
                                                                    GestureDetector(
                                                                        onTap: mainSkipValue
                                                                            ? () {
                                                                                commonFlushBar(context: context, initFunction: initState);
                                                                              }
                                                                            : () async {
                                                                                bool response1 = await likeFunction(id: idList[index], type: "news");
                                                                                if (response1) {
                                                                                  logEventFunc(name: "Likes", type: "News");
                                                                                  setState(() {
                                                                                    if (isLikedList[index] == true) {
                                                                                      if (isDislikedList[index] == true) {
                                                                                      } else {
                                                                                        likeCountList[index] -= 1;
                                                                                      }
                                                                                    } else {
                                                                                      if (isDislikedList[index] == true) {
                                                                                        dislikeCountList[index] -= 1;
                                                                                        likeCountList[index] += 1;
                                                                                      } else {
                                                                                        likeCountList[index] += 1;
                                                                                      }
                                                                                    }
                                                                                    isLikedList[index] = !isLikedList[index];
                                                                                    isDislikedList[index] = false;
                                                                                  });
                                                                                } else {}
                                                                              },
                                                                        child: Container(
                                                                          child: isLikedList[index]
                                                                              ? SvgPicture.asset(
                                                                                  isDarkTheme.value
                                                                                      ? "assets/home_screen/like_filled_dark.svg"
                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                  height: 20,
                                                                                  width: 20)
                                                                              : SvgPicture.asset(
                                                                                  isDarkTheme.value
                                                                                      ? "assets/home_screen/like_dark.svg"
                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                  height: 20,
                                                                                  width: 20,
                                                                                ),
                                                                        )),
                                                                    SizedBox(width: width / 20),
                                                                    GestureDetector(
                                                                        onTap: () async {
                                                                          logEventFunc(name: 'Share', type: 'News');
                                                                          newLink = await getLinkNews(
                                                                            id: idList[index],
                                                                            type: "news",
                                                                            description: '',
                                                                            imageUrl: _bookMarkSeeAll.response[index].imageUrl,
                                                                            title: _bookMarkSeeAll.response[index].title,
                                                                          );
                                                                          ShareResult result = await Share.share(
                                                                            "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                          );
                                                                          if (result.status == ShareResultStatus.success) {
                                                                            await shareFunction(id: idList[index], type: "news");
                                                                          }
                                                                        },
                                                                        child: SvgPicture.asset(
                                                                          isDarkTheme.value
                                                                              ? "assets/home_screen/share_dark.svg"
                                                                              : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                        )),
                                                                    SizedBox(width: width / 20),
                                                                    GestureDetector(
                                                                      onTap: mainSkipValue
                                                                          ? () {
                                                                              commonFlushBar(context: context, initFunction: initState);
                                                                            }
                                                                          : () async {
                                                                              bool response3 = await disLikeFunction(id: idList[index], type: "news");
                                                                              if (response3) {
                                                                                logEventFunc(name: "Dislikes", type: "News");
                                                                                setState(() {
                                                                                  if (isDislikedList[index] == true) {
                                                                                    if (isLikedList[index] == true) {
                                                                                    } else {
                                                                                      dislikeCountList[index] -= 1;
                                                                                    }
                                                                                  } else {
                                                                                    if (isLikedList[index] == true) {
                                                                                      likeCountList[index] -= 1;
                                                                                      dislikeCountList[index] += 1;
                                                                                    } else {
                                                                                      dislikeCountList[index] += 1;
                                                                                    }
                                                                                  }
                                                                                  isDislikedList[index] = !isDislikedList[index];
                                                                                  isLikedList[index] = false;
                                                                                });
                                                                              } else {}
                                                                            },
                                                                      child: isDislikedList[index]
                                                                          ? SvgPicture.asset(
                                                                              isDarkTheme.value
                                                                                  ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                  : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                              height: 20,
                                                                              width: 20)
                                                                          : SvgPicture.asset(
                                                                              isDarkTheme.value
                                                                                  ? "assets/home_screen/dislike_dark.svg"
                                                                                  : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                              height: 20,
                                                                              width: 20),
                                                                    ),
                                                                    SizedBox(width: width / 20),
                                                                    bookMarkWidget(
                                                                        bookMark: bookMarkList,
                                                                        context: context,
                                                                        scale: 3.2,
                                                                        id: idList[index],
                                                                        type: 'news',
                                                                        modelSetState: setState,
                                                                        index: index,
                                                                        initFunction: getAllData,
                                                                        notUse: true),
                                                                  ],
                                                                ),
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                      )
                                                    ],
                                                  ),
                                                ),
                                                SizedBox(
                                                  height: height / 33.83,
                                                )
                                              ],
                                            )
                                          : widget.type == 'videos'
                                              ? Column(
                                                  children: [
                                                    Container(
                                                      height: height / 3.23,
                                                      margin: const EdgeInsets.symmetric(horizontal: 5),
                                                      child: Column(
                                                        children: [
                                                          GestureDetector(
                                                            onTap: () async {
                                                              Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                return YoutubePlayerLandscapeScreen(
                                                                  id: idList[index],
                                                                  comeFrom: "bookmarkSeeAll",
                                                                );
                                                              }));
                                                            },
                                                            child: Stack(
                                                              alignment: Alignment.bottomLeft,
                                                              children: [
                                                                Container(
                                                                  height: height / 4.77,
                                                                  decoration: BoxDecoration(
                                                                    boxShadow: [
                                                                      BoxShadow(
                                                                        spreadRadius: 0.0,
                                                                        blurRadius: 4.0,
                                                                        color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                      )
                                                                    ],
                                                                    image: DecorationImage(
                                                                      image: NetworkImage(_bookMarkSeeAll.response[index].imageUrl),
                                                                      fit: BoxFit.fill,
                                                                    ),
                                                                    color: Theme.of(context).colorScheme.background,
                                                                    borderRadius: const BorderRadius.only(
                                                                        topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                  ),
                                                                ),
                                                                Column(
                                                                  children: [
                                                                    Row(
                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                      children: [
                                                                        Container(
                                                                          width: width / 7.5,
                                                                          height: height / 16.24,
                                                                          padding: const EdgeInsets.all(10),
                                                                          decoration: BoxDecoration(
                                                                            shape: BoxShape.circle,
                                                                            color: Colors.black12.withOpacity(0.3),
                                                                          ),
                                                                          child: const Center(
                                                                              child: Icon(
                                                                            Icons.play_arrow,
                                                                            color: Colors.white,
                                                                          )),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    Container(
                                                                      height: height / 10.97,
                                                                      width: width,
                                                                      padding: const EdgeInsets.all(10),
                                                                      decoration: BoxDecoration(
                                                                        color: Colors.black12.withOpacity(0.3),
                                                                      ),
                                                                      child: Text(
                                                                        _bookMarkSeeAll.response[index].title,
                                                                        style: TextStyle(
                                                                            fontSize: text.scale(14),
                                                                            color: Colors.white,
                                                                            fontWeight: FontWeight.w500,
                                                                            fontFamily: "Poppins"),
                                                                      ),
                                                                    ),
                                                                  ],
                                                                ),
                                                                Positioned(
                                                                  top: 0,
                                                                  left: 0,
                                                                  right: 0,
                                                                  child: Container(
                                                                    height: height / 20,
                                                                    width: width,
                                                                    padding: const EdgeInsets.all(10),
                                                                    decoration: const BoxDecoration(
                                                                      borderRadius: BorderRadius.only(
                                                                          topLeft: Radius.circular(15), topRight: Radius.circular(15)),
                                                                      // color: Colors.black12.withOpacity(0.3),
                                                                    ),
                                                                    child: Row(
                                                                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                      crossAxisAlignment: CrossAxisAlignment.center,
                                                                      children: [
                                                                        sentimentButton(
                                                                            context: context, text: _bookMarkSeeAll.response[index].sentiment),
                                                                        excLabelButton(text: exchangeList[index], context: context)
                                                                      ],
                                                                    ),
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                          Container(
                                                            height: height / 10.02,
                                                            decoration: BoxDecoration(
                                                                color: Theme.of(context).colorScheme.background,
                                                                borderRadius: const BorderRadius.only(
                                                                    bottomLeft: Radius.circular(15), bottomRight: Radius.circular(15)),
                                                                boxShadow: [
                                                                  BoxShadow(
                                                                      spreadRadius: 0.0,
                                                                      blurRadius: 4.0,
                                                                      color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3))
                                                                ]),
                                                            child: Container(
                                                              margin: const EdgeInsets.symmetric(vertical: 5),
                                                              padding: const EdgeInsets.only(left: 15.0),
                                                              child: Row(
                                                                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                children: [
                                                                  Expanded(
                                                                    child: Column(
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                      children: [
                                                                        Text(
                                                                          _bookMarkSeeAll.response[index].sourceName.capitalizeFirst!,
                                                                          style: TextStyle(
                                                                              fontSize: text.scale(12),
                                                                              color: const Color(0XFFF7931A),
                                                                              fontWeight: FontWeight.w500,
                                                                              fontFamily: "Poppins"),
                                                                        ),
                                                                        const SizedBox(
                                                                          height: 5,
                                                                        ),
                                                                        Row(
                                                                          children: [
                                                                            Text(
                                                                              _bookMarkSeeAll.response[index].date,
                                                                              style: TextStyle(
                                                                                  fontSize: text.scale(10),
                                                                                  color: const Color(0XFFB0B0B0),
                                                                                  fontWeight: FontWeight.w500,
                                                                                  fontFamily: "Poppins"),
                                                                            ),
                                                                            const SizedBox(
                                                                              width: 3,
                                                                            ),
                                                                            InkWell(
                                                                              onTap: mainSkipValue
                                                                                  ? () {
                                                                                      commonFlushBar(context: context, initFunction: initState);
                                                                                    }
                                                                                  : () async {
                                                                                      setState(() {
                                                                                        kUserSearchController.clear();
                                                                                        onTapType = "Views";
                                                                                        onTapId = idList[index];
                                                                                        onLike = false;
                                                                                        onDislike = false;
                                                                                        onViews = true;
                                                                                        idKeyMain = "video_id";
                                                                                        apiMain = baseurl + versionLocker + videoViewCount;
                                                                                        onTapIdMain = idList[index];
                                                                                        onTapTypeMain = "Views";
                                                                                        haveLikesMain = likeCountList[index] > 0 ? true : false;
                                                                                        haveDisLikesMain = dislikeCountList[index] > 0 ? true : false;
                                                                                        haveViewsMain = _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                            ? true
                                                                                            : false;
                                                                                        likesCountMain = likeCountList[index];
                                                                                        dislikesCountMain = dislikeCountList[index];
                                                                                        viewCountMain = _bookMarkSeeAll.response[index].viewsCount;
                                                                                        kToken = kToken;
                                                                                      });
                                                                                      //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionLocker + videoViewCount, idKey: 'video_id', setState: setState);
                                                                                      bool data = await likeCountFunc(
                                                                                          context: context, newSetState: setState);
                                                                                      if (data) {
                                                                                        if (!mounted) {
                                                                                          return;
                                                                                        }
                                                                                        customShowSheet1(context: context);
                                                                                        setState(() {
                                                                                          loaderMain = true;
                                                                                        });
                                                                                      } else {
                                                                                        if (!mounted) {
                                                                                          return;
                                                                                        }
                                                                                        Flushbar(
                                                                                          message: "Still no one has viewed this post",
                                                                                          duration: const Duration(seconds: 2),
                                                                                        ).show(context);
                                                                                      }
                                                                                    },
                                                                              child: Text(
                                                                                "${_bookMarkSeeAll.response[index].viewsCount} Views",
                                                                                style: TextStyle(
                                                                                    fontSize: text.scale(10),
                                                                                    color: const Color(0XFFB0B0B0),
                                                                                    fontWeight: FontWeight.w900,
                                                                                    fontFamily: "Poppins"),
                                                                              ),
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                  Container(
                                                                    margin: const EdgeInsets.only(left: 8),
                                                                    width: width / 2.6,
                                                                    child: Row(
                                                                      children: [
                                                                        GestureDetector(
                                                                            onTap: mainSkipValue
                                                                                ? () {
                                                                                    commonFlushBar(context: context, initFunction: initState);
                                                                                  }
                                                                                : () async {
                                                                                    bool response1 =
                                                                                        await likeFunction(id: idList[index], type: "videos");
                                                                                    if (response1) {
                                                                                      logEventFunc(name: "Likes", type: "Videos");
                                                                                      setState(() {
                                                                                        if (isLikedList[index] == true) {
                                                                                          if (isDislikedList[index] == true) {
                                                                                          } else {
                                                                                            likeCountList[index] -= 1;
                                                                                          }
                                                                                        } else {
                                                                                          if (isDislikedList[index] == true) {
                                                                                            dislikeCountList[index] -= 1;
                                                                                            likeCountList[index] += 1;
                                                                                          } else {
                                                                                            likeCountList[index] += 1;
                                                                                          }
                                                                                        }
                                                                                        isLikedList[index] = !isLikedList[index];
                                                                                        isDislikedList[index] = false;
                                                                                      });
                                                                                    } else {}
                                                                                  },
                                                                            child: Container(
                                                                              child: isLikedList[index]
                                                                                  ? SvgPicture.asset(
                                                                                      isDarkTheme.value
                                                                                          ? "assets/home_screen/like_filled_dark.svg"
                                                                                          : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                      height: 20,
                                                                                      width: 20)
                                                                                  : SvgPicture.asset(
                                                                                      isDarkTheme.value
                                                                                          ? "assets/home_screen/like_dark.svg"
                                                                                          : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                      height: 20,
                                                                                      width: 20,
                                                                                    ),
                                                                            )),
                                                                        SizedBox(width: width / 20),
                                                                        GestureDetector(
                                                                            onTap: () async {
                                                                              logEventFunc(name: "Share", type: "Videos");
                                                                              newLink = await getLinkVideos(
                                                                                  id: idList[index],
                                                                                  type: "videos",
                                                                                  description: '',
                                                                                  imageUrl: _bookMarkSeeAll.response[index].imageUrl,
                                                                                  title: _bookMarkSeeAll.response[index].title);
                                                                              ShareResult result = await Share.share(
                                                                                "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                              );
                                                                              if (result.status == ShareResultStatus.success) {
                                                                                await shareFunction(id: idList[index], type: "videos");
                                                                              }
                                                                            },
                                                                            child: SvgPicture.asset(
                                                                              isDarkTheme.value
                                                                                  ? "assets/home_screen/share_dark.svg"
                                                                                  : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                            )),
                                                                        SizedBox(width: width / 20),
                                                                        GestureDetector(
                                                                          onTap: mainSkipValue
                                                                              ? () {
                                                                                  commonFlushBar(context: context, initFunction: initState);
                                                                                }
                                                                              : () async {
                                                                                  bool response3 =
                                                                                      await disLikeFunction(id: idList[index], type: "videos");
                                                                                  if (response3) {
                                                                                    logEventFunc(name: "Dislikes", type: "Videos");
                                                                                    setState(() {
                                                                                      if (isDislikedList[index] == true) {
                                                                                        if (isLikedList[index] == true) {
                                                                                        } else {
                                                                                          dislikeCountList[index] -= 1;
                                                                                        }
                                                                                      } else {
                                                                                        if (isLikedList[index] == true) {
                                                                                          likeCountList[index] -= 1;
                                                                                          dislikeCountList[index] += 1;
                                                                                        } else {
                                                                                          dislikeCountList[index] += 1;
                                                                                        }
                                                                                      }
                                                                                      isDislikedList[index] = !isDislikedList[index];
                                                                                      isLikedList[index] = false;
                                                                                    });
                                                                                  } else {}
                                                                                },
                                                                          child: isDislikedList[index]
                                                                              ? SvgPicture.asset(
                                                                                  isDarkTheme.value
                                                                                      ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                                  height: 20,
                                                                                  width: 20)
                                                                              : SvgPicture.asset(
                                                                                  isDarkTheme.value
                                                                                      ? "assets/home_screen/dislike_dark.svg"
                                                                                      : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                                  height: 20,
                                                                                  width: 20),
                                                                        ),
                                                                        SizedBox(width: width / 20),
                                                                        bookMarkWidget(
                                                                            bookMark: bookMarkList,
                                                                            context: context,
                                                                            scale: 3.2,
                                                                            id: idList[index],
                                                                            type: 'videos',
                                                                            modelSetState: setState,
                                                                            index: index,
                                                                            initFunction: getAllData,
                                                                            notUse: true),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          )
                                                        ],
                                                      ),
                                                    ),
                                                    SizedBox(
                                                      height: height / 33.83,
                                                    )
                                                  ],
                                                )
                                              : widget.type == 'forums'
                                                  ? GestureDetector(
                                                      onTap: () async {
                                                        Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                          return ForumPostDescriptionPage(
                                                            forumId: idList[index],
                                                            comeFrom: "bookmark",
                                                            idList: idList,
                                                          );
                                                        }));
                                                      },
                                                      child: Container(
                                                        margin: EdgeInsets.only(bottom: height / 35),
                                                        padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 5),
                                                        decoration: BoxDecoration(
                                                            color: Theme.of(context).colorScheme.background,
                                                            borderRadius: BorderRadius.circular(20),
                                                            boxShadow: [
                                                              BoxShadow(
                                                                spreadRadius: 0.0,
                                                                blurRadius: 4.0,
                                                                color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                              ),
                                                            ]),
                                                        child: Column(
                                                          children: [
                                                            const SizedBox(
                                                              height: 10,
                                                            ),
                                                            Container(
                                                              color: Theme.of(context).colorScheme.background,
                                                              child: Row(
                                                                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                crossAxisAlignment: CrossAxisAlignment.start,
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment.start,
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: [
                                                                      GestureDetector(
                                                                        onTap: () async {
                                                                          bool refresh = await Navigator.push(context,
                                                                              MaterialPageRoute(builder: (BuildContext context) {
                                                                            return UserBillBoardProfilePage(
                                                                                userId: _bookMarkSeeAll.response[index].user
                                                                                    .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'forums',index:0)*/;
                                                                          }));
                                                                          if (refresh) {
                                                                            initState();
                                                                          }
                                                                        },
                                                                        child: Container(
                                                                          height: height / 13.53,
                                                                          width: width / 5.95,
                                                                          margin: EdgeInsets.fromLTRB(
                                                                              width / 23.43, height / 203, width / 37.5, height / 27.06),
                                                                          decoration: BoxDecoration(
                                                                              shape: BoxShape.circle,
                                                                              color: Colors.grey,
                                                                              image: DecorationImage(
                                                                                  image: NetworkImage(_bookMarkSeeAll.response[index].user.avatar),
                                                                                  fit: BoxFit.fill)),
                                                                        ),
                                                                      ),
                                                                      Column(
                                                                        mainAxisAlignment: MainAxisAlignment.start,
                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                        children: [
                                                                          SizedBox(
                                                                              width: width / 1.95,
                                                                              child: Text(
                                                                                _bookMarkSeeAll.response[index].title,
                                                                                style:
                                                                                    TextStyle(fontSize: text.scale(14), fontWeight: FontWeight.w600),
                                                                              )),
                                                                          GestureDetector(
                                                                            onTap: () async {
                                                                              bool refresh = await Navigator.push(context,
                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                return UserBillBoardProfilePage(
                                                                                    userId: _bookMarkSeeAll.response[index].user
                                                                                        .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'forums',index:0)*/;
                                                                              }));
                                                                              if (refresh) {
                                                                                initState();
                                                                              }
                                                                            },
                                                                            child: SizedBox(
                                                                                height: height / 54.13,
                                                                                child: Text(
                                                                                  _bookMarkSeeAll.response[index].user.username.capitalizeFirst!,
                                                                                  style: TextStyle(
                                                                                      fontSize: text.scale(10), fontWeight: FontWeight.w500),
                                                                                )),
                                                                          ),
                                                                          SizedBox(height: height / 54.13),
                                                                          SizedBox(
                                                                            height: height / 45.11,
                                                                            child: Row(
                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                              children: [
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    bool response1 =
                                                                                        await likeFunction(id: idList[index], type: "forums");
                                                                                    if (response1) {
                                                                                      logEventFunc(name: "Likes", type: "Forum");
                                                                                      setState(() {
                                                                                        if (isLikedList[index] == true) {
                                                                                          if (isDislikedList[index] == true) {
                                                                                          } else {
                                                                                            likeCountList[index] -= 1;
                                                                                          }
                                                                                        } else {
                                                                                          if (isDislikedList[index] == true) {
                                                                                            dislikeCountList[index] -= 1;
                                                                                            likeCountList[index] += 1;
                                                                                          } else {
                                                                                            likeCountList[index] += 1;
                                                                                          }
                                                                                        }
                                                                                        isLikedList[index] = !isLikedList[index];
                                                                                        isDislikedList[index] = false;
                                                                                      });
                                                                                    } else {}
                                                                                  },
                                                                                  child: Container(
                                                                                    margin: EdgeInsets.only(right: width / 25),
                                                                                    height: height / 40.6,
                                                                                    width: width / 18.75,
                                                                                    child: isLikedList[index]
                                                                                        ? SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/like_filled_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_colored.svg",
                                                                                          )
                                                                                        : SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/like_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/Stroke_grey.svg",
                                                                                          ),
                                                                                  ),
                                                                                ),
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    logEventFunc(name: "Share", type: "Forum");
                                                                                    newLink = await getLinkForums(
                                                                                        id: idList[index],
                                                                                        type: "forums",
                                                                                        description: '',
                                                                                        imageUrl: "",
                                                                                        title: _bookMarkSeeAll.response[index].title,
                                                                                        category: _bookMarkSeeAll.response[index].category,
                                                                                        filterId: finalisedFilterId);
                                                                                    ShareResult result = await Share.share(
                                                                                      "Look what I was able to find on Tradewatch: ${_bookMarkSeeAll.response[index].title} ${newLink.toString()}",
                                                                                    );
                                                                                    if (result.status == ShareResultStatus.success) {
                                                                                      await shareFunction(id: idList[index], type: "forums");
                                                                                    }
                                                                                  },
                                                                                  child: Container(
                                                                                      height: height / 40.6,
                                                                                      width: width / 18.75,
                                                                                      margin: EdgeInsets.only(right: width / 25),
                                                                                      child: SvgPicture.asset(
                                                                                        isDarkTheme.value
                                                                                            ? "assets/home_screen/share_dark.svg"
                                                                                            : "lib/Constants/Assets/SMLogos/HomeScreen/share.svg",
                                                                                      )),
                                                                                ),
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    bool response3 =
                                                                                        await disLikeFunction(id: idList[index], type: "forums");
                                                                                    if (response3) {
                                                                                      logEventFunc(name: "Dislikes", type: "Forum");
                                                                                      setState(() {
                                                                                        if (isDislikedList[index] == true) {
                                                                                          if (isLikedList[index] == true) {
                                                                                          } else {
                                                                                            dislikeCountList[index] -= 1;
                                                                                          }
                                                                                        } else {
                                                                                          if (isLikedList[index] == true) {
                                                                                            likeCountList[index] -= 1;
                                                                                            dislikeCountList[index] += 1;
                                                                                          } else {
                                                                                            dislikeCountList[index] += 1;
                                                                                          }
                                                                                        }
                                                                                        isDislikedList[index] = !isDislikedList[index];
                                                                                        isLikedList[index] = false;
                                                                                      });
                                                                                    } else {}
                                                                                  },
                                                                                  child: Container(
                                                                                    height: height / 40.6,
                                                                                    width: width / 18.75,
                                                                                    margin: EdgeInsets.only(right: width / 25),
                                                                                    child: isDislikedList[index]
                                                                                        ? SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/dislike_filled_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke_filled.svg",
                                                                                          )
                                                                                        : SvgPicture.asset(
                                                                                            isDarkTheme.value
                                                                                                ? "assets/home_screen/dislike_dark.svg"
                                                                                                : "lib/Constants/Assets/SMLogos/HomeScreen/broken_stroke.svg",
                                                                                          ),
                                                                                  ),
                                                                                ),
                                                                                Container(
                                                                                    height: height / 40.6,
                                                                                    width: width / 18.75,
                                                                                    margin: EdgeInsets.only(right: width / 25),
                                                                                    child: SvgPicture.asset(
                                                                                      "lib/Constants/Assets/SMLogos/messageCircle.svg",
                                                                                      colorFilter: ColorFilter.mode(
                                                                                          isDarkTheme.value
                                                                                              ? const Color(0XFFD6D6D6)
                                                                                              : const Color(0XFF0EA102),
                                                                                          BlendMode.srcIn),
                                                                                    )),
                                                                                bookMarkWidget(
                                                                                    bookMark: bookMarkList,
                                                                                    context: context,
                                                                                    scale: 3.4,
                                                                                    id: idList[index],
                                                                                    type: 'forums',
                                                                                    modelSetState: setState,
                                                                                    index: index,
                                                                                    initFunction: getAllData,
                                                                                    notUse: true),
                                                                              ],
                                                                            ),
                                                                          ),
                                                                          SizedBox(height: height / 81.2),
                                                                          SizedBox(
                                                                            height: height / 54.13,
                                                                            child: Row(
                                                                              children: [
                                                                                SizedBox(
                                                                                    width: width / 7.5,
                                                                                    child: Text(_bookMarkSeeAll.response[index].companyName,
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(10),
                                                                                            fontWeight: FontWeight.w700,
                                                                                            color: Colors.blue))),
                                                                                SizedBox(width: width / 22.05),
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    setState(() {
                                                                                      kUserSearchController.clear();
                                                                                      onTapType = "Views";
                                                                                      onTapId = idList[index];
                                                                                      onLike = false;
                                                                                      onDislike = false;
                                                                                      onViews = true;
                                                                                      idKeyMain = "forum_id";
                                                                                      apiMain = baseurl + versionForum + viewsCount;
                                                                                      onTapIdMain = idList[index];
                                                                                      onTapTypeMain = "Views";
                                                                                      haveViewsMain = _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                          ? true
                                                                                          : false;
                                                                                      viewCountMain = _bookMarkSeeAll.response[index].viewsCount;
                                                                                      kToken = kToken;
                                                                                    });
                                                                                    //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionForum + viewsCount, idKey: 'forum_id', setState: setState);
                                                                                    bool data =
                                                                                        await likeCountFunc(context: context, newSetState: setState);
                                                                                    if (data) {
                                                                                      if (!mounted) {
                                                                                        return;
                                                                                      }
                                                                                      customShowSheet1(context: context);
                                                                                      setState(() {
                                                                                        loaderMain = true;
                                                                                      });
                                                                                    } else {
                                                                                      if (!mounted) {
                                                                                        return;
                                                                                      }
                                                                                      Flushbar(
                                                                                        message: "Still no one has viewed this post",
                                                                                        duration: const Duration(seconds: 2),
                                                                                      ).show(context);
                                                                                    }
                                                                                  },
                                                                                  child: Row(
                                                                                    children: [
                                                                                      Text(_bookMarkSeeAll.response[index].viewsCount.toString(),
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(10), fontWeight: FontWeight.w700)),
                                                                                      Text(" views",
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(10), fontWeight: FontWeight.w500)),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                SizedBox(width: width / 22.05),
                                                                                Text(_bookMarkSeeAll.response[index].responseCount.toString(),
                                                                                    style: TextStyle(
                                                                                        fontSize: text.scale(10), fontWeight: FontWeight.w700)),
                                                                                Text(" Response",
                                                                                    style: TextStyle(
                                                                                        fontSize: text.scale(10), fontWeight: FontWeight.w500)),
                                                                              ],
                                                                            ),
                                                                          ),
                                                                        ],
                                                                      )
                                                                    ],
                                                                  ),
                                                                  GestureDetector(
                                                                    onTap: () {
                                                                      showModalBottomSheet(
                                                                          shape: const RoundedRectangleBorder(
                                                                            borderRadius: BorderRadius.vertical(
                                                                              top: Radius.circular(30),
                                                                            ),
                                                                          ),
                                                                          context: context,
                                                                          builder: (BuildContext context) {
                                                                            return SingleChildScrollView(
                                                                              child: Container(
                                                                                margin: EdgeInsets.symmetric(horizontal: width / 18.75),
                                                                                padding:
                                                                                    EdgeInsets.only(bottom: MediaQuery.of(context).viewInsets.bottom),
                                                                                child: userIdMain == _bookMarkSeeAll.response[index].user.id
                                                                                    ? Column(
                                                                                        mainAxisAlignment: MainAxisAlignment.start,
                                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                                        children: [
                                                                                          ListTile(
                                                                                            onTap: () {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Navigator.pop(context);
                                                                                              Navigator.push(context,
                                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                                return ForumPostEditPage(
                                                                                                  text: finalisedCategory.capitalizeFirst ?? "",
                                                                                                  catIdList: mainCatIdList,
                                                                                                  filterId: finalisedFilterId,
                                                                                                  forumId: idList[index],
                                                                                                );
                                                                                              }));
                                                                                            },
                                                                                            minLeadingWidth: width / 25,
                                                                                            leading: const Icon(
                                                                                              Icons.edit,
                                                                                              size: 20,
                                                                                            ),
                                                                                            title: Text(
                                                                                              "Edit Post",
                                                                                              style: TextStyle(
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontSize: text.scale(14)),
                                                                                            ),
                                                                                          ),
                                                                                          ListTile(
                                                                                            onTap: () {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Navigator.pop(context);
                                                                                              showDialog(
                                                                                                  barrierDismissible: false,
                                                                                                  context: context,
                                                                                                  builder: (BuildContext context) {
                                                                                                    return Dialog(
                                                                                                      shape: RoundedRectangleBorder(
                                                                                                          borderRadius: BorderRadius.circular(
                                                                                                              20.0)), //this right here
                                                                                                      child: Container(
                                                                                                        height: height / 6,
                                                                                                        margin: EdgeInsets.symmetric(
                                                                                                            vertical: height / 54.13,
                                                                                                            horizontal: width / 25),
                                                                                                        child: Column(
                                                                                                          mainAxisAlignment: MainAxisAlignment.center,
                                                                                                          //crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                          children: [
                                                                                                            const Center(
                                                                                                                child: Text("Delete Post",
                                                                                                                    style: TextStyle(
                                                                                                                        color: Color(0XFF0EA102),
                                                                                                                        fontWeight: FontWeight.bold,
                                                                                                                        fontSize: 20,
                                                                                                                        fontFamily: "Poppins"))),
                                                                                                            const Divider(),
                                                                                                            const Center(
                                                                                                                child: Text(
                                                                                                                    "Are you sure to Delete this Post")),
                                                                                                            const Spacer(),
                                                                                                            Padding(
                                                                                                              padding: EdgeInsets.symmetric(
                                                                                                                  horizontal: width / 25),
                                                                                                              child: Row(
                                                                                                                mainAxisAlignment:
                                                                                                                    MainAxisAlignment.spaceBetween,
                                                                                                                children: [
                                                                                                                  TextButton(
                                                                                                                    onPressed: () {
                                                                                                                      if (!mounted) {
                                                                                                                        return;
                                                                                                                      }
                                                                                                                      Navigator.pop(context);
                                                                                                                    },
                                                                                                                    child: const Text(
                                                                                                                      "Cancel",
                                                                                                                      style: TextStyle(
                                                                                                                          color: Colors.grey,
                                                                                                                          fontWeight: FontWeight.w600,
                                                                                                                          fontFamily: "Poppins",
                                                                                                                          fontSize: 15),
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                  ElevatedButton(
                                                                                                                    style: ElevatedButton.styleFrom(
                                                                                                                      shape: RoundedRectangleBorder(
                                                                                                                        borderRadius:
                                                                                                                            BorderRadius.circular(
                                                                                                                                18.0),
                                                                                                                      ),
                                                                                                                      backgroundColor:
                                                                                                                          const Color(0XFF0EA102),
                                                                                                                    ),
                                                                                                                    onPressed: () async {
                                                                                                                      deletePostMain(
                                                                                                                        context: context,
                                                                                                                        id: idList[index],
                                                                                                                        locker: 'forum',
                                                                                                                      );
                                                                                                                      if (!mounted) {
                                                                                                                        return;
                                                                                                                      }
                                                                                                                      Navigator.pop(context);
                                                                                                                    },
                                                                                                                    child: const Text(
                                                                                                                      "Continue",
                                                                                                                      style: TextStyle(
                                                                                                                          color: Colors.white,
                                                                                                                          fontWeight: FontWeight.w600,
                                                                                                                          fontFamily: "Poppins",
                                                                                                                          fontSize: 15),
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                ],
                                                                                                              ),
                                                                                                            ),
                                                                                                            const Spacer(),
                                                                                                          ],
                                                                                                        ),
                                                                                                      ),
                                                                                                    );
                                                                                                  });
                                                                                            },
                                                                                            minLeadingWidth: width / 25,
                                                                                            leading: const Icon(
                                                                                              Icons.delete,
                                                                                              size: 20,
                                                                                            ),
                                                                                            title: Text(
                                                                                              "Delete Post",
                                                                                              style: TextStyle(
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontSize: text.scale(14)),
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      )
                                                                                    : Column(
                                                                                        mainAxisAlignment: MainAxisAlignment.start,
                                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                                        children: [
                                                                                          ListTile(
                                                                                            onTap: () {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Navigator.pop(context);
                                                                                              mainVariables.barController.clear();
                                                                                              setState(() {
                                                                                                mainVariables.actionValueMain = "Report";
                                                                                              });
                                                                                              showAlertDialogMain(
                                                                                                context: context,
                                                                                                initFunction: () {},
                                                                                                modelSetState: (void Function() fn) {},
                                                                                                locker: 'forum',
                                                                                                id: idList[index],
                                                                                                userId: _bookMarkSeeAll.response[index].user.id,
                                                                                              );
                                                                                            },
                                                                                            minLeadingWidth: width / 25,
                                                                                            leading: const Icon(
                                                                                              Icons.shield,
                                                                                              size: 20,
                                                                                            ),
                                                                                            title: Text(
                                                                                              "Report Post",
                                                                                              style: TextStyle(
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontSize: text.scale(14)),
                                                                                            ),
                                                                                          ),
                                                                                          const Divider(
                                                                                            thickness: 0.0,
                                                                                            height: 0.0,
                                                                                          ),
                                                                                          ListTile(
                                                                                            onTap: () {
                                                                                              mainVariables.barController.clear();
                                                                                              setState(() {
                                                                                                mainVariables.actionValueMain = "Block";
                                                                                              });
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Navigator.pop(context);
                                                                                              showAlertDialogMain(
                                                                                                context: context,
                                                                                                initFunction: () {},
                                                                                                modelSetState: (void Function() fn) {},
                                                                                                locker: 'forum',
                                                                                                id: idList[index],
                                                                                                userId: _bookMarkSeeAll.response[index].user.id,
                                                                                              );
                                                                                            },
                                                                                            minLeadingWidth: width / 25,
                                                                                            leading: const Icon(
                                                                                              Icons.flag,
                                                                                              size: 20,
                                                                                            ),
                                                                                            title: Text(
                                                                                              "Block Post",
                                                                                              style: TextStyle(
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontSize: text.scale(14)),
                                                                                            ),
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                              ),
                                                                            );
                                                                          });
                                                                    },
                                                                    child: Container(
                                                                        padding: EdgeInsets.only(right: width / 23.4375),
                                                                        child: const Icon(
                                                                          Icons.more_horiz,
                                                                          size: 20,
                                                                        )),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            const SizedBox(
                                                              height: 10,
                                                            ),
                                                          ],
                                                        ),
                                                      ))
                                                  : widget.type == 'survey'
                                                      ? GestureDetector(
                                                          onTap: () async {
                                                            String activeStatus = "";
                                                            bool answerStatus = false;
                                                            int answeredQuestion = 0;
                                                            SharedPreferences prefs = await SharedPreferences.getInstance();
                                                            String mainUserId = prefs.getString('newUserId') ?? "";
                                                            String mainUserToken = prefs.getString('newUserToken') ?? "";
                                                            var url = Uri.parse(baseurl + versionSurvey + surveyStatusCheck);
                                                            var response = await http.post(url, headers: {
                                                              'Authorization': mainUserToken
                                                            }, body: {
                                                              'survey_id': idList[index],
                                                            });
                                                            var responseData = json.decode(response.body);
                                                            if (responseData["status"]) {
                                                              activeStatus = responseData["response"]["status"];

                                                              if (activeStatus == "active") {
                                                                var url = Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                var response = await http.post(url, headers: {
                                                                  'Authorization': mainUserToken
                                                                }, body: {
                                                                  'survey_id': idList[index],
                                                                });
                                                                var responseData = json.decode(response.body);
                                                                if (responseData["status"]) {
                                                                  answerStatus = responseData["response"][0]["final_question"];
                                                                  answeredQuestion = responseData["response"][0]["question_number"];
                                                                } else {
                                                                  answerStatus = false;
                                                                  answeredQuestion = 0;
                                                                }
                                                              }
                                                            }
                                                            if (!mounted) {
                                                              return;
                                                            }
                                                            mainUserId == _bookMarkSeeAll.response[index].user.id
                                                                ? Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                    return AnalyticsPage(
                                                                      surveyId: idList[index],
                                                                      activity: true,
                                                                      surveyTitle: _bookMarkSeeAll.response[index].title,
                                                                      navBool: false,
                                                                      fromWhere: 'bookmark',
                                                                    );
                                                                  }))
                                                                : activeStatus == 'active'
                                                                    ? answerStatus
                                                                        ? Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                            return AnalyticsPage(
                                                                                surveyId: idList[index],
                                                                                activity: true,
                                                                                navBool: false,
                                                                                fromWhere: 'bookmark',
                                                                                surveyTitle: _bookMarkSeeAll.response[index].title);
                                                                          }))
                                                                        : Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                            return QuestionnairePage(
                                                                              surveyId: idList[index],
                                                                              defaultIndex: answeredQuestion,
                                                                            );
                                                                          }))
                                                                    : Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                        return AnalyticsPage(
                                                                          surveyId: idList[index],
                                                                          activity: true,
                                                                          surveyTitle: _bookMarkSeeAll.response[index].title,
                                                                          navBool: false,
                                                                          fromWhere: 'bookmark',
                                                                        );
                                                                      }));
                                                          },
                                                          child: Container(
                                                            margin: EdgeInsets.only(bottom: height / 35),
                                                            padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 5),
                                                            decoration: BoxDecoration(
                                                                color: Theme.of(context).colorScheme.background,
                                                                borderRadius: BorderRadius.circular(20),
                                                                boxShadow: [
                                                                  BoxShadow(
                                                                    spreadRadius: 0.0,
                                                                    blurRadius: 4.0,
                                                                    color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                  ),
                                                                ]),
                                                            child: Column(
                                                              children: [
                                                                const SizedBox(
                                                                  height: 10,
                                                                ),
                                                                Container(
                                                                  color: Theme.of(context).colorScheme.background,
                                                                  child: Row(
                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment.start,
                                                                    children: [
                                                                      Row(
                                                                        mainAxisAlignment: MainAxisAlignment.start,
                                                                        crossAxisAlignment: CrossAxisAlignment.start,
                                                                        children: [
                                                                          GestureDetector(
                                                                            onTap: () {
                                                                              Navigator.push(context,
                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                return UserBillBoardProfilePage(
                                                                                    userId: _bookMarkSeeAll.response[index].user
                                                                                        .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'survey',index:1)*/;
                                                                              }));
                                                                            },
                                                                            child: Container(
                                                                              height: height / 13.53,
                                                                              width: width / 5.95,
                                                                              margin: EdgeInsets.fromLTRB(
                                                                                  width / 23.43, height / 203, width / 37.5, height / 27.06),
                                                                              decoration: BoxDecoration(
                                                                                  shape: BoxShape.circle,
                                                                                  color: Colors.grey,
                                                                                  image: DecorationImage(
                                                                                      image:
                                                                                          NetworkImage(_bookMarkSeeAll.response[index].user.avatar),
                                                                                      fit: BoxFit.fill)),
                                                                            ),
                                                                          ),
                                                                          Column(
                                                                            mainAxisAlignment: MainAxisAlignment.start,
                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                            children: [
                                                                              SizedBox(
                                                                                  width: width / 1.95,
                                                                                  child: Text(
                                                                                    _bookMarkSeeAll.response[index].title,
                                                                                    style: TextStyle(
                                                                                        fontSize: text.scale(14), fontWeight: FontWeight.w600),
                                                                                  )),
                                                                              /*Container(
                                                        width: _width/1.95,
                                                        child: Text(surveySourceNameList[index].toString().capitalizeFirst!,style: TextStyle(fontSize: _text*10,fontWeight: FontWeight.w500),)
                                                    ),*/
                                                                              SizedBox(
                                                                                  height: height / 54.13,
                                                                                  child: Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.start,
                                                                                    children: [
                                                                                      GestureDetector(
                                                                                          onTap: () {
                                                                                            Navigator.push(context,
                                                                                                MaterialPageRoute(builder: (BuildContext context) {
                                                                                              return UserBillBoardProfilePage(
                                                                                                  userId: _bookMarkSeeAll.response[index].user
                                                                                                      .id) /*UserProfilePage(id:_bookMarkSeeAll.response[index].user.id,type:'survey',index: 1,)*/;
                                                                                            }));
                                                                                          },
                                                                                          child: Text(
                                                                                            _bookMarkSeeAll.response[index].user.username
                                                                                                .toString()
                                                                                                .capitalizeFirst!,
                                                                                            style: TextStyle(
                                                                                                fontSize: text.scale(10),
                                                                                                fontWeight: FontWeight.w500),
                                                                                          )),
                                                                                      const SizedBox(
                                                                                        width: 5,
                                                                                      ),
                                                                                      Container(
                                                                                        height: 5,
                                                                                        width: 5,
                                                                                        decoration: const BoxDecoration(
                                                                                            shape: BoxShape.circle, color: Color(0xffA5A5A5)),
                                                                                      ),
                                                                                      const SizedBox(
                                                                                        width: 5,
                                                                                      ),
                                                                                      Text(
                                                                                        _bookMarkSeeAll.response[index].questionsCount.toString(),
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(10), fontWeight: FontWeight.w500),
                                                                                      ),
                                                                                      Text(
                                                                                        " Questions",
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(10), fontWeight: FontWeight.w500),
                                                                                      ),
                                                                                    ],
                                                                                  )),
                                                                              SizedBox(
                                                                                height: height / 87.6,
                                                                              ),
                                                                              bookMarkWidget(
                                                                                  bookMark: bookMarkList,
                                                                                  context: context,
                                                                                  scale: 3.2,
                                                                                  id: idList[index],
                                                                                  type: 'survey',
                                                                                  modelSetState: setState,
                                                                                  index: index,
                                                                                  initFunction: getAllData,
                                                                                  notUse: true),
                                                                              SizedBox(
                                                                                height: height / 87.6,
                                                                              ),
                                                                              SizedBox(
                                                                                height: height / 54.13,
                                                                                child: Row(
                                                                                  children: [
                                                                                    SizedBox(
                                                                                        width: width / 7.5,
                                                                                        child: Text(_bookMarkSeeAll.response[index].companyName,
                                                                                            style: TextStyle(
                                                                                                fontSize: text.scale(10),
                                                                                                fontWeight: FontWeight.w700,
                                                                                                color: Colors.blue))),
                                                                                    /*Container(
                                                              height:_height/162,width: _width/75,decoration: BoxDecoration(shape: BoxShape.circle,color: Color(0xffC4C4C4),)),*/
                                                                                    SizedBox(width: width / 22.05),
                                                                                    GestureDetector(
                                                                                      onTap: () async {
                                                                                        setState(() {
                                                                                          kUserSearchController.clear();
                                                                                          onTapType = "Views";
                                                                                          onTapId = idList[index];
                                                                                          onLike = false;
                                                                                          onDislike = false;
                                                                                          onViews = true;
                                                                                          idKeyMain = "survey_id";
                                                                                          apiMain = baseurl + versionSurvey + viewsCount;
                                                                                          onTapIdMain = idList[index];
                                                                                          onTapTypeMain = "Views";
                                                                                          haveViewsMain =
                                                                                              _bookMarkSeeAll.response[index].viewsCount > 0
                                                                                                  ? true
                                                                                                  : false;
                                                                                          viewCountMain = _bookMarkSeeAll.response[index].viewsCount;
                                                                                          kToken = kToken;
                                                                                        });
                                                                                        //bool data= await viewsCountFunc(context: context, mainToken: mainUserToken, api: baseurl + versionSurvey + viewsCount, idKey: 'survey_id', setState: setState);
                                                                                        bool data = await likeCountFunc(
                                                                                            context: context, newSetState: setState);
                                                                                        if (data) {
                                                                                          if (!mounted) {
                                                                                            return;
                                                                                          }
                                                                                          customShowSheet1(context: context);
                                                                                          setState(() {
                                                                                            loaderMain = true;
                                                                                          });
                                                                                        } else {
                                                                                          if (!mounted) {
                                                                                            return;
                                                                                          }
                                                                                          Flushbar(
                                                                                            message: "Still no one has viewed this post",
                                                                                            duration: const Duration(seconds: 2),
                                                                                          ).show(context);
                                                                                        }
                                                                                      },
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Text(_bookMarkSeeAll.response[index].viewsCount.toString(),
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w700)),
                                                                                          Text(" Views",
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w500)),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(width: width / 22.05),
                                                                                    GestureDetector(
                                                                                      onTap: () {
                                                                                        Flushbar(
                                                                                          message: "Analytics not visible due to privacy",
                                                                                          duration: const Duration(seconds: 2),
                                                                                        ).show(context);
                                                                                      },
                                                                                      child: Row(
                                                                                        children: [
                                                                                          Text(
                                                                                              _bookMarkSeeAll.response[index].responseCount
                                                                                                  .toString(),
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w700)),
                                                                                          Text(" Responses",
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  fontWeight: FontWeight.w500)),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            ],
                                                                          )
                                                                        ],
                                                                      ),
                                                                      GestureDetector(
                                                                        onTap: () {
                                                                          showModalBottomSheet(
                                                                              shape: const RoundedRectangleBorder(
                                                                                borderRadius: BorderRadius.vertical(
                                                                                  top: Radius.circular(30),
                                                                                ),
                                                                              ),
                                                                              context: context,
                                                                              builder: (BuildContext context) {
                                                                                return SingleChildScrollView(
                                                                                  child: Container(
                                                                                    margin: EdgeInsets.symmetric(horizontal: width / 18.75),
                                                                                    padding: EdgeInsets.only(
                                                                                        bottom: MediaQuery.of(context).viewInsets.bottom),
                                                                                    child: userIdMain == _bookMarkSeeAll.response[index].user.id
                                                                                        ? ListTile(
                                                                                            onTap: () {
                                                                                              if (!mounted) {
                                                                                                return;
                                                                                              }
                                                                                              Navigator.pop(context);
                                                                                              showDialog(
                                                                                                  barrierDismissible: false,
                                                                                                  context: context,
                                                                                                  builder: (BuildContext context) {
                                                                                                    return Dialog(
                                                                                                      shape: RoundedRectangleBorder(
                                                                                                          borderRadius: BorderRadius.circular(
                                                                                                              20.0)), //this right here
                                                                                                      child: Container(
                                                                                                        height: height / 6,
                                                                                                        margin: EdgeInsets.symmetric(
                                                                                                            vertical: height / 54.13,
                                                                                                            horizontal: width / 25),
                                                                                                        child: Column(
                                                                                                          mainAxisAlignment: MainAxisAlignment.center,
                                                                                                          //crossAxisAlignment: CrossAxisAlignment.start,
                                                                                                          children: [
                                                                                                            const Center(
                                                                                                                child: Text("Delete Post",
                                                                                                                    style: TextStyle(
                                                                                                                        color: Color(0XFF0EA102),
                                                                                                                        fontWeight: FontWeight.bold,
                                                                                                                        fontSize: 20,
                                                                                                                        fontFamily: "Poppins"))),
                                                                                                            const Divider(),
                                                                                                            const Center(
                                                                                                                child: Text(
                                                                                                                    "Are you sure to Delete this Post")),
                                                                                                            const Spacer(),
                                                                                                            Padding(
                                                                                                              padding: EdgeInsets.symmetric(
                                                                                                                  horizontal: width / 25),
                                                                                                              child: Row(
                                                                                                                mainAxisAlignment:
                                                                                                                    MainAxisAlignment.spaceBetween,
                                                                                                                children: [
                                                                                                                  TextButton(
                                                                                                                    onPressed: () {
                                                                                                                      if (!mounted) {
                                                                                                                        return;
                                                                                                                      }
                                                                                                                      Navigator.pop(context);
                                                                                                                    },
                                                                                                                    child: const Text(
                                                                                                                      "Cancel",
                                                                                                                      style: TextStyle(
                                                                                                                          color: Colors.grey,
                                                                                                                          fontWeight: FontWeight.w600,
                                                                                                                          fontFamily: "Poppins",
                                                                                                                          fontSize: 15),
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                  ElevatedButton(
                                                                                                                    style: ElevatedButton.styleFrom(
                                                                                                                      shape: RoundedRectangleBorder(
                                                                                                                        borderRadius:
                                                                                                                            BorderRadius.circular(
                                                                                                                                18.0),
                                                                                                                      ),
                                                                                                                      backgroundColor:
                                                                                                                          const Color(0XFF0EA102),
                                                                                                                    ),
                                                                                                                    onPressed: () async {
                                                                                                                      deletePostMain(
                                                                                                                        context: context,
                                                                                                                        id: idList[index],
                                                                                                                        locker: 'survey',
                                                                                                                      );
                                                                                                                      if (!mounted) {
                                                                                                                        return;
                                                                                                                      }
                                                                                                                      Navigator.pop(context);
                                                                                                                    },
                                                                                                                    child: const Text(
                                                                                                                      "Continue",
                                                                                                                      style: TextStyle(
                                                                                                                          color: Colors.white,
                                                                                                                          fontWeight: FontWeight.w600,
                                                                                                                          fontFamily: "Poppins",
                                                                                                                          fontSize: 15),
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                ],
                                                                                                              ),
                                                                                                            ),
                                                                                                            const Spacer(),
                                                                                                          ],
                                                                                                        ),
                                                                                                      ),
                                                                                                    );
                                                                                                  });
                                                                                            },
                                                                                            minLeadingWidth: width / 25,
                                                                                            leading: const Icon(
                                                                                              Icons.delete,
                                                                                              size: 20,
                                                                                            ),
                                                                                            title: Text(
                                                                                              "Delete Post",
                                                                                              style: TextStyle(
                                                                                                  fontWeight: FontWeight.w500,
                                                                                                  fontSize: text.scale(14)),
                                                                                            ),
                                                                                          )
                                                                                        : Column(
                                                                                            mainAxisAlignment: MainAxisAlignment.start,
                                                                                            crossAxisAlignment: CrossAxisAlignment.start,
                                                                                            children: [
                                                                                              ListTile(
                                                                                                onTap: () {
                                                                                                  if (!mounted) {
                                                                                                    return;
                                                                                                  }
                                                                                                  Navigator.pop(context);
                                                                                                  mainVariables.barController.clear();
                                                                                                  setState(() {
                                                                                                    mainVariables.actionValueMain = "Report";
                                                                                                  });
                                                                                                  showAlertDialogMain(
                                                                                                      context: context,
                                                                                                      id: idList[index],
                                                                                                      userId: _bookMarkSeeAll.response[index].user.id,
                                                                                                      initFunction: () {},
                                                                                                      modelSetState: (void Function() fn) {},
                                                                                                      locker: 'survey');
                                                                                                },
                                                                                                minLeadingWidth: width / 25,
                                                                                                leading: const Icon(
                                                                                                  Icons.shield,
                                                                                                  size: 20,
                                                                                                ),
                                                                                                title: Text(
                                                                                                  "Report Post",
                                                                                                  style: TextStyle(
                                                                                                      fontWeight: FontWeight.w500,
                                                                                                      fontSize: text.scale(14)),
                                                                                                ),
                                                                                              ),
                                                                                              const Divider(
                                                                                                thickness: 0.0,
                                                                                                height: 0.0,
                                                                                              ),
                                                                                              ListTile(
                                                                                                onTap: () {
                                                                                                  mainVariables.barController.clear();
                                                                                                  setState(() {
                                                                                                    mainVariables.actionValueMain = "Block";
                                                                                                  });
                                                                                                  if (!mounted) {
                                                                                                    return;
                                                                                                  }
                                                                                                  Navigator.pop(context);
                                                                                                  showAlertDialogMain(
                                                                                                      context: context,
                                                                                                      id: idList[index],
                                                                                                      userId: _bookMarkSeeAll.response[index].user.id,
                                                                                                      initFunction: () {},
                                                                                                      modelSetState: (void Function() fn) {},
                                                                                                      locker: 'survey');
                                                                                                },
                                                                                                minLeadingWidth: width / 25,
                                                                                                leading: const Icon(
                                                                                                  Icons.flag,
                                                                                                  size: 20,
                                                                                                ),
                                                                                                title: Text(
                                                                                                  "Block Post",
                                                                                                  style: TextStyle(
                                                                                                      fontWeight: FontWeight.w500,
                                                                                                      fontSize: text.scale(14)),
                                                                                                ),
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                  ),
                                                                                );
                                                                              });
                                                                        },
                                                                        child: Container(
                                                                            padding: EdgeInsets.only(right: width / 23.4375),
                                                                            child: const Icon(
                                                                              Icons.more_horiz,
                                                                              size: 20,
                                                                            )),
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ))
                                                      : widget.type == 'billboard'
                                                          ? Column(
                                                              children: [
                                                                mainVariables.valueMapListProfilePage[index].type == "byte"
                                                                    ? mainVariables.valueMapListProfilePage[index].files.isEmpty
                                                                        ? Container(
                                                                            margin: EdgeInsets.only(bottom: height / 57.73),
                                                                            decoration:
                                                                                BoxDecoration(borderRadius: BorderRadius.circular(15), boxShadow: [
                                                                              BoxShadow(
                                                                                spreadRadius: 0.0,
                                                                                blurRadius: 4.0,
                                                                                color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                              ),
                                                                            ]),
                                                                            child: Column(
                                                                              children: [
                                                                                Container(
                                                                                  decoration: BoxDecoration(
                                                                                    color: Theme.of(context).colorScheme.background,
                                                                                    borderRadius: const BorderRadius.only(
                                                                                        topRight: Radius.circular(15), topLeft: Radius.circular(15)),
                                                                                  ),
                                                                                  child: Column(
                                                                                    children: [
                                                                                      SizedBox(
                                                                                        height: height / 86.6,
                                                                                      ),
                                                                                      Row(
                                                                                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          SizedBox(
                                                                                            width: width / 41.1,
                                                                                          ),
                                                                                          billboardWidgetsMain.getProfile(
                                                                                              context: context,
                                                                                              heightValue: height / 17.32,
                                                                                              widthValue: width / 8.22,
                                                                                              myself: false,
                                                                                              isProfile: mainVariables
                                                                                                  .valueMapListProfilePage[index].profileType,
                                                                                              avatar:
                                                                                                  mainVariables.valueMapListProfilePage[index].avatar,
                                                                                              userId: mainVariables
                                                                                                  .valueMapListProfilePage[index].userId),
                                                                                          SizedBox(
                                                                                            width: width / 41.1,
                                                                                          ),
                                                                                          Expanded(
                                                                                            child: Column(
                                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                InkWell(
                                                                                                  onTap: () {
                                                                                                    /*Navigator.push(context, MaterialPageRoute(builder: (BuildContext context){
                                                      return UserProfilePage(
                                                        id:valueMapList[index].userId,type:'forums',index:0);}));*/
                                                                                                    Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                      return UserBillBoardProfilePage(
                                                                                                          userId: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId);
                                                                                                    }));
                                                                                                  },
                                                                                                  child: Text(
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].username
                                                                                                        .toString()
                                                                                                        .capitalizeFirst!,
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(12),
                                                                                                        fontWeight: FontWeight.w700,
                                                                                                        fontFamily: "Poppins"),
                                                                                                  ),
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  height: 5,
                                                                                                ),
                                                                                                Row(
                                                                                                  children: [
                                                                                                    Text(
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].createdAt,
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: const Color(0XFF737373),
                                                                                                          fontWeight: FontWeight.w400,
                                                                                                          fontFamily: "Poppins"),
                                                                                                    ),
                                                                                                    const SizedBox(
                                                                                                      width: 3,
                                                                                                    ),
                                                                                                    Text(
                                                                                                      " | ",
                                                                                                      style: TextStyle(
                                                                                                        fontSize: text.scale(11),
                                                                                                        color: const Color(0XFF737373),
                                                                                                        fontWeight: FontWeight.w400,
                                                                                                      ),
                                                                                                    ),
                                                                                                    const SizedBox(
                                                                                                      width: 3,
                                                                                                    ),
                                                                                                    InkWell(
                                                                                                      onTap: () {
                                                                                                        billboardWidgetsMain.believersTabBottomSheet(
                                                                                                          context: context,
                                                                                                          id: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId,
                                                                                                          isBelieversList: true,
                                                                                                        );
                                                                                                      },
                                                                                                      child: Text(
                                                                                                        "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                        style: TextStyle(
                                                                                                            fontSize: text.scale(10),
                                                                                                            color: const Color(0XFF737373),
                                                                                                            fontWeight: FontWeight.w400,
                                                                                                            fontFamily: "Poppins"),
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                          userIdMain !=
                                                                                                  mainVariables.valueMapListProfilePage[index].userId
                                                                                              ? billboardWidgetsMain.getHomeBelieveButton(
                                                                                                  heightValue: height / 33.76,
                                                                                                  isBelieved: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind].believed),
                                                                                                  billboardUserid: mainVariables
                                                                                                      .valueMapListProfilePage[index].userId,
                                                                                                  billboardUserName: mainVariables
                                                                                                      .valueMapListProfilePage[index].username,
                                                                                                  context: context,
                                                                                                  modelSetState: setState,
                                                                                                  index: index,
                                                                                                  background: false,
                                                                                                )
                                                                                              : const SizedBox(),

                                                                                          ///more_vert
                                                                                          IconButton(
                                                                                              onPressed: () {
                                                                                                billboardWidgetsMain.bottomSheet(
                                                                                                  context1: context,
                                                                                                  myself: userIdMain ==
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].userId,
                                                                                                  billboardId: mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                  billboardUserId: mainVariables
                                                                                                      .valueMapListProfilePage[index].userId,
                                                                                                  type: "billboard",
                                                                                                  responseId: "",
                                                                                                  responseUserId: "",
                                                                                                  commentId: "",
                                                                                                  commentUserId: "",
                                                                                                  callFunction: () {},
                                                                                                  contentType: mainVariables
                                                                                                      .valueMapListProfilePage[index].type,
                                                                                                  modelSetState: setState,
                                                                                                  responseDetail: {},
                                                                                                  category: mainVariables
                                                                                                      .valueMapListProfilePage[index].category,
                                                                                                  valueMapList: mainVariables.valueMapListProfilePage,
                                                                                                  index: index,
                                                                                                );
                                                                                              },
                                                                                              icon: const Icon(
                                                                                                Icons.more_vert,
                                                                                                color: Colors.black,
                                                                                                size: 25,
                                                                                              ))
                                                                                        ],
                                                                                      ),
                                                                                      SizedBox(height: height / 64),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                      case "blog":
                                                                                        {
                                                                                          mainVariables.selectedBillboardIdMain.value =
                                                                                              mainVariables.valueMapListProfilePage[index].postId;
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      const BlogDescriptionPage()));
                                                                                          break;
                                                                                        }
                                                                                      case "byte":
                                                                                        {
                                                                                          mainVariables.selectedBillboardIdMain.value =
                                                                                              mainVariables.valueMapListProfilePage[index].postId;
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      const BytesDescriptionPage()));
                                                                                          break;
                                                                                        }
                                                                                      case "forums":
                                                                                        {
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      ForumPostDescriptionPage(
                                                                                                          idList: List.generate(
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage.length,
                                                                                                              (ind) => mainVariables
                                                                                                                  .valueMapListProfilePage[ind]
                                                                                                                  .postId),
                                                                                                          comeFrom: "billBoardHome",
                                                                                                          forumId: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .postId)));
                                                                                          break;
                                                                                        }
                                                                                      case "survey":
                                                                                        {
                                                                                          String activeStatus = "";
                                                                                          bool answerStatus = false;
                                                                                          int answeredQuestion = 0;
                                                                                          SharedPreferences prefs =
                                                                                              await SharedPreferences.getInstance();
                                                                                          String mainUserId = prefs.getString('newUserId') ?? "";
                                                                                          String mainUserToken =
                                                                                              prefs.getString('newUserToken') ?? "";
                                                                                          var url =
                                                                                              Uri.parse(baseurl + versionSurvey + surveyStatusCheck);
                                                                                          var response = await http.post(url, headers: {
                                                                                            'Authorization': mainUserToken
                                                                                          }, body: {
                                                                                            'survey_id':
                                                                                                mainVariables.valueMapListProfilePage[index].postId,
                                                                                          });
                                                                                          var responseData = json.decode(response.body);
                                                                                          if (responseData["status"]) {
                                                                                            activeStatus = responseData["response"]["status"];
                                                                                            if (activeStatus == "active") {
                                                                                              var url =
                                                                                                  Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                                              var response = await http.post(url, headers: {
                                                                                                'Authorization': mainUserToken
                                                                                              }, body: {
                                                                                                'survey_id': mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                              });
                                                                                              var responseData = json.decode(response.body);
                                                                                              if (responseData["status"]) {
                                                                                                answerStatus =
                                                                                                    responseData["response"][0]["final_question"];
                                                                                                answeredQuestion =
                                                                                                    responseData["response"][0]["question_number"];
                                                                                              } else {
                                                                                                answerStatus = false;
                                                                                                answeredQuestion = 0;
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                          if (!mounted) {
                                                                                            return;
                                                                                          }
                                                                                          mainUserId ==
                                                                                                  mainVariables.valueMapListProfilePage[index].userId
                                                                                              ? Navigator.push(context,
                                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                                  return AnalyticsPage(
                                                                                                    surveyId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    activity: false,
                                                                                                    surveyTitle: mainVariables
                                                                                                        .valueMapListProfilePage[index].title,
                                                                                                    navBool: false,
                                                                                                    fromWhere: 'similar',
                                                                                                  );
                                                                                                }))
                                                                                              : activeStatus == 'active'
                                                                                                  ? answerStatus
                                                                                                      ? Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                          return AnalyticsPage(
                                                                                                              surveyId: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                              activity: false,
                                                                                                              navBool: false,
                                                                                                              fromWhere: 'similar',
                                                                                                              surveyTitle: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .title);
                                                                                                        }))
                                                                                                      : Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                          return QuestionnairePage(
                                                                                                            surveyId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            defaultIndex: answeredQuestion,
                                                                                                          );
                                                                                                        }))
                                                                                                  : Navigator.push(context, MaterialPageRoute(
                                                                                                      builder: (BuildContext context) {
                                                                                                      return AnalyticsPage(
                                                                                                        surveyId: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        activity: false,
                                                                                                        surveyTitle: mainVariables
                                                                                                            .valueMapListProfilePage[index].title,
                                                                                                        navBool: false,
                                                                                                        fromWhere: 'similar',
                                                                                                      );
                                                                                                    }));
                                                                                          break;
                                                                                        }
                                                                                      default:
                                                                                        {
                                                                                          break;
                                                                                        }
                                                                                    }
                                                                                  },
                                                                                  child: Container(
                                                                                    height: height / 9,
                                                                                    color: Theme.of(context).colorScheme.onBackground,
                                                                                    alignment: Alignment.topLeft,
                                                                                    child: Padding(
                                                                                      padding: const EdgeInsets.all(12.0),
                                                                                      child: Text(
                                                                                        mainVariables.valueMapListProfilePage[index].title
                                                                                            .toString()
                                                                                            .capitalizeFirst!,
                                                                                        style: TextStyle(
                                                                                          fontSize: text.scale(14),
                                                                                          fontWeight: FontWeight.w400,
                                                                                        ),
                                                                                        textAlign: TextAlign.justify,
                                                                                        maxLines: 3,
                                                                                        overflow: TextOverflow.ellipsis,
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                ),
                                                                                Container(
                                                                                  decoration: BoxDecoration(
                                                                                    color: Theme.of(context).colorScheme.background,
                                                                                    borderRadius: const BorderRadius.only(
                                                                                        bottomLeft: Radius.circular(15),
                                                                                        bottomRight: Radius.circular(15)),
                                                                                  ),
                                                                                  child: Column(
                                                                                    children: [
                                                                                      SizedBox(
                                                                                        height: height / 86.6,
                                                                                      ),
                                                                                      Row(
                                                                                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          Row(children: [
                                                                                            SizedBox(
                                                                                              width: width / 41.1,
                                                                                            ),
                                                                                            billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                              likeList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].like),
                                                                                              id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                              index: index,
                                                                                              context: context,
                                                                                              initFunction: () {},
                                                                                              modelSetState: setState,
                                                                                              notUse: true,
                                                                                              dislikeList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].dislike),
                                                                                              likeCountList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].likesCount),
                                                                                              dislikeCountList: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].disLikesCount),
                                                                                              type: mainVariables.valueMapListProfilePage[index].type,
                                                                                              billBoardType: 'billboard',
                                                                                              image:
                                                                                                  mainVariables.valueMapListProfilePage[index].avatar,
                                                                                              title:
                                                                                                  mainVariables.valueMapListProfilePage[index].title,
                                                                                              description: "",
                                                                                              fromWhere: 'homePage',
                                                                                              responseId: '',
                                                                                              controller: TextEditingController(),
                                                                                              commentId: '',
                                                                                              postUserId:
                                                                                                  mainVariables.valueMapListProfilePage[index].userId,
                                                                                              responseFocusList: [],
                                                                                              responseUserId: '',
                                                                                              valueMapList: mainVariables.valueMapListProfilePage,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              width: width / 27.4,
                                                                                            ),
                                                                                            bookMarkWidget(
                                                                                              bookMark: List.generate(
                                                                                                  mainVariables.valueMapListProfilePage.length,
                                                                                                  (ind) => mainVariables
                                                                                                      .valueMapListProfilePage[ind].bookmarks.value),
                                                                                              context: context,
                                                                                              scale: 3.2,
                                                                                              id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                              type: mainVariables
                                                                                                              .valueMapListProfilePage[index].type ==
                                                                                                          "byte" ||
                                                                                                      mainVariables
                                                                                                              .valueMapListProfilePage[index].type ==
                                                                                                          "blog"
                                                                                                  ? "billboard"
                                                                                                  : mainVariables.valueMapListProfilePage[index].type,
                                                                                              modelSetState: setState,
                                                                                              index: index,
                                                                                              initFunction: () {},
                                                                                              notUse: false,
                                                                                            ),
                                                                                          ]),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.end,
                                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                                            children: [
                                                                                              billboardWidgetsMain.translationWidget(
                                                                                                  id: mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                  type: 'billboard',
                                                                                                  index: index,
                                                                                                  initFunction: () {},
                                                                                                  context: context,
                                                                                                  modelSetState: setState,
                                                                                                  notUse: false,
                                                                                                  valueMapList:
                                                                                                      mainVariables.valueMapListProfilePage),
                                                                                              SizedBox(
                                                                                                width: width / 27.4,
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      SizedBox(height: height / 64),
                                                                                      Padding(
                                                                                        padding: EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                        child: Row(
                                                                                          mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                          children: [
                                                                                            Text(
                                                                                              mainVariables
                                                                                                  .valueMapListProfilePage[index].companyName,
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  color: const Color(0xFF017FDB),
                                                                                                  fontWeight: FontWeight.bold),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "views",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 0,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10), color: Colors.black54),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "likes",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 1,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10), color: Colors.black54),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "dislikes",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 2,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10), color: Colors.black54),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                switch (mainVariables
                                                                                                    .valueMapListProfilePage[index].type) {
                                                                                                  case "blog":
                                                                                                    {
                                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].postId;
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  const BlogDescriptionPage()));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "byte":
                                                                                                    {
                                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].postId;
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  const BytesDescriptionPage()));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "forums":
                                                                                                    {
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  ForumPostDescriptionPage(
                                                                                                                      idList: List.generate(
                                                                                                                          mainVariables
                                                                                                                              .valueMapListProfilePage
                                                                                                                              .length,
                                                                                                                          (ind) => mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  ind]
                                                                                                                              .postId),
                                                                                                                      comeFrom: "billBoardHome",
                                                                                                                      forumId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId)));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "survey":
                                                                                                    {
                                                                                                      String activeStatus = "";
                                                                                                      bool answerStatus = false;
                                                                                                      int answeredQuestion = 0;
                                                                                                      SharedPreferences prefs =
                                                                                                          await SharedPreferences.getInstance();
                                                                                                      String mainUserId =
                                                                                                          prefs.getString('newUserId') ?? "";
                                                                                                      String mainUserToken =
                                                                                                          prefs.getString('newUserToken') ?? "";
                                                                                                      var url = Uri.parse(baseurl +
                                                                                                          versionSurvey +
                                                                                                          surveyStatusCheck);
                                                                                                      var response = await http.post(url, headers: {
                                                                                                        'Authorization': mainUserToken
                                                                                                      }, body: {
                                                                                                        'survey_id': mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                      });
                                                                                                      var responseData = json.decode(response.body);
                                                                                                      if (responseData["status"]) {
                                                                                                        activeStatus =
                                                                                                            responseData["response"]["status"];
                                                                                                        if (activeStatus == "active") {
                                                                                                          var url = Uri.parse(
                                                                                                              baseurl + versionSurvey + checkAnswer);
                                                                                                          var response =
                                                                                                              await http.post(url, headers: {
                                                                                                            'Authorization': mainUserToken
                                                                                                          }, body: {
                                                                                                            'survey_id': mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                          });
                                                                                                          var responseData =
                                                                                                              json.decode(response.body);
                                                                                                          if (responseData["status"]) {
                                                                                                            answerStatus = responseData["response"][0]
                                                                                                                ["final_question"];
                                                                                                            answeredQuestion =
                                                                                                                responseData["response"][0]
                                                                                                                    ["question_number"];
                                                                                                          } else {
                                                                                                            answerStatus = false;
                                                                                                            answeredQuestion = 0;
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                      if (!mounted) {
                                                                                                        return;
                                                                                                      }
                                                                                                      mainUserId ==
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .userId
                                                                                                          ? Navigator.push(context, MaterialPageRoute(
                                                                                                              builder: (BuildContext context) {
                                                                                                              return AnalyticsPage(
                                                                                                                surveyId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                activity: false,
                                                                                                                surveyTitle: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .title,
                                                                                                                navBool: false,
                                                                                                                fromWhere: 'similar',
                                                                                                              );
                                                                                                            }))
                                                                                                          : activeStatus == 'active'
                                                                                                              ? answerStatus
                                                                                                                  ? Navigator.push(context,
                                                                                                                      MaterialPageRoute(builder:
                                                                                                                          (BuildContext context) {
                                                                                                                      return AnalyticsPage(
                                                                                                                          surveyId: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .postId,
                                                                                                                          activity: false,
                                                                                                                          navBool: false,
                                                                                                                          fromWhere: 'similar',
                                                                                                                          surveyTitle: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .title);
                                                                                                                    }))
                                                                                                                  : Navigator.push(context,
                                                                                                                      MaterialPageRoute(builder:
                                                                                                                          (BuildContext context) {
                                                                                                                      return QuestionnairePage(
                                                                                                                        surveyId: mainVariables
                                                                                                                            .valueMapListProfilePage[
                                                                                                                                index]
                                                                                                                            .postId,
                                                                                                                        defaultIndex:
                                                                                                                            answeredQuestion,
                                                                                                                      );
                                                                                                                    }))
                                                                                                              : Navigator.push(context,
                                                                                                                  MaterialPageRoute(builder:
                                                                                                                      (BuildContext context) {
                                                                                                                  return AnalyticsPage(
                                                                                                                    surveyId: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .postId,
                                                                                                                    activity: false,
                                                                                                                    surveyTitle: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .title,
                                                                                                                    navBool: false,
                                                                                                                    fromWhere: 'similar',
                                                                                                                  );
                                                                                                                }));
                                                                                                      break;
                                                                                                    }
                                                                                                  default:
                                                                                                    {
                                                                                                      break;
                                                                                                    }
                                                                                                }
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(10), color: Colors.black54),
                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      SizedBox(height: height / 42.6),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              ],
                                                                            ),
                                                                          )
                                                                        : Container(
                                                                            margin: EdgeInsets.only(bottom: height / 57.73),
                                                                            decoration:
                                                                                BoxDecoration(borderRadius: BorderRadius.circular(15), boxShadow: [
                                                                              BoxShadow(
                                                                                spreadRadius: 0.0,
                                                                                blurRadius: 4.0,
                                                                                color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                              ),
                                                                            ]),
                                                                            child: Column(
                                                                              children: [
                                                                                GestureDetector(
                                                                                  onTap: () async {
                                                                                    switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                      case "blog":
                                                                                        {
                                                                                          mainVariables.selectedBillboardIdMain.value =
                                                                                              mainVariables.valueMapListProfilePage[index].postId;
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      const BlogDescriptionPage()));
                                                                                          break;
                                                                                        }
                                                                                      case "byte":
                                                                                        {
                                                                                          mainVariables.selectedBillboardIdMain.value =
                                                                                              mainVariables.valueMapListProfilePage[index].postId;
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      const BytesDescriptionPage()));
                                                                                          break;
                                                                                        }
                                                                                      case "forums":
                                                                                        {
                                                                                          Navigator.push(
                                                                                              context,
                                                                                              MaterialPageRoute(
                                                                                                  builder: (BuildContext context) =>
                                                                                                      ForumPostDescriptionPage(
                                                                                                          idList: List.generate(
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage.length,
                                                                                                              (ind) => mainVariables
                                                                                                                  .valueMapListProfilePage[ind]
                                                                                                                  .postId),
                                                                                                          comeFrom: "billBoardHome",
                                                                                                          forumId: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .postId)));
                                                                                          break;
                                                                                        }
                                                                                      case "survey":
                                                                                        {
                                                                                          String activeStatus = "";
                                                                                          bool answerStatus = false;
                                                                                          int answeredQuestion = 0;
                                                                                          SharedPreferences prefs =
                                                                                              await SharedPreferences.getInstance();
                                                                                          String mainUserId = prefs.getString('newUserId') ?? "";
                                                                                          String mainUserToken =
                                                                                              prefs.getString('newUserToken') ?? "";
                                                                                          var url =
                                                                                              Uri.parse(baseurl + versionSurvey + surveyStatusCheck);
                                                                                          var response = await http.post(url, headers: {
                                                                                            'Authorization': mainUserToken
                                                                                          }, body: {
                                                                                            'survey_id':
                                                                                                mainVariables.valueMapListProfilePage[index].postId,
                                                                                          });
                                                                                          var responseData = json.decode(response.body);
                                                                                          if (responseData["status"]) {
                                                                                            activeStatus = responseData["response"]["status"];
                                                                                            if (activeStatus == "active") {
                                                                                              var url =
                                                                                                  Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                                              var response = await http.post(url, headers: {
                                                                                                'Authorization': mainUserToken
                                                                                              }, body: {
                                                                                                'survey_id': mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                              });
                                                                                              var responseData = json.decode(response.body);
                                                                                              if (responseData["status"]) {
                                                                                                answerStatus =
                                                                                                    responseData["response"][0]["final_question"];
                                                                                                answeredQuestion =
                                                                                                    responseData["response"][0]["question_number"];
                                                                                              } else {
                                                                                                answerStatus = false;
                                                                                                answeredQuestion = 0;
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                          if (!mounted) {
                                                                                            return;
                                                                                          }
                                                                                          mainUserId ==
                                                                                                  mainVariables.valueMapListProfilePage[index].userId
                                                                                              ? Navigator.push(context,
                                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                                  return AnalyticsPage(
                                                                                                    surveyId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    activity: false,
                                                                                                    surveyTitle: mainVariables
                                                                                                        .valueMapListProfilePage[index].title,
                                                                                                    navBool: false,
                                                                                                    fromWhere: 'similar',
                                                                                                  );
                                                                                                }))
                                                                                              : activeStatus == 'active'
                                                                                                  ? answerStatus
                                                                                                      ? Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                          return AnalyticsPage(
                                                                                                              surveyId: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .postId,
                                                                                                              activity: false,
                                                                                                              navBool: false,
                                                                                                              fromWhere: 'similar',
                                                                                                              surveyTitle: mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .title);
                                                                                                        }))
                                                                                                      : Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                          return QuestionnairePage(
                                                                                                            surveyId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            defaultIndex: answeredQuestion,
                                                                                                          );
                                                                                                        }))
                                                                                                  : Navigator.push(context, MaterialPageRoute(
                                                                                                      builder: (BuildContext context) {
                                                                                                      return AnalyticsPage(
                                                                                                        surveyId: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        activity: false,
                                                                                                        surveyTitle: mainVariables
                                                                                                            .valueMapListProfilePage[index].title,
                                                                                                        navBool: false,
                                                                                                        fromWhere: 'similar',
                                                                                                      );
                                                                                                    }));
                                                                                          break;
                                                                                        }
                                                                                      default:
                                                                                        {
                                                                                          break;
                                                                                        }
                                                                                    }
                                                                                  },
                                                                                  child: Stack(
                                                                                    children: [
                                                                                      Container(
                                                                                          height: height / 3.97,
                                                                                          decoration: BoxDecoration(
                                                                                            color: Theme.of(context).colorScheme.background,
                                                                                            borderRadius: const BorderRadius.only(
                                                                                                topLeft: Radius.circular(15),
                                                                                                topRight: Radius.circular(15)),
                                                                                          ),
                                                                                          child: CarouselSlider.builder(
                                                                                            carouselController: _carController,
                                                                                            options: CarouselOptions(
                                                                                                enableInfiniteScroll: false,
                                                                                                enlargeCenterPage: false,
                                                                                                onPageChanged:
                                                                                                    (int index, CarouselPageChangedReason reason) {
                                                                                                  setState(() {
                                                                                                    carouselIndexGlobal = index;
                                                                                                  });
                                                                                                }),
                                                                                            itemCount: mainVariables
                                                                                                .valueMapListProfilePage[index].files.length,
                                                                                            itemBuilder: (BuildContext context, int carouselIndex,
                                                                                                int realIndex) {
                                                                                              return mainVariables.valueMapListProfilePage[index]
                                                                                                          .files[carouselIndex].type ==
                                                                                                      "image"
                                                                                                  ? Image.network(
                                                                                                      mainVariables.valueMapListProfilePage[index]
                                                                                                          .files[carouselIndex].file,
                                                                                                      fit: BoxFit.fill,
                                                                                                    )
                                                                                                  : mainVariables.valueMapListProfilePage[index]
                                                                                                              .files[carouselIndex].type ==
                                                                                                          "video"
                                                                                                      ? Stack(
                                                                                                          alignment: Alignment.center,
                                                                                                          children: [
                                                                                                            Image.asset(
                                                                                                              "lib/Constants/Assets/Settings/coverImage_default.png",
                                                                                                              fit: BoxFit.fill,
                                                                                                              height: height / 3.97,
                                                                                                            ),
                                                                                                            Container(
                                                                                                                height: 50,
                                                                                                                width: 50,
                                                                                                                decoration: BoxDecoration(
                                                                                                                    shape: BoxShape.circle,
                                                                                                                    color: Colors.black26
                                                                                                                        .withOpacity(0.7)),
                                                                                                                child: const Icon(
                                                                                                                  Icons.play_arrow_sharp,
                                                                                                                  color: Colors.white,
                                                                                                                  size: 40,
                                                                                                                ))
                                                                                                          ],
                                                                                                        )
                                                                                                      : mainVariables.valueMapListProfilePage[index]
                                                                                                                  .files[carouselIndex].type ==
                                                                                                              "document"
                                                                                                          ? Stack(
                                                                                                              alignment: Alignment.center,
                                                                                                              children: [
                                                                                                                Image.asset(
                                                                                                                  "lib/Constants/Assets/Settings/coverImage.png",
                                                                                                                  fit: BoxFit.fill,
                                                                                                                  height: height / 3.97,
                                                                                                                ),
                                                                                                                Container(
                                                                                                                  height: 50,
                                                                                                                  width: 50,
                                                                                                                  decoration: BoxDecoration(
                                                                                                                    shape: BoxShape.circle,
                                                                                                                    color: Colors.black26
                                                                                                                        .withOpacity(0.3),
                                                                                                                  ),
                                                                                                                  child: Center(
                                                                                                                    child: Image.asset(
                                                                                                                      "lib/Constants/Assets/BillBoard/document.png",
                                                                                                                      color: Colors.white,
                                                                                                                      height: 25,
                                                                                                                      width: 25,
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                )
                                                                                                              ],
                                                                                                            )
                                                                                                          : const SizedBox();
                                                                                            },
                                                                                          )),
                                                                                      Positioned(
                                                                                        top: 0,
                                                                                        left: 0,
                                                                                        child: Container(
                                                                                          height: height / 18,
                                                                                          width: width / 1.11,
                                                                                          padding: EdgeInsets.only(
                                                                                            left: width / 27.4,
                                                                                          ),
                                                                                          decoration: BoxDecoration(
                                                                                            color: Colors.black12.withOpacity(0.3),
                                                                                            borderRadius: const BorderRadius.only(
                                                                                              topLeft: Radius.circular(15),
                                                                                              topRight: Radius.circular(15),
                                                                                            ),
                                                                                          ),
                                                                                          child: Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                                            children: [
                                                                                              Row(
                                                                                                mainAxisAlignment: MainAxisAlignment.start,
                                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                children: [
                                                                                                  bookMarkWidget(
                                                                                                      bookMark: List.generate(
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage.length,
                                                                                                          (ind) => mainVariables
                                                                                                              .valueMapListProfilePage[ind]
                                                                                                              .bookmarks
                                                                                                              .value),
                                                                                                      context: context,
                                                                                                      scale: 3,
                                                                                                      color: Colors.white,
                                                                                                      id: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      type: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "byte" ||
                                                                                                              mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .type ==
                                                                                                                  "blog"
                                                                                                          ? "billboard"
                                                                                                          : mainVariables
                                                                                                              .valueMapListProfilePage[index].type,
                                                                                                      modelSetState: setState,
                                                                                                      index: index,
                                                                                                      initFunction: () {},
                                                                                                      notUse: false),
                                                                                                  const SizedBox(
                                                                                                    width: 15,
                                                                                                  ),
                                                                                                  billboardWidgetsMain.translationWidget(
                                                                                                      id: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      type: 'billboard',
                                                                                                      index: index,
                                                                                                      initFunction: () {},
                                                                                                      context: context,
                                                                                                      modelSetState: setState,
                                                                                                      notUse: false,
                                                                                                      valueMapList:
                                                                                                          mainVariables.valueMapListProfilePage),
                                                                                                ],
                                                                                              ),
                                                                                              Row(
                                                                                                mainAxisAlignment: MainAxisAlignment.end,
                                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                children: [
                                                                                                  userIdMain !=
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].userId
                                                                                                      ? billboardWidgetsMain.getHomeBelieveButton(
                                                                                                          heightValue: height / 33.76,
                                                                                                          isBelieved: List.generate(
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage.length,
                                                                                                              (ind) => mainVariables
                                                                                                                  .valueMapListProfilePage[ind]
                                                                                                                  .believed),
                                                                                                          billboardUserid: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          billboardUserName: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId,
                                                                                                          context: context,
                                                                                                          modelSetState: setState,
                                                                                                          index: index,
                                                                                                          background: true,
                                                                                                        )
                                                                                                      : const SizedBox(),

                                                                                                  ///more_vert
                                                                                                  IconButton(
                                                                                                      onPressed: () {
                                                                                                        billboardWidgetsMain.bottomSheet(
                                                                                                          context1: context,
                                                                                                          myself: userIdMain ==
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .userId,
                                                                                                          billboardId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          billboardUserId: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId,
                                                                                                          type: "billboard",
                                                                                                          responseId: "",
                                                                                                          responseUserId: "",
                                                                                                          commentId: "",
                                                                                                          commentUserId: "",
                                                                                                          callFunction: () {},
                                                                                                          contentType: mainVariables
                                                                                                              .valueMapListProfilePage[index].type,
                                                                                                          modelSetState: setState,
                                                                                                          responseDetail: {},
                                                                                                          category: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .category,
                                                                                                          valueMapList:
                                                                                                              mainVariables.valueMapListProfilePage,
                                                                                                          index: index,
                                                                                                        );
                                                                                                      },
                                                                                                      icon: const Icon(
                                                                                                        Icons.more_vert,
                                                                                                        color: Colors.white,
                                                                                                        size: 25,
                                                                                                      ))
                                                                                                ],
                                                                                              )
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                      mainVariables.valueMapListProfilePage[index].files.length > 1
                                                                                          ? Positioned(
                                                                                              bottom: 75,
                                                                                              left: (width / 2) - 35,
                                                                                              child: SizedBox(
                                                                                                height: 5,
                                                                                                child: ListView.builder(
                                                                                                    shrinkWrap: true,
                                                                                                    scrollDirection: Axis.horizontal,
                                                                                                    physics: const NeverScrollableScrollPhysics(),
                                                                                                    itemCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].files.length,
                                                                                                    itemBuilder: (BuildContext context, int index1) {
                                                                                                      return Container(
                                                                                                        height: 5,
                                                                                                        width: carouselIndexGlobal == index1 ? 20 : 5,
                                                                                                        margin:
                                                                                                            const EdgeInsets.symmetric(horizontal: 3),
                                                                                                        decoration: BoxDecoration(
                                                                                                            borderRadius: BorderRadius.circular(8),
                                                                                                            color: carouselIndexGlobal == index1
                                                                                                                ? const Color(0XFF0EA102)
                                                                                                                : Colors.white),
                                                                                                      );
                                                                                                    }),
                                                                                              ))
                                                                                          : const SizedBox(),
                                                                                      Positioned(
                                                                                        bottom: 0,
                                                                                        left: 0,
                                                                                        child: Container(
                                                                                          height: height / 14,
                                                                                          width: width,
                                                                                          padding: EdgeInsets.only(
                                                                                              top: height / 86.6,
                                                                                              bottom: height / 86.6,
                                                                                              right: width / 13.7,
                                                                                              left: width / 41.1),
                                                                                          decoration: BoxDecoration(
                                                                                            color: Colors.black12.withOpacity(0.3),
                                                                                          ),
                                                                                          child: Text(
                                                                                            mainVariables.valueMapListProfilePage[index].title
                                                                                                .toString()
                                                                                                .capitalizeFirst!,
                                                                                            maxLines: 2,
                                                                                            style: TextStyle(
                                                                                                fontSize: text.scale(14),
                                                                                                color: Colors.white,
                                                                                                fontWeight: FontWeight.w500,
                                                                                                fontFamily: "Poppins",
                                                                                                overflow: TextOverflow.ellipsis),
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                Container(
                                                                                  decoration: BoxDecoration(
                                                                                    color: Theme.of(context).colorScheme.background,
                                                                                    borderRadius: const BorderRadius.only(
                                                                                        bottomLeft: Radius.circular(15),
                                                                                        bottomRight: Radius.circular(15)),
                                                                                  ),
                                                                                  child: Column(
                                                                                    children: [
                                                                                      SizedBox(
                                                                                        height: height / 86.6,
                                                                                      ),
                                                                                      Row(
                                                                                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          SizedBox(
                                                                                            width: width / 41.1,
                                                                                          ),
                                                                                          billboardWidgetsMain.getProfile(
                                                                                              context: context,
                                                                                              heightValue: height / 17.32,
                                                                                              widthValue: width / 8.22,
                                                                                              myself: false,
                                                                                              avatar:
                                                                                                  mainVariables.valueMapListProfilePage[index].avatar,
                                                                                              isProfile: mainVariables
                                                                                                  .valueMapListProfilePage[index].profileType,
                                                                                              userId: mainVariables
                                                                                                  .valueMapListProfilePage[index].userId),
                                                                                          SizedBox(
                                                                                            width: width / 41.1,
                                                                                          ),
                                                                                          Expanded(
                                                                                            child: Column(
                                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                                              children: [
                                                                                                InkWell(
                                                                                                  onTap: () {
                                                                                                    Navigator.push(context, MaterialPageRoute(
                                                                                                        builder: (BuildContext context) {
                                                                                                      return UserBillBoardProfilePage(
                                                                                                          userId: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId);
                                                                                                    }));
                                                                                                  },
                                                                                                  child: Text(
                                                                                                    mainVariables
                                                                                                        .valueMapListProfilePage[index].username
                                                                                                        .toString()
                                                                                                        .capitalizeFirst!,
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(12),
                                                                                                        fontWeight: FontWeight.w700,
                                                                                                        fontFamily: "Poppins"),
                                                                                                  ),
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  height: 5,
                                                                                                ),
                                                                                                Row(
                                                                                                  children: [
                                                                                                    Text(
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].createdAt,
                                                                                                      style: TextStyle(
                                                                                                          fontSize: text.scale(10),
                                                                                                          color: const Color(0XFF737373),
                                                                                                          fontWeight: FontWeight.w400,
                                                                                                          fontFamily: "Poppins"),
                                                                                                    ),
                                                                                                    const SizedBox(
                                                                                                      width: 3,
                                                                                                    ),
                                                                                                    Text(
                                                                                                      " | ",
                                                                                                      style: TextStyle(
                                                                                                        fontSize: text.scale(11),
                                                                                                        color: const Color(0XFF737373),
                                                                                                        fontWeight: FontWeight.w400,
                                                                                                      ),
                                                                                                    ),
                                                                                                    const SizedBox(
                                                                                                      width: 3,
                                                                                                    ),
                                                                                                    InkWell(
                                                                                                      onTap: () async {
                                                                                                        billboardWidgetsMain.believersTabBottomSheet(
                                                                                                          context: context,
                                                                                                          id: mainVariables
                                                                                                              .valueMapListProfilePage[index].userId,
                                                                                                          isBelieversList: true,
                                                                                                        );
                                                                                                      },
                                                                                                      child: Text(
                                                                                                        "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                        style: TextStyle(
                                                                                                            fontSize: text.scale(10),
                                                                                                            color: const Color(0XFF737373),
                                                                                                            fontWeight: FontWeight.w400,
                                                                                                            fontFamily: "Poppins"),
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ),
                                                                                          billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                            likeList: List.generate(
                                                                                                mainVariables.valueMapListProfilePage.length,
                                                                                                (ind) =>
                                                                                                    mainVariables.valueMapListProfilePage[ind].like),
                                                                                            id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                            index: index,
                                                                                            context: context,
                                                                                            initFunction: () {},
                                                                                            modelSetState: setState,
                                                                                            notUse: true,
                                                                                            dislikeList: List.generate(
                                                                                                mainVariables.valueMapListProfilePage.length,
                                                                                                (ind) => mainVariables
                                                                                                    .valueMapListProfilePage[ind].dislike),
                                                                                            likeCountList: List.generate(
                                                                                                mainVariables.valueMapListProfilePage.length,
                                                                                                (ind) => mainVariables
                                                                                                    .valueMapListProfilePage[ind].likesCount),
                                                                                            dislikeCountList: List.generate(
                                                                                                mainVariables.valueMapListProfilePage.length,
                                                                                                (ind) => mainVariables
                                                                                                    .valueMapListProfilePage[ind].disLikesCount),
                                                                                            type: mainVariables.valueMapListProfilePage[index].type,
                                                                                            billBoardType:
                                                                                                mainVariables.valueMapListProfilePage[index].type ==
                                                                                                        'survey'
                                                                                                    ? 'survey'
                                                                                                    : 'billboard',
                                                                                            image:
                                                                                                mainVariables.valueMapListProfilePage[index].avatar,
                                                                                            title: mainVariables.valueMapListProfilePage[index].title,
                                                                                            description: "",
                                                                                            fromWhere: 'homePage',
                                                                                            responseId: '',
                                                                                            controller: TextEditingController(),
                                                                                            commentId: '',
                                                                                            postUserId:
                                                                                                mainVariables.valueMapListProfilePage[index].userId,
                                                                                            responseFocusList: [],
                                                                                            responseUserId: '',
                                                                                            valueMapList: mainVariables.valueMapListProfilePage,
                                                                                          ),
                                                                                          SizedBox(
                                                                                            width: width / 41.1,
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      SizedBox(height: height / 64),
                                                                                      Padding(
                                                                                        padding: EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                        child: Row(
                                                                                          mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                          children: [
                                                                                            Text(
                                                                                              mainVariables
                                                                                                  .valueMapListProfilePage[index].companyName,
                                                                                              style: TextStyle(
                                                                                                  fontSize: text.scale(10),
                                                                                                  color: const Color(0xFF017FDB),
                                                                                                  fontWeight: FontWeight.bold),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "views",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 0,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                                style: TextStyle(fontSize: text.scale(10)),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "likes",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 1,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                                style: TextStyle(fontSize: text.scale(10)),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                    context: context,
                                                                                                    billBoardId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    responseId: "",
                                                                                                    commentId: "",
                                                                                                    billBoardType: "billboard",
                                                                                                    action: "dislikes",
                                                                                                    likeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].likesCount
                                                                                                        .toString(),
                                                                                                    disLikeCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].disLikesCount
                                                                                                        .toString(),
                                                                                                    index: 2,
                                                                                                    viewCount: mainVariables
                                                                                                        .valueMapListProfilePage[index].viewsCount
                                                                                                        .toString(),
                                                                                                    isViewIncluded: true);
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                                style: TextStyle(fontSize: text.scale(10)),
                                                                                              ),
                                                                                            ),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                switch (mainVariables
                                                                                                    .valueMapListProfilePage[index].type) {
                                                                                                  case "blog":
                                                                                                    {
                                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].postId;
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  const BlogDescriptionPage()));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "byte":
                                                                                                    {
                                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].postId;
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  const BytesDescriptionPage()));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "forums":
                                                                                                    {
                                                                                                      Navigator.push(
                                                                                                          context,
                                                                                                          MaterialPageRoute(
                                                                                                              builder: (BuildContext context) =>
                                                                                                                  ForumPostDescriptionPage(
                                                                                                                      idList: List.generate(
                                                                                                                          mainVariables
                                                                                                                              .valueMapListProfilePage
                                                                                                                              .length,
                                                                                                                          (ind) => mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  ind]
                                                                                                                              .postId),
                                                                                                                      comeFrom: "billBoardHome",
                                                                                                                      forumId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId)));
                                                                                                      break;
                                                                                                    }
                                                                                                  case "survey":
                                                                                                    {
                                                                                                      String activeStatus = "";
                                                                                                      bool answerStatus = false;
                                                                                                      int answeredQuestion = 0;
                                                                                                      SharedPreferences prefs =
                                                                                                          await SharedPreferences.getInstance();
                                                                                                      String mainUserId =
                                                                                                          prefs.getString('newUserId') ?? "";
                                                                                                      String mainUserToken =
                                                                                                          prefs.getString('newUserToken') ?? "";
                                                                                                      var url = Uri.parse(baseurl +
                                                                                                          versionSurvey +
                                                                                                          surveyStatusCheck);
                                                                                                      var response = await http.post(url, headers: {
                                                                                                        'Authorization': mainUserToken
                                                                                                      }, body: {
                                                                                                        'survey_id': mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                      });
                                                                                                      var responseData = json.decode(response.body);
                                                                                                      if (responseData["status"]) {
                                                                                                        activeStatus =
                                                                                                            responseData["response"]["status"];
                                                                                                        if (activeStatus == "active") {
                                                                                                          var url = Uri.parse(
                                                                                                              baseurl + versionSurvey + checkAnswer);
                                                                                                          var response =
                                                                                                              await http.post(url, headers: {
                                                                                                            'Authorization': mainUserToken
                                                                                                          }, body: {
                                                                                                            'survey_id': mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                          });
                                                                                                          var responseData =
                                                                                                              json.decode(response.body);
                                                                                                          if (responseData["status"]) {
                                                                                                            answerStatus = responseData["response"][0]
                                                                                                                ["final_question"];
                                                                                                            answeredQuestion =
                                                                                                                responseData["response"][0]
                                                                                                                    ["question_number"];
                                                                                                          } else {
                                                                                                            answerStatus = false;
                                                                                                            answeredQuestion = 0;
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                      if (!mounted) {
                                                                                                        return;
                                                                                                      }
                                                                                                      mainUserId ==
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage[index]
                                                                                                                  .userId
                                                                                                          ? Navigator.push(context, MaterialPageRoute(
                                                                                                              builder: (BuildContext context) {
                                                                                                              return AnalyticsPage(
                                                                                                                surveyId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                activity: false,
                                                                                                                surveyTitle: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .title,
                                                                                                                navBool: false,
                                                                                                                fromWhere: 'similar',
                                                                                                              );
                                                                                                            }))
                                                                                                          : activeStatus == 'active'
                                                                                                              ? answerStatus
                                                                                                                  ? Navigator.push(context,
                                                                                                                      MaterialPageRoute(builder:
                                                                                                                          (BuildContext context) {
                                                                                                                      return AnalyticsPage(
                                                                                                                          surveyId: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .postId,
                                                                                                                          activity: false,
                                                                                                                          navBool: false,
                                                                                                                          fromWhere: 'similar',
                                                                                                                          surveyTitle: mainVariables
                                                                                                                              .valueMapListProfilePage[
                                                                                                                                  index]
                                                                                                                              .title);
                                                                                                                    }))
                                                                                                                  : Navigator.push(context,
                                                                                                                      MaterialPageRoute(builder:
                                                                                                                          (BuildContext context) {
                                                                                                                      return QuestionnairePage(
                                                                                                                        surveyId: mainVariables
                                                                                                                            .valueMapListProfilePage[
                                                                                                                                index]
                                                                                                                            .postId,
                                                                                                                        defaultIndex:
                                                                                                                            answeredQuestion,
                                                                                                                      );
                                                                                                                    }))
                                                                                                              : Navigator.push(context,
                                                                                                                  MaterialPageRoute(builder:
                                                                                                                      (BuildContext context) {
                                                                                                                  return AnalyticsPage(
                                                                                                                    surveyId: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .postId,
                                                                                                                    activity: false,
                                                                                                                    surveyTitle: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .title,
                                                                                                                    navBool: false,
                                                                                                                    fromWhere: 'similar',
                                                                                                                  );
                                                                                                                }));
                                                                                                      break;
                                                                                                    }
                                                                                                  default:
                                                                                                    {
                                                                                                      break;
                                                                                                    }
                                                                                                }
                                                                                              },
                                                                                              child: Text(
                                                                                                " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                                style: TextStyle(fontSize: text.scale(10)),
                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      SizedBox(height: height / 42.6),
                                                                                    ],
                                                                                  ),
                                                                                )
                                                                              ],
                                                                            ),
                                                                          )
                                                                    : Container(
                                                                        margin: EdgeInsets.only(bottom: height / 57.73),
                                                                        decoration:
                                                                            BoxDecoration(borderRadius: BorderRadius.circular(15), boxShadow: [
                                                                          BoxShadow(
                                                                            spreadRadius: 0.0,
                                                                            blurRadius: 4.0,
                                                                            color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                          ),
                                                                        ]),
                                                                        child: Column(
                                                                          children: [
                                                                            GestureDetector(
                                                                              onTap: () async {
                                                                                switch (mainVariables.valueMapListProfilePage[index].type) {
                                                                                  case "blog":
                                                                                    {
                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                          mainVariables.valueMapListProfilePage[index].postId;
                                                                                      Navigator.push(
                                                                                          context,
                                                                                          MaterialPageRoute(
                                                                                              builder: (BuildContext context) =>
                                                                                                  const BlogDescriptionPage()));
                                                                                      break;
                                                                                    }
                                                                                  case "byte":
                                                                                    {
                                                                                      mainVariables.selectedBillboardIdMain.value =
                                                                                          mainVariables.valueMapListProfilePage[index].postId;
                                                                                      Navigator.push(
                                                                                          context,
                                                                                          MaterialPageRoute(
                                                                                              builder: (BuildContext context) =>
                                                                                                  const BytesDescriptionPage()));
                                                                                      break;
                                                                                    }
                                                                                  case "forums":
                                                                                    {
                                                                                      Navigator.push(
                                                                                          context,
                                                                                          MaterialPageRoute(
                                                                                              builder:
                                                                                                  (BuildContext context) =>
                                                                                                      ForumPostDescriptionPage(
                                                                                                          idList: List.generate(
                                                                                                              mainVariables
                                                                                                                  .valueMapListProfilePage.length,
                                                                                                              (ind) => mainVariables
                                                                                                                  .valueMapListProfilePage[ind]
                                                                                                                  .postId),
                                                                                                          comeFrom: "billBoardHome",
                                                                                                          forumId: mainVariables
                                                                                                              .valueMapListProfilePage[index]
                                                                                                              .postId)));
                                                                                      break;
                                                                                    }
                                                                                  case "survey":
                                                                                    {
                                                                                      String activeStatus = "";
                                                                                      bool answerStatus = false;
                                                                                      int answeredQuestion = 0;
                                                                                      SharedPreferences prefs = await SharedPreferences.getInstance();
                                                                                      String mainUserId = prefs.getString('newUserId') ?? "";
                                                                                      String mainUserToken = prefs.getString('newUserToken') ?? "";
                                                                                      var url =
                                                                                          Uri.parse(baseurl + versionSurvey + surveyStatusCheck);
                                                                                      var response = await http.post(url, headers: {
                                                                                        'Authorization': mainUserToken
                                                                                      }, body: {
                                                                                        'survey_id':
                                                                                            mainVariables.valueMapListProfilePage[index].postId,
                                                                                      });
                                                                                      var responseData = json.decode(response.body);
                                                                                      if (responseData["status"]) {
                                                                                        activeStatus = responseData["response"]["status"];

                                                                                        if (activeStatus == "active") {
                                                                                          var url = Uri.parse(baseurl + versionSurvey + checkAnswer);
                                                                                          var response = await http.post(url, headers: {
                                                                                            'Authorization': mainUserToken
                                                                                          }, body: {
                                                                                            'survey_id':
                                                                                                mainVariables.valueMapListProfilePage[index].postId,
                                                                                          });
                                                                                          var responseData = json.decode(response.body);
                                                                                          if (responseData["status"]) {
                                                                                            answerStatus =
                                                                                                responseData["response"][0]["final_question"];
                                                                                            answeredQuestion =
                                                                                                responseData["response"][0]["question_number"];
                                                                                          } else {
                                                                                            answerStatus = false;
                                                                                            answeredQuestion = 0;
                                                                                          }
                                                                                        }
                                                                                      }
                                                                                      if (!mounted) {
                                                                                        return;
                                                                                      }
                                                                                      mainUserId ==
                                                                                              mainVariables.valueMapListProfilePage[index].userId
                                                                                          ? Navigator.push(context,
                                                                                              MaterialPageRoute(builder: (BuildContext context) {
                                                                                              return AnalyticsPage(
                                                                                                surveyId: mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                                activity: false,
                                                                                                surveyTitle: mainVariables
                                                                                                    .valueMapListProfilePage[index].title,
                                                                                                navBool: false,
                                                                                                fromWhere: 'similar',
                                                                                              );
                                                                                            }))
                                                                                          : activeStatus == 'active'
                                                                                              ? answerStatus
                                                                                                  ? Navigator.push(context, MaterialPageRoute(
                                                                                                      builder: (BuildContext context) {
                                                                                                      return AnalyticsPage(
                                                                                                          surveyId: mainVariables
                                                                                                              .valueMapListProfilePage[index].postId,
                                                                                                          activity: false,
                                                                                                          navBool: false,
                                                                                                          fromWhere: 'similar',
                                                                                                          surveyTitle: mainVariables
                                                                                                              .valueMapListProfilePage[index].title);
                                                                                                    }))
                                                                                                  : Navigator.push(context, MaterialPageRoute(
                                                                                                      builder: (BuildContext context) {
                                                                                                      return QuestionnairePage(
                                                                                                        surveyId: mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                        defaultIndex: answeredQuestion,
                                                                                                      );
                                                                                                    }))
                                                                                              : Navigator.push(context,
                                                                                                  MaterialPageRoute(builder: (BuildContext context) {
                                                                                                  return AnalyticsPage(
                                                                                                    surveyId: mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                    activity: false,
                                                                                                    surveyTitle: mainVariables
                                                                                                        .valueMapListProfilePage[index].title,
                                                                                                    navBool: false,
                                                                                                    fromWhere: 'similar',
                                                                                                  );
                                                                                                }));
                                                                                      break;
                                                                                    }
                                                                                  case "news":
                                                                                    {
                                                                                      /*Navigator.push(context, MaterialPageRoute(builder: (context) {
                                                                                      return DemoPage(
                                                                                        url: "",
                                                                                        text: "",
                                                                                        image: "",
                                                                                        id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                        type: 'news',
                                                                                        activity: true,
                                                                                        checkMain: false,
                                                                                      );
                                                                                    }));*/
                                                                                      Get.to(const DemoView(), arguments: {
                                                                                        "id": mainVariables.valueMapListProfilePage[index].postId,
                                                                                        "type": "news",
                                                                                        "url": ""
                                                                                      });
                                                                                      break;
                                                                                    }
                                                                                  default:
                                                                                    {
                                                                                      break;
                                                                                    }
                                                                                }
                                                                              },
                                                                              child: Stack(
                                                                                children: [
                                                                                  Container(
                                                                                    height: height / 3.97,
                                                                                    decoration: BoxDecoration(
                                                                                        borderRadius: const BorderRadius.only(
                                                                                            topLeft: Radius.circular(15),
                                                                                            topRight: Radius.circular(15)),
                                                                                        gradient: mainVariables.valueMapListProfilePage[index].type ==
                                                                                                "blog"
                                                                                            ? const RadialGradient(
                                                                                                colors: [
                                                                                                  Color.fromRGBO(23, 25, 27, 0.90),
                                                                                                  Color.fromRGBO(85, 85, 85, 0.00)
                                                                                                ],
                                                                                                radius: 15.0,
                                                                                              )
                                                                                            : mainVariables.valueMapListProfilePage[index].type ==
                                                                                                    "forums"
                                                                                                ? const RadialGradient(
                                                                                                    colors: [
                                                                                                      Color.fromRGBO(0, 92, 175, 0.90),
                                                                                                      Color.fromRGBO(13, 155, 1, 0.00)
                                                                                                    ],
                                                                                                    radius: 15.0,
                                                                                                  )
                                                                                                : mainVariables.valueMapListProfilePage[index].type ==
                                                                                                        "survey"
                                                                                                    ? const RadialGradient(
                                                                                                        colors: [
                                                                                                          Color.fromRGBO(10, 122, 1, 0.90),
                                                                                                          Color.fromRGBO(13, 155, 1, 0.00)
                                                                                                        ],
                                                                                                        radius: 15.0,
                                                                                                      )
                                                                                                    : const RadialGradient(
                                                                                                        colors: [
                                                                                                          Color.fromRGBO(255, 255, 255, 1),
                                                                                                          Color.fromRGBO(255, 255, 255, 1)
                                                                                                        ],
                                                                                                        radius: 15.0,
                                                                                                      ),
                                                                                        image: DecorationImage(
                                                                                            image: NetworkImage(
                                                                                              mainVariables.valueMapListProfilePage[index].type ==
                                                                                                      "news"
                                                                                                  ? mainVariables
                                                                                                      .valueMapListProfilePage[index].newsImage
                                                                                                  : "",
                                                                                            ),
                                                                                            fit: BoxFit.fill)),
                                                                                    child: Center(
                                                                                      child: Text(
                                                                                        mainVariables.valueMapListProfilePage[index].type == "news"
                                                                                            ? ""
                                                                                            : mainVariables.valueMapListProfilePage[index].type ==
                                                                                                    "forums"
                                                                                                ? mainVariables.valueMapListProfilePage[index].type
                                                                                                    .toString()
                                                                                                    .capitalizeFirst!
                                                                                                    .substring(
                                                                                                        0,
                                                                                                        mainVariables.valueMapListProfilePage[index]
                                                                                                                .type.length -
                                                                                                            1)
                                                                                                : mainVariables.valueMapListProfilePage[index].type
                                                                                                    .toString()
                                                                                                    .capitalizeFirst!,
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(40),
                                                                                            fontWeight: FontWeight.w900,
                                                                                            color: const Color(0XFFFFFFFF)),
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  Positioned(
                                                                                    top: 0,
                                                                                    left: 0,
                                                                                    child: Container(
                                                                                      height: height / 18,
                                                                                      width: width / 1.11,
                                                                                      padding: EdgeInsets.only(
                                                                                        left: width / 27.4,
                                                                                      ),
                                                                                      decoration: BoxDecoration(
                                                                                        color: Colors.black26.withOpacity(0.3),
                                                                                        borderRadius: const BorderRadius.only(
                                                                                          topLeft: Radius.circular(15),
                                                                                          topRight: Radius.circular(15),
                                                                                        ),
                                                                                      ),
                                                                                      child: Row(
                                                                                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.start,
                                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                                            children: [
                                                                                              bookMarkWidget(
                                                                                                  bookMark: List.generate(
                                                                                                      mainVariables.valueMapListProfilePage.length,
                                                                                                      (ind) => mainVariables
                                                                                                          .valueMapListProfilePage[ind]
                                                                                                          .bookmarks
                                                                                                          .value),
                                                                                                  context: context,
                                                                                                  scale: 3,
                                                                                                  color: Colors.white,
                                                                                                  id: mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                  type: mainVariables.valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "byte" ||
                                                                                                          mainVariables.valueMapListProfilePage[index]
                                                                                                                  .type ==
                                                                                                              "blog"
                                                                                                      ? "billboard"
                                                                                                      : mainVariables
                                                                                                          .valueMapListProfilePage[index].type,
                                                                                                  modelSetState: setState,
                                                                                                  index: index,
                                                                                                  initFunction: () {},
                                                                                                  notUse: false),
                                                                                              const SizedBox(
                                                                                                width: 15,
                                                                                              ),
                                                                                              billboardWidgetsMain.translationWidget(
                                                                                                  id: mainVariables
                                                                                                      .valueMapListProfilePage[index].postId,
                                                                                                  type: 'billboard',
                                                                                                  index: index,
                                                                                                  initFunction: () {},
                                                                                                  context: context,
                                                                                                  modelSetState: setState,
                                                                                                  notUse: false,
                                                                                                  valueMapList:
                                                                                                      mainVariables.valueMapListProfilePage),
                                                                                            ],
                                                                                          ),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment.end,
                                                                                            children: [
                                                                                              userIdMain !=
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].userId
                                                                                                  ? billboardWidgetsMain.getHomeBelieveButton(
                                                                                                      heightValue: height / 33.76,
                                                                                                      isBelieved: List.generate(
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage.length,
                                                                                                          (ind) => mainVariables
                                                                                                              .valueMapListProfilePage[ind].believed),
                                                                                                      billboardUserid: mainVariables
                                                                                                          .valueMapListProfilePage[index].userId,
                                                                                                      billboardUserName: mainVariables
                                                                                                          .valueMapListProfilePage[index].username,
                                                                                                      context: context,
                                                                                                      modelSetState: setState,
                                                                                                      index: index,
                                                                                                      background: true,
                                                                                                    )
                                                                                                  : const SizedBox(),

                                                                                              ///more_vert
                                                                                              IconButton(
                                                                                                  onPressed: () {
                                                                                                    billboardWidgetsMain.bottomSheet(
                                                                                                      context1: context,
                                                                                                      myself: userIdMain ==
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].userId,
                                                                                                      billboardId: mainVariables
                                                                                                          .valueMapListProfilePage[index].postId,
                                                                                                      billboardUserId: mainVariables
                                                                                                          .valueMapListProfilePage[index].userId,
                                                                                                      type: "billboard",
                                                                                                      responseId: "",
                                                                                                      responseUserId: "",
                                                                                                      commentId: "",
                                                                                                      commentUserId: "",
                                                                                                      callFunction: () {},
                                                                                                      contentType: mainVariables
                                                                                                          .valueMapListProfilePage[index].type,
                                                                                                      modelSetState: setState,
                                                                                                      responseDetail: {},
                                                                                                      category: mainVariables
                                                                                                          .valueMapListProfilePage[index].category,
                                                                                                      valueMapList:
                                                                                                          mainVariables.valueMapListProfilePage,
                                                                                                      index: index,
                                                                                                    );
                                                                                                  },
                                                                                                  icon: const Icon(
                                                                                                    Icons.more_vert,
                                                                                                    color: Colors.white,
                                                                                                    size: 25,
                                                                                                  ))
                                                                                            ],
                                                                                          )
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  Positioned(
                                                                                    bottom: 0,
                                                                                    left: 0,
                                                                                    child: Container(
                                                                                      height: height / 14,
                                                                                      width: width,
                                                                                      padding: EdgeInsets.only(
                                                                                          top: height / 86.6,
                                                                                          bottom: height / 86.6,
                                                                                          right: width / 13.7,
                                                                                          left: width / 41.1),
                                                                                      decoration: BoxDecoration(
                                                                                        color: Colors.black26.withOpacity(0.3),
                                                                                      ),
                                                                                      child: Text(
                                                                                        mainVariables.valueMapListProfilePage[index].title
                                                                                            .toString()
                                                                                            .capitalizeFirst!,
                                                                                        maxLines: 2,
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(14),
                                                                                            color: Colors.white,
                                                                                            fontWeight: FontWeight.w500,
                                                                                            fontFamily: "Poppins",
                                                                                            overflow: TextOverflow.ellipsis),
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            Container(
                                                                              decoration: BoxDecoration(
                                                                                color: Theme.of(context).colorScheme.background,
                                                                                borderRadius: const BorderRadius.only(
                                                                                    bottomLeft: Radius.circular(15),
                                                                                    bottomRight: Radius.circular(15)),
                                                                              ),
                                                                              child: Column(
                                                                                children: [
                                                                                  SizedBox(
                                                                                    height: height / 86.6,
                                                                                  ),
                                                                                  Row(
                                                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                                    children: [
                                                                                      SizedBox(
                                                                                        width: width / 41.1,
                                                                                      ),
                                                                                      billboardWidgetsMain.getProfile(
                                                                                          context: context,
                                                                                          heightValue: height / 17.32,
                                                                                          widthValue: width / 8.22,
                                                                                          myself: false,
                                                                                          avatar: mainVariables.valueMapListProfilePage[index].avatar,
                                                                                          isProfile: mainVariables
                                                                                              .valueMapListProfilePage[index].profileType,
                                                                                          userId:
                                                                                              mainVariables.valueMapListProfilePage[index].userId),
                                                                                      SizedBox(
                                                                                        width: width / 41.1,
                                                                                      ),
                                                                                      Expanded(
                                                                                        child: Column(
                                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                                          mainAxisAlignment: MainAxisAlignment.center,
                                                                                          children: [
                                                                                            InkWell(
                                                                                              onTap: () {
                                                                                                Navigator.push(context, MaterialPageRoute(
                                                                                                    builder: (BuildContext context) {
                                                                                                  return UserBillBoardProfilePage(
                                                                                                      userId: mainVariables
                                                                                                          .valueMapListProfilePage[index].userId);
                                                                                                }));
                                                                                              },
                                                                                              child: Text(
                                                                                                mainVariables.valueMapListProfilePage[index].username
                                                                                                    .toString()
                                                                                                    .capitalizeFirst!,
                                                                                                style: TextStyle(
                                                                                                    fontSize: text.scale(14),
                                                                                                    color: const Color(0XFF202020),
                                                                                                    fontWeight: FontWeight.w700,
                                                                                                    fontFamily: "Poppins"),
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Row(
                                                                                              children: [
                                                                                                Text(
                                                                                                  mainVariables
                                                                                                      .valueMapListProfilePage[index].createdAt,
                                                                                                  style: TextStyle(
                                                                                                      fontSize: text.scale(10),
                                                                                                      color: const Color(0XFF737373),
                                                                                                      fontWeight: FontWeight.w400,
                                                                                                      fontFamily: "Poppins"),
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  width: 3,
                                                                                                ),
                                                                                                Text(
                                                                                                  " | ",
                                                                                                  style: TextStyle(
                                                                                                    fontSize: text.scale(10),
                                                                                                    color: const Color(0XFF737373),
                                                                                                    fontWeight: FontWeight.w400,
                                                                                                  ),
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  width: 3,
                                                                                                ),
                                                                                                InkWell(
                                                                                                  onTap: () async {
                                                                                                    billboardWidgetsMain.believersTabBottomSheet(
                                                                                                      context: context,
                                                                                                      id: mainVariables
                                                                                                          .valueMapListProfilePage[index].userId,
                                                                                                      isBelieversList: true,
                                                                                                    );
                                                                                                  },
                                                                                                  child: Text(
                                                                                                    "${mainVariables.valueMapListProfilePage[index].believersCount} Believers",
                                                                                                    style: TextStyle(
                                                                                                        fontSize: text.scale(10),
                                                                                                        color: const Color(0XFF737373),
                                                                                                        fontWeight: FontWeight.w400,
                                                                                                        fontFamily: "Poppins"),
                                                                                                  ),
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                      billboardWidgetsMain.likeButtonHomeListWidget(
                                                                                        likeList: List.generate(
                                                                                            mainVariables.valueMapListProfilePage.length,
                                                                                            (ind) => mainVariables.valueMapListProfilePage[ind].like),
                                                                                        id: mainVariables.valueMapListProfilePage[index].postId,
                                                                                        index: index,
                                                                                        context: context,
                                                                                        initFunction: () {},
                                                                                        modelSetState: setState,
                                                                                        notUse: true,
                                                                                        dislikeList: List.generate(
                                                                                            mainVariables.valueMapListProfilePage.length,
                                                                                            (ind) =>
                                                                                                mainVariables.valueMapListProfilePage[ind].dislike),
                                                                                        likeCountList: List.generate(
                                                                                            mainVariables.valueMapListProfilePage.length,
                                                                                            (ind) => mainVariables
                                                                                                .valueMapListProfilePage[ind].likesCount),
                                                                                        dislikeCountList: List.generate(
                                                                                            mainVariables.valueMapListProfilePage.length,
                                                                                            (ind) => mainVariables
                                                                                                .valueMapListProfilePage[ind].disLikesCount),
                                                                                        type: mainVariables.valueMapListProfilePage[index].type,
                                                                                        billBoardType:
                                                                                            mainVariables.valueMapListProfilePage[index].type ==
                                                                                                    'survey'
                                                                                                ? 'survey'
                                                                                                : 'billboard',
                                                                                        image: mainVariables.valueMapListProfilePage[index].avatar,
                                                                                        title: mainVariables.valueMapListProfilePage[index].title,
                                                                                        description: "",
                                                                                        fromWhere: 'homePage',
                                                                                        responseId: '',
                                                                                        controller: TextEditingController(),
                                                                                        commentId: '',
                                                                                        postUserId:
                                                                                            mainVariables.valueMapListProfilePage[index].userId,
                                                                                        responseUserId: '',
                                                                                        responseFocusList: [],
                                                                                        valueMapList: mainVariables.valueMapListProfilePage,
                                                                                      ),
                                                                                      SizedBox(
                                                                                        width: width / 41.1,
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                  SizedBox(height: height / 64),
                                                                                  Padding(
                                                                                    padding: EdgeInsets.symmetric(horizontal: width / 51.375),
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                                      children: [
                                                                                        Text(
                                                                                          mainVariables.valueMapListProfilePage[index].companyName,
                                                                                          style: TextStyle(
                                                                                              fontSize: text.scale(10),
                                                                                              color: const Color(0xFF017FDB),
                                                                                              fontWeight: FontWeight.bold),
                                                                                        ),
                                                                                        InkWell(
                                                                                          onTap: () async {
                                                                                            billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                context: context,
                                                                                                billBoardId: mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                                responseId: "",
                                                                                                commentId: "",
                                                                                                billBoardType: mainVariables
                                                                                                            .valueMapListProfilePage[index].type ==
                                                                                                        "forums"
                                                                                                    ? "forums"
                                                                                                    : mainVariables.valueMapListProfilePage[index]
                                                                                                                .type ==
                                                                                                            "survey"
                                                                                                        ? "survey"
                                                                                                        : "billboard",
                                                                                                action: "views",
                                                                                                likeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].likesCount
                                                                                                    .toString(),
                                                                                                disLikeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].disLikesCount
                                                                                                    .toString(),
                                                                                                index: 0,
                                                                                                viewCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].viewsCount
                                                                                                    .toString(),
                                                                                                isViewIncluded: true);
                                                                                          },
                                                                                          child: Text(
                                                                                            " ${mainVariables.valueMapListProfilePage[index].viewsCount} views ",
                                                                                            style: TextStyle(fontSize: text.scale(10)),
                                                                                          ),
                                                                                        ),
                                                                                        InkWell(
                                                                                          onTap: () async {
                                                                                            billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                context: context,
                                                                                                billBoardId: mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                                responseId: "",
                                                                                                commentId: "",
                                                                                                billBoardType: mainVariables
                                                                                                            .valueMapListProfilePage[index].type ==
                                                                                                        "forums"
                                                                                                    ? "forums"
                                                                                                    : mainVariables.valueMapListProfilePage[index]
                                                                                                                .type ==
                                                                                                            "survey"
                                                                                                        ? "survey"
                                                                                                        : "billboard",
                                                                                                action: mainVariables
                                                                                                            .valueMapListProfilePage[index].type ==
                                                                                                        "forums"
                                                                                                    ? "liked"
                                                                                                    : "likes",
                                                                                                likeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].likesCount
                                                                                                    .toString(),
                                                                                                disLikeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].disLikesCount
                                                                                                    .toString(),
                                                                                                index: 1,
                                                                                                viewCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].viewsCount
                                                                                                    .toString(),
                                                                                                isViewIncluded: true);
                                                                                          },
                                                                                          child: Text(
                                                                                            " ${mainVariables.valueMapListProfilePage[index].likesCount} likes ",
                                                                                            style: TextStyle(fontSize: text.scale(10)),
                                                                                          ),
                                                                                        ),
                                                                                        InkWell(
                                                                                          onTap: () async {
                                                                                            billboardWidgetsMain.getLikeDislikeUsersList(
                                                                                                context: context,
                                                                                                billBoardId: mainVariables
                                                                                                    .valueMapListProfilePage[index].postId,
                                                                                                responseId: "",
                                                                                                commentId: "",
                                                                                                billBoardType: mainVariables
                                                                                                            .valueMapListProfilePage[index].type ==
                                                                                                        "forums"
                                                                                                    ? "forums"
                                                                                                    : mainVariables.valueMapListProfilePage[index]
                                                                                                                .type ==
                                                                                                            "survey"
                                                                                                        ? "survey"
                                                                                                        : "billboard",
                                                                                                action: mainVariables
                                                                                                            .valueMapListProfilePage[index].type ==
                                                                                                        "forums"
                                                                                                    ? "disliked"
                                                                                                    : "dislikes",
                                                                                                likeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].likesCount
                                                                                                    .toString(),
                                                                                                disLikeCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].disLikesCount
                                                                                                    .toString(),
                                                                                                index: 2,
                                                                                                viewCount: mainVariables
                                                                                                    .valueMapListProfilePage[index].viewsCount
                                                                                                    .toString(),
                                                                                                isViewIncluded: true);
                                                                                          },
                                                                                          child: Text(
                                                                                            " ${mainVariables.valueMapListProfilePage[index].disLikesCount} DisLikes ",
                                                                                            style: TextStyle(fontSize: text.scale(10)),
                                                                                          ),
                                                                                        ),
                                                                                        InkWell(
                                                                                          onTap: () async {
                                                                                            switch (
                                                                                                mainVariables.valueMapListProfilePage[index].type) {
                                                                                              case "blog":
                                                                                                {
                                                                                                  mainVariables.selectedBillboardIdMain.value =
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].postId;
                                                                                                  Navigator.push(
                                                                                                      context,
                                                                                                      MaterialPageRoute(
                                                                                                          builder: (BuildContext context) =>
                                                                                                              const BlogDescriptionPage()));
                                                                                                  break;
                                                                                                }
                                                                                              case "byte":
                                                                                                {
                                                                                                  mainVariables.selectedBillboardIdMain.value =
                                                                                                      mainVariables
                                                                                                          .valueMapListProfilePage[index].postId;
                                                                                                  Navigator.push(
                                                                                                      context,
                                                                                                      MaterialPageRoute(
                                                                                                          builder: (BuildContext context) =>
                                                                                                              const BytesDescriptionPage()));
                                                                                                  break;
                                                                                                }
                                                                                              case "forums":
                                                                                                {
                                                                                                  Navigator.push(
                                                                                                      context,
                                                                                                      MaterialPageRoute(
                                                                                                          builder: (BuildContext context) =>
                                                                                                              ForumPostDescriptionPage(
                                                                                                                  idList: List.generate(
                                                                                                                      mainVariables
                                                                                                                          .valueMapListProfilePage
                                                                                                                          .length,
                                                                                                                      (ind) => mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              ind]
                                                                                                                          .postId),
                                                                                                                  comeFrom: "billBoardHome",
                                                                                                                  forumId: mainVariables
                                                                                                                      .valueMapListProfilePage[index]
                                                                                                                      .postId)));
                                                                                                  break;
                                                                                                }
                                                                                              case "survey":
                                                                                                {
                                                                                                  String activeStatus = "";
                                                                                                  bool answerStatus = false;
                                                                                                  int answeredQuestion = 0;
                                                                                                  SharedPreferences prefs =
                                                                                                      await SharedPreferences.getInstance();
                                                                                                  String mainUserId =
                                                                                                      prefs.getString('newUserId') ?? "";
                                                                                                  String mainUserToken =
                                                                                                      prefs.getString('newUserToken') ?? "";
                                                                                                  var url = Uri.parse(
                                                                                                      baseurl + versionSurvey + surveyStatusCheck);
                                                                                                  var response = await http.post(url, headers: {
                                                                                                    'Authorization': mainUserToken
                                                                                                  }, body: {
                                                                                                    'survey_id': mainVariables
                                                                                                        .valueMapListProfilePage[index].postId,
                                                                                                  });
                                                                                                  var responseData = json.decode(response.body);
                                                                                                  if (responseData["status"]) {
                                                                                                    activeStatus = responseData["response"]["status"];
                                                                                                    if (activeStatus == "active") {
                                                                                                      var url = Uri.parse(
                                                                                                          baseurl + versionSurvey + checkAnswer);
                                                                                                      var response = await http.post(url, headers: {
                                                                                                        'Authorization': mainUserToken
                                                                                                      }, body: {
                                                                                                        'survey_id': mainVariables
                                                                                                            .valueMapListProfilePage[index].postId,
                                                                                                      });
                                                                                                      var responseData = json.decode(response.body);
                                                                                                      if (responseData["status"]) {
                                                                                                        answerStatus = responseData["response"][0]
                                                                                                            ["final_question"];
                                                                                                        answeredQuestion = responseData["response"][0]
                                                                                                            ["question_number"];
                                                                                                      } else {
                                                                                                        answerStatus = false;
                                                                                                        answeredQuestion = 0;
                                                                                                      }
                                                                                                    }
                                                                                                  }
                                                                                                  if (!mounted) {
                                                                                                    return;
                                                                                                  }
                                                                                                  mainUserId ==
                                                                                                          mainVariables
                                                                                                              .valueMapListProfilePage[index].userId
                                                                                                      ? Navigator.push(context, MaterialPageRoute(
                                                                                                          builder: (BuildContext context) {
                                                                                                          return AnalyticsPage(
                                                                                                            surveyId: mainVariables
                                                                                                                .valueMapListProfilePage[index]
                                                                                                                .postId,
                                                                                                            activity: false,
                                                                                                            surveyTitle: mainVariables
                                                                                                                .valueMapListProfilePage[index].title,
                                                                                                            navBool: false,
                                                                                                            fromWhere: 'similar',
                                                                                                          );
                                                                                                        }))
                                                                                                      : activeStatus == 'active'
                                                                                                          ? answerStatus
                                                                                                              ? Navigator.push(context,
                                                                                                                  MaterialPageRoute(builder:
                                                                                                                      (BuildContext context) {
                                                                                                                  return AnalyticsPage(
                                                                                                                      surveyId: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .postId,
                                                                                                                      activity: false,
                                                                                                                      navBool: false,
                                                                                                                      fromWhere: 'similar',
                                                                                                                      surveyTitle: mainVariables
                                                                                                                          .valueMapListProfilePage[
                                                                                                                              index]
                                                                                                                          .title);
                                                                                                                }))
                                                                                                              : Navigator.push(context,
                                                                                                                  MaterialPageRoute(builder:
                                                                                                                      (BuildContext context) {
                                                                                                                  return QuestionnairePage(
                                                                                                                    surveyId: mainVariables
                                                                                                                        .valueMapListProfilePage[
                                                                                                                            index]
                                                                                                                        .postId,
                                                                                                                    defaultIndex: answeredQuestion,
                                                                                                                  );
                                                                                                                }))
                                                                                                          : Navigator.push(context, MaterialPageRoute(
                                                                                                              builder: (BuildContext context) {
                                                                                                              return AnalyticsPage(
                                                                                                                surveyId: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .postId,
                                                                                                                activity: false,
                                                                                                                surveyTitle: mainVariables
                                                                                                                    .valueMapListProfilePage[index]
                                                                                                                    .title,
                                                                                                                navBool: false,
                                                                                                                fromWhere: 'similar',
                                                                                                              );
                                                                                                            }));
                                                                                                  break;
                                                                                                }
                                                                                              default:
                                                                                                {
                                                                                                  break;
                                                                                                }
                                                                                            }
                                                                                          },
                                                                                          child: Text(
                                                                                            " ${mainVariables.valueMapListProfilePage[index].responseCount} Responses ",
                                                                                            style: TextStyle(fontSize: text.scale(10)),
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(height: height / 42.6),
                                                                                ],
                                                                              ),
                                                                            )
                                                                          ],
                                                                        ),
                                                                      ),
                                                              ],
                                                            )
                                                          : GestureDetector(
                                                              onTap: () {
                                                                Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                  return UserBillBoardProfilePage(userId: idList[index])
                                                                      /*UserProfilePage(
                                          id: idList[index],
                                          type: 'forums',
                                          index: 0)*/
                                                                      ;
                                                                }));
                                                              },
                                                              child: Container(
                                                                width: width / 1.67,
                                                                margin: EdgeInsets.symmetric(vertical: height / 35, horizontal: width / 41.1),
                                                                // margin: EdgeInsets.symmetric(horizontal: 5),
                                                                padding: const EdgeInsets.symmetric(horizontal: 5, vertical: 10),
                                                                decoration: BoxDecoration(
                                                                    color: Theme.of(context).colorScheme.background,
                                                                    borderRadius: BorderRadius.circular(20),
                                                                    boxShadow: [
                                                                      BoxShadow(
                                                                        spreadRadius: 0.0,
                                                                        blurRadius: 4.0,
                                                                        color: Theme.of(context).colorScheme.onPrimary.withOpacity(0.3),
                                                                      ),
                                                                    ]),
                                                                child: Row(
                                                                  mainAxisAlignment: MainAxisAlignment.start,
                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                  children: [
                                                                    GestureDetector(
                                                                      onTap: () async {
                                                                        Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) {
                                                                          return UserBillBoardProfilePage(userId: idList[index])
                                                                              /*UserProfilePage(
                                                  id: idList[index],
                                                  type: 'forums',
                                                  index: 0)*/
                                                                              ;
                                                                        }));
                                                                      },
                                                                      child: Container(
                                                                        height: height / 13.53,
                                                                        width: width / 6.5,
                                                                        margin: const EdgeInsets.all(10),
                                                                        decoration: BoxDecoration(
                                                                            shape: BoxShape.circle,
                                                                            color: Colors.grey,
                                                                            image: DecorationImage(
                                                                                image: NetworkImage(
                                                                                  _bookMarkSeeAll
                                                                                      .response[index].avatarOnlyUsers /*forumImagesList[index]*/,
                                                                                ),
                                                                                fit: BoxFit.fill)),
                                                                      ),
                                                                    ),
                                                                    Column(
                                                                      mainAxisAlignment: MainAxisAlignment.start,
                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                      children: [
                                                                        SizedBox(
                                                                          width: width / 2.74,
                                                                          child: Text(
                                                                            "${_bookMarkSeeAll.response[index].firstnameOnlyUsers} ${_bookMarkSeeAll.response[index].lastnameOnlyUsers}" /*forumTitlesList[index]*/,
                                                                            style: TextStyle(
                                                                                fontSize: text.scale(14),
                                                                                color: const Color(0XFF1D1D1D),
                                                                                fontWeight: FontWeight.w600),
                                                                          ),
                                                                        ),
                                                                        const SizedBox(
                                                                          height: 5,
                                                                        ),
                                                                        Text(
                                                                          _bookMarkSeeAll.response[index].usernameOnlyUsers,
                                                                          //forumSourceNameList[index].toString().capitalizeFirst!,
                                                                          style: TextStyle(
                                                                              fontSize: text.scale(9),
                                                                              color: const Color(0XFFAFAFAF),
                                                                              fontWeight: FontWeight.w500),
                                                                        ),
                                                                        const SizedBox(
                                                                          height: 5,
                                                                        ),
                                                                        SizedBox(
                                                                          width: width / 2.74,
                                                                          child: Row(
                                                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                                            children: [
                                                                              GestureDetector(
                                                                                  onTap: () {
                                                                                    Navigator.push(context,
                                                                                        MaterialPageRoute(builder: (BuildContext context) {
                                                                                      return UserBillBoardProfilePage(userId: idList[index])
                                                                                          /*UserProfilePage(
                                                              id: idList[index],
                                                              type: 'forums',
                                                              index: 0)*/
                                                                                          ;
                                                                                    }));
                                                                                  },
                                                                                  child: Container(
                                                                                      height: height / 35.04,
                                                                                      width: width / 6.85,
                                                                                      decoration: BoxDecoration(
                                                                                          borderRadius: BorderRadius.circular(5),
                                                                                          color: const Color(0XFF0CA202)),
                                                                                      child: Center(
                                                                                          child: Text(
                                                                                        "Visit profile",
                                                                                        style: TextStyle(
                                                                                            fontSize: text.scale(9),
                                                                                            color: const Color(0XFFFFFFFF),
                                                                                            fontWeight: FontWeight.w600),
                                                                                      )))),
                                                                              Row(
                                                                                children: [
                                                                                  bookMarkWidget(
                                                                                      bookMark: bookMarkList,
                                                                                      context: context,
                                                                                      scale: 3.2,
                                                                                      id: idList[index],
                                                                                      type: 'users',
                                                                                      modelSetState: setState,
                                                                                      index: index,
                                                                                      initFunction: getAllData,
                                                                                      notUse: true),
                                                                                  SizedBox(
                                                                                    width: width / 27.4,
                                                                                  )
                                                                                ],
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    )
                                                                  ],
                                                                ),
                                                              ));
                                    })
                      ],
                    ),
                    SizedBox(
                      height: height / 54.75,
                    ),
                  ],
                ),
              ),
            )
          : Center(
              child: Lottie.asset('lib/Constants/Assets/SMLogos/loading.json', height: height / 8.76, width: width / 4.11),
            ),
    ));
  }
}
